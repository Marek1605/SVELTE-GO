const i="http://46.224.7.54:8080/api/v1",d=i;async function t(e,r={}){const c=d+e;try{const o=await fetch(c,{headers:{"Content-Type":"application/json",...r.headers},...r}),s=await o.json().catch(()=>null);return o.ok?s&&typeof s=="object"&&!("success"in s)?{success:!0,data:s}:s:(console.error("API Error:",e,o.status,s),{success:!1,error:(s==null?void 0:s.error)||"API request failed: "+o.status,status:o.status})}catch(o){return console.error("API Fetch Error:",e,o.message),{success:!1,error:o.message||"Network error",status:0}}}const a={getProducts:(e="")=>t("/products"+(e?"?"+e:"")),getProductBySlug:e=>t("/products/slug/"+e),getProductOffers:e=>t("/products/"+e+"/offers"),getCategories:()=>t("/categories"),getCategoriesTree:()=>t("/categories/tree"),getCategory:(e,r="")=>t("/categories/"+e+(r?"?"+r:"")),getCategoryFull:(e,r="")=>t("/categories/"+e+"/full"+(r?"?"+r:"")),getAttributeStats:()=>t("/attributes/stats"),getFilterSettings:()=>t("/filters"),saveFilterSettings:e=>t("/filters",{method:"POST",body:JSON.stringify(e)}),search:e=>t("/search?q="+encodeURIComponent(e)),getDashboard:()=>t("/admin/dashboard"),getFeeds:()=>t("/admin/feeds"),createFeed:e=>t("/admin/feeds",{method:"POST",body:JSON.stringify(e)}),startImport:e=>t("/admin/feeds/"+e+"/import",{method:"POST"}),getImportProgress:e=>t("/admin/feeds/"+e+"/progress")};function n(e){return e==null?"0,00 €":Number(e).toFixed(2).replace(".",",")+" €"}a.deleteAllCategories=()=>t("/admin/categories/all",{method:"DELETE"});a.deleteAllProducts=()=>t("/admin/products/all",{method:"DELETE"});a.get=e=>t(e);a.post=(e,r)=>t(e,{method:"POST",body:JSON.stringify(r)});a.put=(e,r)=>t(e,{method:"PUT",body:JSON.stringify(r)});a.delete=e=>t(e,{method:"DELETE"});export{a,n as f};
