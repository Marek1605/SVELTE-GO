import{s as Ll,n as Qe,d,i as F,b as l,y as ae,q as v,c as o,e as p,w as y,g as m,z as Bt,h as i,j as z,B as wl,G as Sl,r as Kt,a as $,D as be,H as nt,C as Ul,I as Mt,f as L,t as w,m as ht,J as il,F as Ml,K as Ut,x as rt}from"../chunks/62sxw8SM.js";import{e as He}from"../chunks/DldpiVGX.js";import{S as Bl,i as Rl}from"../chunks/CanS3UQf.js";import"../chunks/BSOId-2s.js";function fl(s,e,t){const a=s.slice();return a[48]=e[t],a}function cl(s,e,t){const a=s.slice();return a[57]=e[t],a}function ul(s,e,t){const a=s.slice();return a[51]=e[t],a[52]=e,a[53]=t,a}function vl(s,e,t){const a=s.slice();return a[54]=e[t],a}function dl(s,e,t){const a=s.slice();return a[60]=e[t],a}function _l(s,e,t){const a=s.slice();return a[51]=e[t][0],a[63]=e[t][1],a}function jl(s){let e,t=He(s[0]),a=[];for(let f=0;f<t.length;f+=1)a[f]=zl(dl(s,t,f));return{c(){e=i("div");for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=o(f,"DIV",{class:!0});var r=p(e);for(let n=0;n<a.length;n+=1)a[n].l(r);r.forEach(d),this.h()},h(){v(e,"class","feeds-grid svelte-za9ffz")},m(f,r){F(f,e,r);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(f,r){if(r[0]&180225){t=He(f[0]);let n;for(n=0;n<t.length;n+=1){const c=dl(f,t,n);a[n]?a[n].p(c,r):(a[n]=zl(c),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},d(f){f&&d(e),ht(a,f)}}}function Hl(s){let e,t,a="FEED",f,r,n="Žiadne feedy",c,_,u="Pridajte svoj prvý XML/CSV feed pre import produktov",b,h,g="+ Pridať feed",S,P;return{c(){e=i("div"),t=i("div"),t.textContent=a,f=z(),r=i("h3"),r.textContent=n,c=z(),_=i("p"),_.textContent=u,b=z(),h=i("button"),h.textContent=g,this.h()},l(U){e=o(U,"DIV",{class:!0});var D=p(e);t=o(D,"DIV",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-ikvz2m"&&(t.textContent=a),f=m(D),r=o(D,"H3",{class:!0,"data-svelte-h":!0}),y(r)!=="svelte-1ebrsv9"&&(r.textContent=n),c=m(D),_=o(D,"P",{"data-svelte-h":!0}),y(_)!=="svelte-is2lqy"&&(_.textContent=u),b=m(D),h=o(D,"BUTTON",{class:!0,"data-svelte-h":!0}),y(h)!=="svelte-wawpqk"&&(h.textContent=g),D.forEach(d),this.h()},h(){v(t,"class","empty-icon svelte-za9ffz"),v(r,"class","svelte-za9ffz"),v(h,"class","btn btn-primary svelte-za9ffz"),v(e,"class","empty-state svelte-za9ffz")},m(U,D){F(U,e,D),l(e,t),l(e,f),l(e,r),l(e,c),l(e,_),l(e,b),l(e,h),S||(P=ae(h,"click",s[22]),S=!0)},p:Qe,d(U){U&&d(e),S=!1,P()}}}function xl(s){let e,t="Načítavam...";return{c(){e=i("div"),e.textContent=t,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-kpnqif"&&(e.textContent=t),this.h()},h(){v(e,"class","loading svelte-za9ffz")},m(a,f){F(a,e,f)},p:Qe,d(a){a&&d(e)}}}function Fl(s){let e;return{c(){e=w("JSON")},l(t){e=L(t,"JSON")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function ql(s){let e;return{c(){e=w("CSV")},l(t){e=L(t,"CSV")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function Jl(s){let e;return{c(){e=w("XML")},l(t){e=L(t,"XML")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function hl(s){let e,t,a=Vl(s[60].last_import)+"",f;return{c(){e=i("div"),t=w("Posledný import: "),f=w(a),this.h()},l(r){e=o(r,"DIV",{class:!0});var n=p(e);t=L(n,"Posledný import: "),f=L(n,a),n.forEach(d),this.h()},h(){v(e,"class","feed-last-import svelte-za9ffz")},m(r,n){F(r,e,n),l(e,t),l(e,f)},p(r,n){n[0]&1&&a!==(a=Vl(r[60].last_import)+"")&&$(f,a)},d(r){r&&d(e)}}}function pl(s){let e,t,a="Mapovanie:",f,r=He(Object.entries(s[60].field_mapping).filter(Ol)),n=[];for(let c=0;c<r.length;c+=1)n[c]=ml(_l(s,r,c));return{c(){e=i("div"),t=i("strong"),t.textContent=a,f=z();for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=o(c,"DIV",{class:!0});var _=p(e);t=o(_,"STRONG",{"data-svelte-h":!0}),y(t)!=="svelte-1kkrzw"&&(t.textContent=a),f=m(_);for(let u=0;u<n.length;u+=1)n[u].l(_);_.forEach(d),this.h()},h(){v(e,"class","feed-mapping svelte-za9ffz")},m(c,_){F(c,e,_),l(e,t),l(e,f);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null)},p(c,_){if(_[0]&1){r=He(Object.entries(c[60].field_mapping).filter(Ol));let u;for(u=0;u<r.length;u+=1){const b=_l(c,r,u);n[u]?n[u].p(b,_):(n[u]=ml(b),n[u].c(),n[u].m(e,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}},d(c){c&&d(e),ht(n,c)}}}function ml(s){let e,t=s[51]+"",a,f,r=s[63]+"",n;return{c(){e=i("span"),a=w(t),f=w(" → "),n=w(r),this.h()},l(c){e=o(c,"SPAN",{class:!0});var _=p(e);a=L(_,t),f=L(_," → "),n=L(_,r),_.forEach(d),this.h()},h(){v(e,"class","mapping-tag svelte-za9ffz")},m(c,_){F(c,e,_),l(e,a),l(e,f),l(e,n)},p(c,_){_[0]&1&&t!==(t=c[51]+"")&&$(a,t),_[0]&1&&r!==(r=c[63]+"")&&$(n,r)},d(c){c&&d(e)}}}function zl(s){let e,t,a,f,r,n,c=s[60].name+"",_,u,b,h=s[60].type.toUpperCase()+"",g,S,P,U=s[60].is_active?"Aktívny":"Neaktívny",D,k,T,E=s[60].url+"",O,B,R,I,Z,G=(s[60].product_count||0)+"",J,ne,V,Ve="produktov",Ce,N,q,ee=(s[60].schedule||"manual")+"",W,te,K,Ee="plán",de,ue,Ue=s[60].field_mapping&&Object.keys(s[60].field_mapping).length>0,we,le,se,_e="Upraviť",me,ke,Oe="Importovať",ie,C,x="Zmazať",Q,ge,Pe;function qe(re,j){return re[60].type==="xml"?Jl:re[60].type==="csv"?ql:Fl}let oe=qe(s),he=oe(s),H=s[60].last_import&&hl(s),M=Ue&&pl(s);function A(){return s[23](s[60])}function fe(){return s[24](s[60])}function Y(){return s[25](s[60])}return{c(){e=i("div"),t=i("div"),a=i("div"),he.c(),f=z(),r=i("div"),n=i("h3"),_=w(c),u=z(),b=i("span"),g=w(h),S=z(),P=i("div"),D=w(U),k=z(),T=i("div"),O=w(E),B=z(),R=i("div"),I=i("div"),Z=i("span"),J=w(G),ne=z(),V=i("span"),V.textContent=Ve,Ce=z(),N=i("div"),q=i("span"),W=w(ee),te=z(),K=i("span"),K.textContent=Ee,de=z(),H&&H.c(),ue=z(),M&&M.c(),we=z(),le=i("div"),se=i("button"),se.textContent=_e,me=z(),ke=i("button"),ke.textContent=Oe,ie=z(),C=i("button"),C.textContent=x,Q=z(),this.h()},l(re){e=o(re,"DIV",{class:!0});var j=p(e);t=o(j,"DIV",{class:!0});var pe=p(t);a=o(pe,"DIV",{class:!0});var Re=p(a);he.l(Re),Re.forEach(d),f=m(pe),r=o(pe,"DIV",{class:!0});var xe=p(r);n=o(xe,"H3",{class:!0});var Xe=p(n);_=L(Xe,c),Xe.forEach(d),u=m(xe),b=o(xe,"SPAN",{class:!0});var ve=p(b);g=L(ve,h),ve.forEach(d),xe.forEach(d),S=m(pe),P=o(pe,"DIV",{class:!0});var Ae=p(P);D=L(Ae,U),Ae.forEach(d),pe.forEach(d),k=m(j),T=o(j,"DIV",{class:!0});var $e=p(T);O=L($e,E),$e.forEach(d),B=m(j),R=o(j,"DIV",{class:!0});var Me=p(R);I=o(Me,"DIV",{class:!0});var Ie=p(I);Z=o(Ie,"SPAN",{class:!0});var ze=p(Z);J=L(ze,G),ze.forEach(d),ne=m(Ie),V=o(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),y(V)!=="svelte-1roqoh8"&&(V.textContent=Ve),Ie.forEach(d),Ce=m(Me),N=o(Me,"DIV",{class:!0});var Le=p(N);q=o(Le,"SPAN",{class:!0});var Je=p(q);W=L(Je,ee),Je.forEach(d),te=m(Le),K=o(Le,"SPAN",{class:!0,"data-svelte-h":!0}),y(K)!=="svelte-lsosyv"&&(K.textContent=Ee),Le.forEach(d),Me.forEach(d),de=m(j),H&&H.l(j),ue=m(j),M&&M.l(j),we=m(j),le=o(j,"DIV",{class:!0});var Be=p(le);se=o(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),y(se)!=="svelte-n7qhap"&&(se.textContent=_e),me=m(Be),ke=o(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),y(ke)!=="svelte-1waywqp"&&(ke.textContent=Oe),ie=m(Be),C=o(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),y(C)!=="svelte-4qsap5"&&(C.textContent=x),Be.forEach(d),Q=m(j),j.forEach(d),this.h()},h(){v(a,"class","feed-icon svelte-za9ffz"),v(n,"class","svelte-za9ffz"),v(b,"class","feed-type svelte-za9ffz"),v(r,"class","feed-info svelte-za9ffz"),v(P,"class","feed-status svelte-za9ffz"),rt(P,"active",s[60].is_active),v(t,"class","feed-header svelte-za9ffz"),v(T,"class","feed-url svelte-za9ffz"),v(Z,"class","stat-value svelte-za9ffz"),v(V,"class","stat-label svelte-za9ffz"),v(I,"class","stat svelte-za9ffz"),v(q,"class","stat-value svelte-za9ffz"),v(K,"class","stat-label svelte-za9ffz"),v(N,"class","stat svelte-za9ffz"),v(R,"class","feed-stats svelte-za9ffz"),v(se,"class","btn btn-edit svelte-za9ffz"),v(ke,"class","btn btn-success svelte-za9ffz"),v(C,"class","btn btn-danger svelte-za9ffz"),v(le,"class","feed-actions svelte-za9ffz"),v(e,"class","feed-card svelte-za9ffz")},m(re,j){F(re,e,j),l(e,t),l(t,a),he.m(a,null),l(t,f),l(t,r),l(r,n),l(n,_),l(r,u),l(r,b),l(b,g),l(t,S),l(t,P),l(P,D),l(e,k),l(e,T),l(T,O),l(e,B),l(e,R),l(R,I),l(I,Z),l(Z,J),l(I,ne),l(I,V),l(R,Ce),l(R,N),l(N,q),l(q,W),l(N,te),l(N,K),l(e,de),H&&H.m(e,null),l(e,ue),M&&M.m(e,null),l(e,we),l(e,le),l(le,se),l(le,me),l(le,ke),l(le,ie),l(le,C),l(e,Q),ge||(Pe=[ae(se,"click",A),ae(ke,"click",fe),ae(C,"click",Y)],ge=!0)},p(re,j){s=re,oe!==(oe=qe(s))&&(he.d(1),he=oe(s),he&&(he.c(),he.m(a,null))),j[0]&1&&c!==(c=s[60].name+"")&&$(_,c),j[0]&1&&h!==(h=s[60].type.toUpperCase()+"")&&$(g,h),j[0]&1&&U!==(U=s[60].is_active?"Aktívny":"Neaktívny")&&$(D,U),j[0]&1&&rt(P,"active",s[60].is_active),j[0]&1&&E!==(E=s[60].url+"")&&$(O,E),j[0]&1&&G!==(G=(s[60].product_count||0)+"")&&$(J,G),j[0]&1&&ee!==(ee=(s[60].schedule||"manual")+"")&&$(W,ee),s[60].last_import?H?H.p(s,j):(H=hl(s),H.c(),H.m(e,ue)):H&&(H.d(1),H=null),j[0]&1&&(Ue=s[60].field_mapping&&Object.keys(s[60].field_mapping).length>0),Ue?M?M.p(s,j):(M=pl(s),M.c(),M.m(e,we)):M&&(M.d(1),M=null)},d(re){re&&d(e),he.d(),H&&H.d(),M&&M.d(),ge=!1,Kt(Pe)}}}function bl(s){let e,t,a,f,r=s[10]?"Upraviť feed":"Pridať nový feed",n,c,_,u="×",b,h,g,S,P,U="Názov feedu",D,k,T,E,O,B="Typ",R,I,Z,G="XML",J,ne="CSV",V,Ve="JSON",Ce,N,q,ee="URL feedu",W,te,K,Ee,de,ue=s[6]?"Načítavam...":"Načítať",Ue,we,le,se,_e,me,ke="Plán importu",Oe,ie,C,x="Manuálne",Q,ge="Každú hodinu",Pe,qe="Denne",oe,he="Týždenne",H,M,A,fe=" ",Y,re,j,pe,Re,xe="Aktívny feed",Xe,ve,Ae,$e="Nastavenia importu",Me,Ie,ze,Le,Je="Oddeľovač kategórií",Be,ye,je,ft="| (pipe)",Ze,Yt="> (väčší)",Ke,Wt="/  (lomka)",Ye,Qt="- (pomlčka)",Rt,ot,$t='Napr. "Elektronika | Mobily | iPhone"',jt,Ge,it,el="Automatický import",Ht,et,tt,xt,ct,tl="Alternatívne obrázky (IMGURL_ALTERNATIVE)",Ft,lt,st,qt,ut,ll="PARAM atribúty",Jt,zt,Gt,We,at,sl="Zrušiť",Xt,Zt,al,Te=s[5].type==="xml"&&kl(s),De=s[8]&&gl(s),Ne=s[7]&&Cl(s);function nl(X,ce){return X[10]?Ql:Wl}let bt=nl(s),Fe=bt(s);return{c(){e=i("div"),t=i("div"),a=i("div"),f=i("h2"),n=w(r),c=z(),_=i("button"),_.textContent=u,b=z(),h=i("div"),g=i("div"),S=i("div"),P=i("label"),P.textContent=U,D=z(),k=i("input"),T=z(),E=i("div"),O=i("label"),O.textContent=B,R=z(),I=i("select"),Z=i("option"),Z.textContent=G,J=i("option"),J.textContent=ne,V=i("option"),V.textContent=Ve,Ce=z(),N=i("div"),q=i("label"),q.textContent=ee,W=z(),te=i("div"),K=i("input"),Ee=z(),de=i("button"),Ue=w(ue),we=z(),Te&&Te.c(),le=z(),se=i("div"),_e=i("div"),me=i("label"),me.textContent=ke,Oe=z(),ie=i("select"),C=i("option"),C.textContent=x,Q=i("option"),Q.textContent=ge,Pe=i("option"),Pe.textContent=qe,oe=i("option"),oe.textContent=he,H=z(),M=i("div"),A=i("label"),A.textContent=fe,Y=z(),re=i("label"),j=i("input"),pe=z(),Re=i("span"),Re.textContent=xe,Xe=z(),ve=i("div"),Ae=i("h4"),Ae.textContent=$e,Me=z(),Ie=i("div"),ze=i("div"),Le=i("label"),Le.textContent=Je,Be=z(),ye=i("select"),je=i("option"),je.textContent=ft,Ze=i("option"),Ze.textContent=Yt,Ke=i("option"),Ke.textContent=Wt,Ye=i("option"),Ye.textContent=Qt,Rt=z(),ot=i("small"),ot.textContent=$t,jt=z(),Ge=i("div"),it=i("label"),it.textContent=el,Ht=z(),et=i("label"),tt=i("input"),xt=z(),ct=i("span"),ct.textContent=tl,Ft=z(),lt=i("label"),st=i("input"),qt=z(),ut=i("span"),ut.textContent=ll,Jt=z(),De&&De.c(),zt=z(),Ne&&Ne.c(),Gt=z(),We=i("div"),at=i("button"),at.textContent=sl,Xt=z(),Fe.c(),this.h()},l(X){e=o(X,"DIV",{class:!0});var ce=p(e);t=o(ce,"DIV",{class:!0});var vt=p(t);a=o(vt,"DIV",{class:!0});var kt=p(a);f=o(kt,"H2",{class:!0});var rl=p(f);n=L(rl,r),rl.forEach(d),c=m(kt),_=o(kt,"BUTTON",{class:!0,"data-svelte-h":!0}),y(_)!=="svelte-11vmafv"&&(_.textContent=u),kt.forEach(d),b=m(vt),h=o(vt,"DIV",{class:!0});var Se=p(h);g=o(Se,"DIV",{class:!0});var gt=p(g);S=o(gt,"DIV",{class:!0});var Ct=p(S);P=o(Ct,"LABEL",{class:!0,"data-svelte-h":!0}),y(P)!=="svelte-1lmizo3"&&(P.textContent=U),D=m(Ct),k=o(Ct,"INPUT",{type:!0,placeholder:!0,class:!0}),Ct.forEach(d),T=m(gt),E=o(gt,"DIV",{class:!0});var Et=p(E);O=o(Et,"LABEL",{class:!0,"data-svelte-h":!0}),y(O)!=="svelte-do7d4x"&&(O.textContent=B),R=m(Et),I=o(Et,"SELECT",{class:!0});var It=p(I);Z=o(It,"OPTION",{"data-svelte-h":!0}),y(Z)!=="svelte-1d9somo"&&(Z.textContent=G),J=o(It,"OPTION",{"data-svelte-h":!0}),y(J)!=="svelte-12id4vm"&&(J.textContent=ne),V=o(It,"OPTION",{"data-svelte-h":!0}),y(V)!=="svelte-1eaf7re"&&(V.textContent=Ve),It.forEach(d),Et.forEach(d),gt.forEach(d),Ce=m(Se),N=o(Se,"DIV",{class:!0});var yt=p(N);q=o(yt,"LABEL",{class:!0,"data-svelte-h":!0}),y(q)!=="svelte-138figu"&&(q.textContent=ee),W=m(yt),te=o(yt,"DIV",{class:!0});var Tt=p(te);K=o(Tt,"INPUT",{type:!0,placeholder:!0,class:!0}),Ee=m(Tt),de=o(Tt,"BUTTON",{class:!0});var ol=p(de);Ue=L(ol,ue),ol.forEach(d),Tt.forEach(d),yt.forEach(d),we=m(Se),Te&&Te.l(Se),le=m(Se),se=o(Se,"DIV",{class:!0});var Dt=p(se);_e=o(Dt,"DIV",{class:!0});var Nt=p(_e);me=o(Nt,"LABEL",{class:!0,"data-svelte-h":!0}),y(me)!=="svelte-1yw517p"&&(me.textContent=ke),Oe=m(Nt),ie=o(Nt,"SELECT",{class:!0});var pt=p(ie);C=o(pt,"OPTION",{"data-svelte-h":!0}),y(C)!=="svelte-ygr0l1"&&(C.textContent=x),Q=o(pt,"OPTION",{"data-svelte-h":!0}),y(Q)!=="svelte-ru36d8"&&(Q.textContent=ge),Pe=o(pt,"OPTION",{"data-svelte-h":!0}),y(Pe)!=="svelte-161uwud"&&(Pe.textContent=qe),oe=o(pt,"OPTION",{"data-svelte-h":!0}),y(oe)!=="svelte-1ecxggy"&&(oe.textContent=he),pt.forEach(d),Nt.forEach(d),H=m(Dt),M=o(Dt,"DIV",{class:!0});var Vt=p(M);A=o(Vt,"LABEL",{class:!0,"data-svelte-h":!0}),y(A)!=="svelte-1n9278y"&&(A.textContent=fe),Y=m(Vt),re=o(Vt,"LABEL",{class:!0});var Ot=p(re);j=o(Ot,"INPUT",{type:!0,class:!0}),pe=m(Ot),Re=o(Ot,"SPAN",{"data-svelte-h":!0}),y(Re)!=="svelte-1rwwdc0"&&(Re.textContent=xe),Ot.forEach(d),Vt.forEach(d),Dt.forEach(d),Xe=m(Se),ve=o(Se,"DIV",{class:!0});var Pt=p(ve);Ae=o(Pt,"H4",{class:!0,"data-svelte-h":!0}),y(Ae)!=="svelte-145govu"&&(Ae.textContent=$e),Me=m(Pt),Ie=o(Pt,"DIV",{class:!0});var At=p(Ie);ze=o(At,"DIV",{class:!0});var dt=p(ze);Le=o(dt,"LABEL",{class:!0,"data-svelte-h":!0}),y(Le)!=="svelte-5axize"&&(Le.textContent=Je),Be=m(dt),ye=o(dt,"SELECT",{class:!0});var mt=p(ye);je=o(mt,"OPTION",{"data-svelte-h":!0}),y(je)!=="svelte-v0tbdr"&&(je.textContent=ft),Ze=o(mt,"OPTION",{"data-svelte-h":!0}),y(Ze)!=="svelte-efj8l0"&&(Ze.textContent=Yt),Ke=o(mt,"OPTION",{"data-svelte-h":!0}),y(Ke)!=="svelte-qlypxt"&&(Ke.textContent=Wt),Ye=o(mt,"OPTION",{"data-svelte-h":!0}),y(Ye)!=="svelte-2z9dt2"&&(Ye.textContent=Qt),mt.forEach(d),Rt=m(dt),ot=o(dt,"SMALL",{class:!0,"data-svelte-h":!0}),y(ot)!=="svelte-1ejcqe3"&&(ot.textContent=$t),dt.forEach(d),jt=m(At),Ge=o(At,"DIV",{class:!0});var _t=p(Ge);it=o(_t,"LABEL",{class:!0,"data-svelte-h":!0}),y(it)!=="svelte-10prulo"&&(it.textContent=el),Ht=m(_t),et=o(_t,"LABEL",{class:!0});var Lt=p(et);tt=o(Lt,"INPUT",{type:!0,class:!0}),xt=m(Lt),ct=o(Lt,"SPAN",{"data-svelte-h":!0}),y(ct)!=="svelte-1l07tbs"&&(ct.textContent=tl),Lt.forEach(d),Ft=m(_t),lt=o(_t,"LABEL",{class:!0});var wt=p(lt);st=o(wt,"INPUT",{type:!0,class:!0}),qt=m(wt),ut=o(wt,"SPAN",{"data-svelte-h":!0}),y(ut)!=="svelte-k7n7e"&&(ut.textContent=ll),wt.forEach(d),_t.forEach(d),At.forEach(d),Pt.forEach(d),Jt=m(Se),De&&De.l(Se),zt=m(Se),Ne&&Ne.l(Se),Se.forEach(d),Gt=m(vt),We=o(vt,"DIV",{class:!0});var St=p(We);at=o(St,"BUTTON",{class:!0,"data-svelte-h":!0}),y(at)!=="svelte-1ntx0lk"&&(at.textContent=sl),Xt=m(St),Fe.l(St),St.forEach(d),vt.forEach(d),ce.forEach(d),this.h()},h(){v(f,"class","svelte-za9ffz"),v(_,"class","modal-close svelte-za9ffz"),v(a,"class","modal-header svelte-za9ffz"),v(P,"class","svelte-za9ffz"),v(k,"type","text"),v(k,"placeholder","Napr. Heureka XML"),v(k,"class","svelte-za9ffz"),v(S,"class","form-group svelte-za9ffz"),v(O,"class","svelte-za9ffz"),Z.__value="xml",be(Z,Z.__value),J.__value="csv",be(J,J.__value),V.__value="json",be(V,V.__value),v(I,"class","svelte-za9ffz"),s[5].type===void 0&&Mt(()=>s[28].call(I)),v(E,"class","form-group svelte-za9ffz"),v(g,"class","form-row svelte-za9ffz"),v(q,"class","svelte-za9ffz"),v(K,"type","url"),v(K,"placeholder","https://example.com/feed.xml"),v(K,"class","svelte-za9ffz"),v(de,"class","btn svelte-za9ffz"),de.disabled=s[6],v(te,"class","input-with-button svelte-za9ffz"),v(N,"class","form-group svelte-za9ffz"),v(me,"class","svelte-za9ffz"),C.__value="manual",be(C,C.__value),Q.__value="hourly",be(Q,Q.__value),Pe.__value="daily",be(Pe,Pe.__value),oe.__value="weekly",be(oe,oe.__value),v(ie,"class","svelte-za9ffz"),s[5].schedule===void 0&&Mt(()=>s[31].call(ie)),v(_e,"class","form-group svelte-za9ffz"),v(A,"class","svelte-za9ffz"),v(j,"type","checkbox"),v(j,"class","svelte-za9ffz"),v(re,"class","checkbox-label svelte-za9ffz"),v(M,"class","form-group svelte-za9ffz"),v(se,"class","form-row svelte-za9ffz"),v(Ae,"class","svelte-za9ffz"),v(Le,"class","svelte-za9ffz"),je.__value="|",be(je,je.__value),Ze.__value=">",be(Ze,Ze.__value),Ke.__value="/",be(Ke,Ke.__value),Ye.__value="-",be(Ye,Ye.__value),v(ye,"class","svelte-za9ffz"),s[5].category_separator===void 0&&Mt(()=>s[33].call(ye)),v(ot,"class","svelte-za9ffz"),v(ze,"class","form-group svelte-za9ffz"),v(it,"class","svelte-za9ffz"),v(tt,"type","checkbox"),v(tt,"class","svelte-za9ffz"),v(et,"class","checkbox-label svelte-za9ffz"),v(st,"type","checkbox"),v(st,"class","svelte-za9ffz"),v(lt,"class","checkbox-label svelte-za9ffz"),v(Ge,"class","form-group svelte-za9ffz"),v(Ie,"class","form-row svelte-za9ffz"),v(ve,"class","settings-section svelte-za9ffz"),v(h,"class","modal-body svelte-za9ffz"),v(at,"class","btn svelte-za9ffz"),v(We,"class","modal-footer svelte-za9ffz"),v(t,"class","modal modal-lg svelte-za9ffz"),v(e,"class","modal-overlay svelte-za9ffz")},m(X,ce){F(X,e,ce),l(e,t),l(t,a),l(a,f),l(f,n),l(a,c),l(a,_),l(t,b),l(t,h),l(h,g),l(g,S),l(S,P),l(S,D),l(S,k),be(k,s[5].name),l(g,T),l(g,E),l(E,O),l(E,R),l(E,I),l(I,Z),l(I,J),l(I,V),nt(I,s[5].type,!0),l(h,Ce),l(h,N),l(N,q),l(N,W),l(N,te),l(te,K),be(K,s[5].url),l(te,Ee),l(te,de),l(de,Ue),l(h,we),Te&&Te.m(h,null),l(h,le),l(h,se),l(se,_e),l(_e,me),l(_e,Oe),l(_e,ie),l(ie,C),l(ie,Q),l(ie,Pe),l(ie,oe),nt(ie,s[5].schedule,!0),l(se,H),l(se,M),l(M,A),l(M,Y),l(M,re),l(re,j),j.checked=s[5].is_active,l(re,pe),l(re,Re),l(h,Xe),l(h,ve),l(ve,Ae),l(ve,Me),l(ve,Ie),l(Ie,ze),l(ze,Le),l(ze,Be),l(ze,ye),l(ye,je),l(ye,Ze),l(ye,Ke),l(ye,Ye),nt(ye,s[5].category_separator,!0),l(ze,Rt),l(ze,ot),l(Ie,jt),l(Ie,Ge),l(Ge,it),l(Ge,Ht),l(Ge,et),l(et,tt),tt.checked=s[5].import_alt_images,l(et,xt),l(et,ct),l(Ge,Ft),l(Ge,lt),l(lt,st),st.checked=s[5].import_params,l(lt,qt),l(lt,ut),l(h,Jt),De&&De.m(h,null),l(h,zt),Ne&&Ne.m(h,null),l(t,Gt),l(t,We),l(We,at),l(We,Xt),Fe.m(We,null),Zt||(al=[ae(_,"click",s[26]),ae(k,"input",s[27]),ae(I,"change",s[28]),ae(K,"input",s[29]),ae(de,"click",s[12]),ae(ie,"change",s[31]),ae(j,"change",s[32]),ae(ye,"change",s[33]),ae(tt,"change",s[34]),ae(st,"change",s[35]),ae(at,"click",s[40]),ae(t,"click",Ul(s[20])),ae(e,"click",s[41])],Zt=!0)},p(X,ce){ce[0]&1024&&r!==(r=X[10]?"Upraviť feed":"Pridať nový feed")&&$(n,r),ce[0]&32&&k.value!==X[5].name&&be(k,X[5].name),ce[0]&32&&nt(I,X[5].type),ce[0]&32&&K.value!==X[5].url&&be(K,X[5].url),ce[0]&64&&ue!==(ue=X[6]?"Načítavam...":"Načítať")&&$(Ue,ue),ce[0]&64&&(de.disabled=X[6]),X[5].type==="xml"?Te?Te.p(X,ce):(Te=kl(X),Te.c(),Te.m(h,le)):Te&&(Te.d(1),Te=null),ce[0]&32&&nt(ie,X[5].schedule),ce[0]&32&&(j.checked=X[5].is_active),ce[0]&32&&nt(ye,X[5].category_separator),ce[0]&32&&(tt.checked=X[5].import_alt_images),ce[0]&32&&(st.checked=X[5].import_params),X[8]?De?De.p(X,ce):(De=gl(X),De.c(),De.m(h,zt)):De&&(De.d(1),De=null),X[7]?Ne?Ne.p(X,ce):(Ne=Cl(X),Ne.c(),Ne.m(h,null)):Ne&&(Ne.d(1),Ne=null),bt===(bt=nl(X))&&Fe?Fe.p(X,ce):(Fe.d(1),Fe=bt(X),Fe&&(Fe.c(),Fe.m(We,null)))},d(X){X&&d(e),Te&&Te.d(),De&&De.d(),Ne&&Ne.d(),Fe.d(),Zt=!1,Kt(al)}}}function kl(s){let e,t,a="XML element produktu",f,r,n,c,_="Štandardne SHOPITEM pre Heureka feedy",u,b;return{c(){e=i("div"),t=i("label"),t.textContent=a,f=z(),r=i("input"),n=z(),c=i("small"),c.textContent=_,this.h()},l(h){e=o(h,"DIV",{class:!0});var g=p(e);t=o(g,"LABEL",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-j1eucn"&&(t.textContent=a),f=m(g),r=o(g,"INPUT",{type:!0,placeholder:!0,class:!0}),n=m(g),c=o(g,"SMALL",{class:!0,"data-svelte-h":!0}),y(c)!=="svelte-w6k1l"&&(c.textContent=_),g.forEach(d),this.h()},h(){v(t,"class","svelte-za9ffz"),v(r,"type","text"),v(r,"placeholder","SHOPITEM"),v(r,"class","svelte-za9ffz"),v(c,"class","svelte-za9ffz"),v(e,"class","form-group svelte-za9ffz")},m(h,g){F(h,e,g),l(e,t),l(e,f),l(e,r),be(r,s[5].xml_item_path),l(e,n),l(e,c),u||(b=ae(r,"input",s[30]),u=!0)},p(h,g){g[0]&32&&r.value!==h[5].xml_item_path&&be(r,h[5].xml_item_path)},d(h){h&&d(e),u=!1,b()}}}function gl(s){let e,t;return{c(){e=i("div"),t=w(s[8]),this.h()},l(a){e=o(a,"DIV",{class:!0});var f=p(e);t=L(f,s[8]),f.forEach(d),this.h()},h(){v(e,"class","alert alert-error svelte-za9ffz")},m(a,f){F(a,e,f),l(e,t)},p(a,f){f[0]&256&&$(t,a[8])},d(a){a&&d(e)}}}function Cl(s){var Ve,Ce;let e,t,a,f,r=(((Ve=s[7].fields)==null?void 0:Ve.length)||0)+"",n,c,_,u,b,h=(((Ce=s[7].attributes)==null?void 0:Ce.length)||0)+"",g,S,P,U,D="Ukážka",k,T,E=(s[7].total_items||0)+"",O,B,R,I,Z,G;function J(N,q){if(N[9]==="fields")return Zl;if(N[9]==="attributes")return Xl;if(N[9]==="sample")return Gl}let ne=J(s),V=ne&&ne(s);return{c(){e=i("div"),t=i("div"),a=i("button"),f=w("Polia ("),n=w(r),c=w(")"),_=z(),u=i("button"),b=w("Atribúty ("),g=w(h),S=w(")"),P=z(),U=i("button"),U.textContent=D,k=z(),T=i("span"),O=w(E),B=w(" položiek"),R=z(),I=i("div"),V&&V.c(),this.h()},l(N){e=o(N,"DIV",{class:!0});var q=p(e);t=o(q,"DIV",{class:!0});var ee=p(t);a=o(ee,"BUTTON",{class:!0});var W=p(a);f=L(W,"Polia ("),n=L(W,r),c=L(W,")"),W.forEach(d),_=m(ee),u=o(ee,"BUTTON",{class:!0});var te=p(u);b=L(te,"Atribúty ("),g=L(te,h),S=L(te,")"),te.forEach(d),P=m(ee),U=o(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),y(U)!=="svelte-18jokz5"&&(U.textContent=D),k=m(ee),T=o(ee,"SPAN",{class:!0});var K=p(T);O=L(K,E),B=L(K," položiek"),K.forEach(d),ee.forEach(d),R=m(q),I=o(q,"DIV",{class:!0});var Ee=p(I);V&&V.l(Ee),Ee.forEach(d),q.forEach(d),this.h()},h(){v(a,"class","preview-tab svelte-za9ffz"),rt(a,"active",s[9]==="fields"),v(u,"class","preview-tab svelte-za9ffz"),rt(u,"active",s[9]==="attributes"),v(U,"class","preview-tab svelte-za9ffz"),rt(U,"active",s[9]==="sample"),v(T,"class","preview-count svelte-za9ffz"),v(t,"class","preview-tabs svelte-za9ffz"),v(I,"class","preview-content svelte-za9ffz"),v(e,"class","preview-section svelte-za9ffz")},m(N,q){F(N,e,q),l(e,t),l(t,a),l(a,f),l(a,n),l(a,c),l(t,_),l(t,u),l(u,b),l(u,g),l(u,S),l(t,P),l(t,U),l(t,k),l(t,T),l(T,O),l(T,B),l(e,R),l(e,I),V&&V.m(I,null),Z||(G=[ae(a,"click",s[36]),ae(u,"click",s[37]),ae(U,"click",s[38])],Z=!0)},p(N,q){var ee,W;q[0]&128&&r!==(r=(((ee=N[7].fields)==null?void 0:ee.length)||0)+"")&&$(n,r),q[0]&512&&rt(a,"active",N[9]==="fields"),q[0]&128&&h!==(h=(((W=N[7].attributes)==null?void 0:W.length)||0)+"")&&$(g,h),q[0]&512&&rt(u,"active",N[9]==="attributes"),q[0]&512&&rt(U,"active",N[9]==="sample"),q[0]&128&&E!==(E=(N[7].total_items||0)+"")&&$(O,E),ne===(ne=J(N))&&V?V.p(N,q):(V&&V.d(1),V=ne&&ne(N),V&&(V.c(),V.m(I,null)))},d(N){N&&d(e),V&&V.d(),Z=!1,Kt(G)}}}function Gl(s){var r;let e,t,a=JSON.stringify(((r=s[7].sample)==null?void 0:r[0])||{},null,2)+"",f;return{c(){e=i("div"),t=i("pre"),f=w(a),this.h()},l(n){e=o(n,"DIV",{class:!0});var c=p(e);t=o(c,"PRE",{class:!0});var _=p(t);f=L(_,a),_.forEach(d),c.forEach(d),this.h()},h(){v(t,"class","svelte-za9ffz"),v(e,"class","sample-data svelte-za9ffz")},m(n,c){F(n,e,c),l(e,t),l(t,f)},p(n,c){var _;c[0]&128&&a!==(a=JSON.stringify(((_=n[7].sample)==null?void 0:_[0])||{},null,2)+"")&&$(f,a)},d(n){n&&d(e)}}}function Xl(s){let e;function t(r,n){var c;return((c=r[7].attributes)==null?void 0:c.length)>0?Yl:Kl}let a=t(s),f=a(s);return{c(){f.c(),e=Bt()},l(r){f.l(r),e=Bt()},m(r,n){f.m(r,n),F(r,e,n)},p(r,n){a===(a=t(r))&&f?f.p(r,n):(f.d(1),f=a(r),f&&(f.c(),f.m(e.parentNode,e)))},d(r){r&&d(e),f.d(r)}}}function Zl(s){let e,t,a='<tr><th class="svelte-za9ffz">Pole z feedu</th> <th class="svelte-za9ffz">Ukážka</th> <th class="svelte-za9ffz">Mapovať na</th></tr>',f,r,n=He((s[7].fields||[]).filter(Pl)),c=[];for(let _=0;_<n.length;_+=1)c[_]=yl(ul(s,n,_));return{c(){e=i("table"),t=i("thead"),t.innerHTML=a,f=z(),r=i("tbody");for(let _=0;_<c.length;_+=1)c[_].c();this.h()},l(_){e=o(_,"TABLE",{class:!0});var u=p(e);t=o(u,"THEAD",{"data-svelte-h":!0}),y(t)!=="svelte-1sl4bru"&&(t.innerHTML=a),f=m(u),r=o(u,"TBODY",{});var b=p(r);for(let h=0;h<c.length;h+=1)c[h].l(b);b.forEach(d),u.forEach(d),this.h()},h(){v(e,"class","mapping-table svelte-za9ffz")},m(_,u){F(_,e,u),l(e,t),l(e,f),l(e,r);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(r,null)},p(_,u){if(u[0]&2208){n=He((_[7].fields||[]).filter(Pl));let b;for(b=0;b<n.length;b+=1){const h=ul(_,n,b);c[b]?c[b].p(h,u):(c[b]=yl(h),c[b].c(),c[b].m(r,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=n.length}},d(_){_&&d(e),ht(c,_)}}}function Kl(s){let e,t="Žiadne PARAM atribúty";return{c(){e=i("div"),e.textContent=t,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-1yjtn7p"&&(e.textContent=t),this.h()},h(){v(e,"class","empty-preview svelte-za9ffz")},m(a,f){F(a,e,f)},p:Qe,d(a){a&&d(e)}}}function Yl(s){let e,t="PARAM atribúty nájdené vo feede (budú automaticky importované):",a,f,r=He(s[7].attributes.sort(Al)),n=[];for(let c=0;c<r.length;c+=1)n[c]=El(cl(s,r,c));return{c(){e=i("p"),e.textContent=t,a=z(),f=i("div");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=o(c,"P",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-c86yah"&&(e.textContent=t),a=m(c),f=o(c,"DIV",{class:!0});var _=p(f);for(let u=0;u<n.length;u+=1)n[u].l(_);_.forEach(d),this.h()},h(){v(e,"class","info-text svelte-za9ffz"),v(f,"class","attr-grid svelte-za9ffz")},m(c,_){F(c,e,_),F(c,a,_),F(c,f,_);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(f,null)},p(c,_){if(_[0]&128){r=He(c[7].attributes.sort(Al));let u;for(u=0;u<r.length;u+=1){const b=cl(c,r,u);n[u]?n[u].p(b,_):(n[u]=El(b),n[u].c(),n[u].m(f,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}},d(c){c&&(d(e),d(a),d(f)),ht(n,c)}}}function El(s){let e,t,a=s[57].name+"",f,r,n,c=s[57].count+"",_,u,b;return{c(){e=i("div"),t=i("span"),f=w(a),r=z(),n=i("span"),_=w(c),u=w("×"),b=z(),this.h()},l(h){e=o(h,"DIV",{class:!0});var g=p(e);t=o(g,"SPAN",{class:!0});var S=p(t);f=L(S,a),S.forEach(d),r=m(g),n=o(g,"SPAN",{class:!0});var P=p(n);_=L(P,c),u=L(P,"×"),P.forEach(d),b=m(g),g.forEach(d),this.h()},h(){v(t,"class","attr-name svelte-za9ffz"),v(n,"class","attr-count svelte-za9ffz"),v(e,"class","attr-item svelte-za9ffz")},m(h,g){F(h,e,g),l(e,t),l(t,f),l(e,r),l(e,n),l(n,_),l(n,u),l(e,b)},p(h,g){g[0]&128&&a!==(a=h[57].name+"")&&$(f,a),g[0]&128&&c!==(c=h[57].count+"")&&$(_,c)},d(h){h&&d(e)}}}function Il(s){let e,t=s[54].label+"",a;return{c(){e=i("option"),a=w(t),this.h()},l(f){e=o(f,"OPTION",{});var r=p(e);a=L(r,t),r.forEach(d),this.h()},h(){e.__value=s[54].value,be(e,e.__value)},m(f,r){F(f,e,r),l(e,a)},p:Qe,d(f){f&&d(e)}}}function yl(s){var E,O;let e,t,a,f=s[51]+"",r,n,c,_=String(((O=(E=s[7].sample)==null?void 0:E[0])==null?void 0:O[s[51]])||"-").substring(0,80)+"",u,b,h,g,S,P,U,D=He(s[11]),k=[];for(let B=0;B<D.length;B+=1)k[B]=Il(vl(s,D,B));function T(){s[39].call(g,s[51])}return{c(){e=i("tr"),t=i("td"),a=i("strong"),r=w(f),n=z(),c=i("td"),u=w(_),b=z(),h=i("td"),g=i("select");for(let B=0;B<k.length;B+=1)k[B].c();S=z(),this.h()},l(B){e=o(B,"TR",{});var R=p(e);t=o(R,"TD",{class:!0});var I=p(t);a=o(I,"STRONG",{});var Z=p(a);r=L(Z,f),Z.forEach(d),I.forEach(d),n=m(R),c=o(R,"TD",{class:!0});var G=p(c);u=L(G,_),G.forEach(d),b=m(R),h=o(R,"TD",{class:!0});var J=p(h);g=o(J,"SELECT",{class:!0});var ne=p(g);for(let V=0;V<k.length;V+=1)k[V].l(ne);ne.forEach(d),J.forEach(d),S=m(R),R.forEach(d),this.h()},h(){v(t,"class","svelte-za9ffz"),v(c,"class","sample-cell svelte-za9ffz"),v(g,"class","mapping-select svelte-za9ffz"),s[5].field_mapping[s[51]]===void 0&&Mt(T),v(h,"class","svelte-za9ffz")},m(B,R){F(B,e,R),l(e,t),l(t,a),l(a,r),l(e,n),l(e,c),l(c,u),l(e,b),l(e,h),l(h,g);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(g,null);nt(g,s[5].field_mapping[s[51]],!0),l(e,S),P||(U=ae(g,"change",T),P=!0)},p(B,R){var I,Z;if(s=B,R[0]&128&&f!==(f=s[51]+"")&&$(r,f),R[0]&128&&_!==(_=String(((Z=(I=s[7].sample)==null?void 0:I[0])==null?void 0:Z[s[51]])||"-").substring(0,80)+"")&&$(u,_),R[0]&2048){D=He(s[11]);let G;for(G=0;G<D.length;G+=1){const J=vl(s,D,G);k[G]?k[G].p(J,R):(k[G]=Il(J),k[G].c(),k[G].m(g,null))}for(;G<k.length;G+=1)k[G].d(1);k.length=D.length}R[0]&2208&&nt(g,s[5].field_mapping[s[51]])},d(B){B&&d(e),ht(k,B),P=!1,U()}}}function Wl(s){let e,t="Uložiť feed",a,f;return{c(){e=i("button"),e.textContent=t,this.h()},l(r){e=o(r,"BUTTON",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-11w2hmr"&&(e.textContent=t),this.h()},h(){v(e,"class","btn btn-primary svelte-za9ffz")},m(r,n){F(r,e,n),a||(f=ae(e,"click",s[13]),a=!0)},p:Qe,d(r){r&&d(e),a=!1,f()}}}function Ql(s){let e,t="Uložiť zmeny",a,f;return{c(){e=i("button"),e.textContent=t,this.h()},l(r){e=o(r,"BUTTON",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-13zuu7e"&&(e.textContent=t),this.h()},h(){v(e,"class","btn btn-primary svelte-za9ffz")},m(r,n){F(r,e,n),a||(f=ae(e,"click",s[18]),a=!0)},p:Qe,d(r){r&&d(e),a=!1,f()}}}function Tl(s){let e,t,a,f,r,n,c,_,u=s[4].percent+"",b,h,g,S,P=s[4].message+"",U,D,k,T,E,O=s[4].total+"",B,R,I,Z="Celkom",G,J,ne,V=s[4].created+"",Ve,Ce,N,q="Vytvorené",ee,W,te,K=s[4].updated+"",Ee,de,ue,Ue="Aktualizované",we,le,se,_e=s[4].errors+"",me,ke,Oe,ie="Chyby",C,x,Q,ge;function Pe(A,fe){return A[4].status==="completed"?ts:A[4].status==="error"?es:$l}let qe=Pe(s),oe=qe(s),he=He((s[4].logs||[]).slice(-15)),H=[];for(let A=0;A<he.length;A+=1)H[A]=Dl(fl(s,he,A));let M=(s[4].status==="completed"||s[4].status==="error")&&Nl(s);return{c(){e=i("div"),t=i("div"),a=i("div"),f=i("h2"),oe.c(),r=z(),n=i("div"),c=i("div"),_=i("div"),b=w(u),h=w("%"),g=z(),S=i("p"),U=w(P),D=z(),k=i("div"),T=i("div"),E=i("div"),B=w(O),R=z(),I=i("div"),I.textContent=Z,G=z(),J=i("div"),ne=i("div"),Ve=w(V),Ce=z(),N=i("div"),N.textContent=q,ee=z(),W=i("div"),te=i("div"),Ee=w(K),de=z(),ue=i("div"),ue.textContent=Ue,we=z(),le=i("div"),se=i("div"),me=w(_e),ke=z(),Oe=i("div"),Oe.textContent=ie,C=z(),x=i("div");for(let A=0;A<H.length;A+=1)H[A].c();Q=z(),ge=i("div"),M&&M.c(),this.h()},l(A){e=o(A,"DIV",{class:!0});var fe=p(e);t=o(fe,"DIV",{class:!0});var Y=p(t);a=o(Y,"DIV",{class:!0});var re=p(a);f=o(re,"H2",{class:!0});var j=p(f);oe.l(j),j.forEach(d),re.forEach(d),r=m(Y),n=o(Y,"DIV",{class:!0});var pe=p(n);c=o(pe,"DIV",{class:!0});var Re=p(c);_=o(Re,"DIV",{class:!0,style:!0});var xe=p(_);b=L(xe,u),h=L(xe,"%"),xe.forEach(d),Re.forEach(d),g=m(pe),S=o(pe,"P",{class:!0});var Xe=p(S);U=L(Xe,P),Xe.forEach(d),D=m(pe),k=o(pe,"DIV",{class:!0});var ve=p(k);T=o(ve,"DIV",{class:!0});var Ae=p(T);E=o(Ae,"DIV",{class:!0});var $e=p(E);B=L($e,O),$e.forEach(d),R=m(Ae),I=o(Ae,"DIV",{class:!0,"data-svelte-h":!0}),y(I)!=="svelte-ihiec7"&&(I.textContent=Z),Ae.forEach(d),G=m(ve),J=o(ve,"DIV",{class:!0});var Me=p(J);ne=o(Me,"DIV",{class:!0});var Ie=p(ne);Ve=L(Ie,V),Ie.forEach(d),Ce=m(Me),N=o(Me,"DIV",{class:!0,"data-svelte-h":!0}),y(N)!=="svelte-1i99euo"&&(N.textContent=q),Me.forEach(d),ee=m(ve),W=o(ve,"DIV",{class:!0});var ze=p(W);te=o(ze,"DIV",{class:!0});var Le=p(te);Ee=L(Le,K),Le.forEach(d),de=m(ze),ue=o(ze,"DIV",{class:!0,"data-svelte-h":!0}),y(ue)!=="svelte-ta2nfq"&&(ue.textContent=Ue),ze.forEach(d),we=m(ve),le=o(ve,"DIV",{class:!0});var Je=p(le);se=o(Je,"DIV",{class:!0});var Be=p(se);me=L(Be,_e),Be.forEach(d),ke=m(Je),Oe=o(Je,"DIV",{class:!0,"data-svelte-h":!0}),y(Oe)!=="svelte-wjv245"&&(Oe.textContent=ie),Je.forEach(d),ve.forEach(d),C=m(pe),x=o(pe,"DIV",{class:!0});var ye=p(x);for(let ft=0;ft<H.length;ft+=1)H[ft].l(ye);ye.forEach(d),pe.forEach(d),Q=m(Y),ge=o(Y,"DIV",{class:!0});var je=p(ge);M&&M.l(je),je.forEach(d),Y.forEach(d),fe.forEach(d),this.h()},h(){v(f,"class","svelte-za9ffz"),v(a,"class","modal-header svelte-za9ffz"),v(_,"class","progress-fill svelte-za9ffz"),il(_,"width",s[4].percent+"%"),v(c,"class","progress-bar svelte-za9ffz"),v(S,"class","progress-message svelte-za9ffz"),v(E,"class","stat-value svelte-za9ffz"),v(I,"class","stat-label svelte-za9ffz"),v(T,"class","progress-stat svelte-za9ffz"),v(ne,"class","stat-value text-green svelte-za9ffz"),v(N,"class","stat-label svelte-za9ffz"),v(J,"class","progress-stat svelte-za9ffz"),v(te,"class","stat-value text-blue svelte-za9ffz"),v(ue,"class","stat-label svelte-za9ffz"),v(W,"class","progress-stat svelte-za9ffz"),v(se,"class","stat-value text-red svelte-za9ffz"),v(Oe,"class","stat-label svelte-za9ffz"),v(le,"class","progress-stat svelte-za9ffz"),v(k,"class","progress-stats svelte-za9ffz"),v(x,"class","progress-logs svelte-za9ffz"),v(n,"class","modal-body svelte-za9ffz"),v(ge,"class","modal-footer svelte-za9ffz"),v(t,"class","modal svelte-za9ffz"),v(e,"class","modal-overlay svelte-za9ffz")},m(A,fe){F(A,e,fe),l(e,t),l(t,a),l(a,f),oe.m(f,null),l(t,r),l(t,n),l(n,c),l(c,_),l(_,b),l(_,h),l(n,g),l(n,S),l(S,U),l(n,D),l(n,k),l(k,T),l(T,E),l(E,B),l(T,R),l(T,I),l(k,G),l(k,J),l(J,ne),l(ne,Ve),l(J,Ce),l(J,N),l(k,ee),l(k,W),l(W,te),l(te,Ee),l(W,de),l(W,ue),l(k,we),l(k,le),l(le,se),l(se,me),l(le,ke),l(le,Oe),l(n,C),l(n,x);for(let Y=0;Y<H.length;Y+=1)H[Y]&&H[Y].m(x,null);l(t,Q),l(t,ge),M&&M.m(ge,null)},p(A,fe){if(qe!==(qe=Pe(A))&&(oe.d(1),oe=qe(A),oe&&(oe.c(),oe.m(f,null))),fe[0]&16&&u!==(u=A[4].percent+"")&&$(b,u),fe[0]&16&&il(_,"width",A[4].percent+"%"),fe[0]&16&&P!==(P=A[4].message+"")&&$(U,P),fe[0]&16&&O!==(O=A[4].total+"")&&$(B,O),fe[0]&16&&V!==(V=A[4].created+"")&&$(Ve,V),fe[0]&16&&K!==(K=A[4].updated+"")&&$(Ee,K),fe[0]&16&&_e!==(_e=A[4].errors+"")&&$(me,_e),fe[0]&16){he=He((A[4].logs||[]).slice(-15));let Y;for(Y=0;Y<he.length;Y+=1){const re=fl(A,he,Y);H[Y]?H[Y].p(re,fe):(H[Y]=Dl(re),H[Y].c(),H[Y].m(x,null))}for(;Y<H.length;Y+=1)H[Y].d(1);H.length=he.length}A[4].status==="completed"||A[4].status==="error"?M?M.p(A,fe):(M=Nl(A),M.c(),M.m(ge,null)):M&&(M.d(1),M=null)},d(A){A&&d(e),oe.d(),ht(H,A),M&&M.d()}}}function $l(s){let e;return{c(){e=w("Import prebieha...")},l(t){e=L(t,"Import prebieha...")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function es(s){let e;return{c(){e=w("Import zlyhal")},l(t){e=L(t,"Import zlyhal")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function ts(s){let e;return{c(){e=w("Import dokončený")},l(t){e=L(t,"Import dokončený")},m(t,a){F(t,e,a)},d(t){t&&d(e)}}}function Dl(s){let e,t=s[48]+"",a;return{c(){e=i("div"),a=w(t),this.h()},l(f){e=o(f,"DIV",{class:!0});var r=p(e);a=L(r,t),r.forEach(d),this.h()},h(){v(e,"class","log-line svelte-za9ffz")},m(f,r){F(f,e,r),l(e,a)},p(f,r){r[0]&16&&t!==(t=f[48]+"")&&$(a,t)},d(f){f&&d(e)}}}function Nl(s){let e,t="Zavrieť",a,f;return{c(){e=i("button"),e.textContent=t,this.h()},l(r){e=o(r,"BUTTON",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-19t8oe4"&&(e.textContent=t),this.h()},h(){v(e,"class","btn btn-primary svelte-za9ffz")},m(r,n){F(r,e,n),a||(f=ae(e,"click",s[19]),a=!0)},p:Qe,d(r){r&&d(e),a=!1,f()}}}function ls(s){let e,t,a,f='<h1 class="svelte-za9ffz">Feed Import</h1> <p class="subtitle svelte-za9ffz">Import produktov z XML/CSV feedov</p>',r,n,c="+ Pridať feed",_,u,b,h,g,S;function P(E,O){return E[1]?xl:E[0].length===0?Hl:jl}let U=P(s),D=U(s),k=s[2]&&bl(s),T=s[3]&&s[4]&&Tl(s);return{c(){e=i("div"),t=i("div"),a=i("div"),a.innerHTML=f,r=z(),n=i("button"),n.textContent=c,_=z(),D.c(),u=z(),k&&k.c(),b=z(),T&&T.c(),h=Bt(),this.h()},l(E){e=o(E,"DIV",{class:!0});var O=p(e);t=o(O,"DIV",{class:!0});var B=p(t);a=o(B,"DIV",{"data-svelte-h":!0}),y(a)!=="svelte-1w06fwc"&&(a.innerHTML=f),r=m(B),n=o(B,"BUTTON",{class:!0,"data-svelte-h":!0}),y(n)!=="svelte-1ioh6q4"&&(n.textContent=c),B.forEach(d),_=m(O),D.l(O),O.forEach(d),u=m(E),k&&k.l(E),b=m(E),T&&T.l(E),h=Bt(),this.h()},h(){v(n,"class","btn btn-primary svelte-za9ffz"),v(t,"class","page-header svelte-za9ffz"),v(e,"class","feeds-page svelte-za9ffz")},m(E,O){F(E,e,O),l(e,t),l(t,a),l(t,r),l(t,n),l(e,_),D.m(e,null),F(E,u,O),k&&k.m(E,O),F(E,b,O),T&&T.m(E,O),F(E,h,O),g||(S=ae(n,"click",s[21]),g=!0)},p(E,O){U===(U=P(E))&&D?D.p(E,O):(D.d(1),D=U(E),D&&(D.c(),D.m(e,null))),E[2]?k?k.p(E,O):(k=bl(E),k.c(),k.m(b.parentNode,b)):k&&(k.d(1),k=null),E[3]&&E[4]?T?T.p(E,O):(T=Tl(E),T.c(),T.m(h.parentNode,h)):T&&(T.d(1),T=null)},i:Qe,o:Qe,d(E){E&&(d(e),d(u),d(b),d(h)),D.d(),k&&k.d(E),T&&T.d(E),g=!1,S()}}}function Vl(s){return s?new Date(s).toLocaleString("sk-SK"):"-"}const Ol=([s,e])=>e,Pl=s=>!s.startsWith("_"),Al=(s,e)=>e.count-s.count;function ss(s,e,t){let a=[],f=!0,r=!1,n=!1,c=null,_=null,u={name:"",url:"",type:"xml",schedule:"daily",is_active:!0,xml_item_path:"SHOPITEM",field_mapping:{},category_separator:"|",import_params:!0,import_alt_images:!0},b=!1,h=null,g="",S="fields",P=!1,U=null;const D=[{value:"",label:"-- Ignorovať --"},{value:"title",label:"Názov produktu"},{value:"description",label:"Popis"},{value:"price",label:"Cena"},{value:"ean",label:"EAN"},{value:"brand",label:"Značka"},{value:"image_url",label:"Hlavný obrázok"},{value:"alt_images",label:"Alternatívne obrázky"},{value:"url",label:"URL produktu"},{value:"category",label:"Kategória"},{value:"external_id",label:"Externé ID"},{value:"delivery_date",label:"Dodacia lehota"},{value:"stock",label:"Sklad"}];wl(()=>{k()}),Sl(()=>{_&&clearInterval(_)});async function k(){t(1,f=!0);try{const x=await(await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds")).json();t(0,a=x.success?x.data||[]:[])}catch(C){console.error("Error loading feeds:",C),t(0,a=[])}t(1,f=!1)}async function T(){if(!u.url){t(8,g="Zadajte URL feedu");return}t(6,b=!0),t(8,g=""),t(7,h=null);try{const x=await(await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:u.url,type:u.type,xml_item_path:u.xml_item_path})})).json();x.success?(t(7,h=x.data),E()):t(8,g=x.error||"Nepodarilo sa načítať feed")}catch(C){t(8,g="Chyba pri načítavaní feedu: "+C.message)}t(6,b=!1)}function E(){if(!(h!=null&&h.fields))return;const C={},x={PRODUCTNAME:"title",PRODUCT:"title",NAME:"title",DESCRIPTION:"description",PRICE_VAT:"price",PRICE:"price",EAN:"ean",MANUFACTURER:"brand",BRAND:"brand",IMGURL:"image_url",IMAGE:"image_url",URL:"url",CATEGORYTEXT:"category",CATEGORY:"category"};h.fields.forEach(Q=>{const ge=Q.toUpperCase();x[ge]&&(C[Q]=x[ge])}),t(5,u.field_mapping=C,u)}async function O(){if(!u.name||!u.url){alert("Vyplňte názov a URL feedu");return}try{const x=await(await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();x.success?(t(2,r=!1),I(),k()):alert(x.error||"Chyba pri ukladaní")}catch(C){alert("Chyba: "+C.message)}}async function B(C,x){if(confirm(`Vymazať feed "${x}"?`))try{await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds/"+C,{method:"DELETE"}),k()}catch{alert("Chyba pri mazaní")}}async function R(C){t(3,n=!0),t(4,c={status:"downloading",message:"Sťahujem feed...",total:0,processed:0,created:0,updated:0,errors:0,percent:0,logs:["Spúšťam import..."]});try{await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds/"+C.id+"/import",{method:"POST"}),_=setInterval(async()=>{try{const Q=await(await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds/"+C.id+"/progress")).json();Q.success&&Q.data&&(t(4,c=Q.data),(Q.data.status==="completed"||Q.data.status==="error")&&(clearInterval(_),_=null,k()))}catch(x){console.error("Progress error:",x)}},1e3)}catch(x){t(4,c={...c,status:"error",message:x.message})}}function I(){t(5,u={name:"",url:"",type:"xml",schedule:"daily",is_active:!0,xml_item_path:"SHOPITEM",field_mapping:{},category_separator:"|",import_params:!0,import_alt_images:!0}),t(7,h=null),t(8,g=""),t(10,P=!1),U=null}function Z(C){t(10,P=!0),U=C.id,t(5,u={name:C.name,url:C.url,type:C.type||"xml",schedule:C.schedule||"daily",is_active:C.is_active,xml_item_path:C.xml_item_path||"SHOPITEM",field_mapping:C.field_mapping||{},category_separator:C.category_separator||"|",import_params:C.import_params!==!1,import_alt_images:C.import_alt_images!==!1}),t(2,r=!0)}async function G(){if(!u.name||!u.url){alert("Vyplňte názov a URL feedu");return}try{const x=await(await fetch("http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1/admin/feeds/"+U,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();x.success?(t(2,r=!1),I(),k()):alert(x.error||"Chyba pri ukladaní")}catch(C){alert("Chyba: "+C.message)}}function J(){t(3,n=!1),_&&(clearInterval(_),_=null)}function ne(C){Ml.call(this,s,C)}const V=()=>t(2,r=!0),Ve=()=>t(2,r=!0),Ce=C=>Z(C),N=C=>R(C),q=C=>B(C.id,C.name),ee=()=>{t(2,r=!1),I()};function W(){u.name=this.value,t(5,u)}function te(){u.type=Ut(this),t(5,u)}function K(){u.url=this.value,t(5,u)}function Ee(){u.xml_item_path=this.value,t(5,u)}function de(){u.schedule=Ut(this),t(5,u)}function ue(){u.is_active=this.checked,t(5,u)}function Ue(){u.category_separator=Ut(this),t(5,u)}function we(){u.import_alt_images=this.checked,t(5,u)}function le(){u.import_params=this.checked,t(5,u)}const se=()=>t(9,S="fields"),_e=()=>t(9,S="attributes"),me=()=>t(9,S="sample");function ke(C){u.field_mapping[C]=Ut(this),t(5,u)}return[a,f,r,n,c,u,b,h,g,S,P,D,T,O,B,R,I,Z,G,J,ne,V,Ve,Ce,N,q,ee,W,te,K,Ee,de,ue,Ue,we,le,se,_e,me,ke,()=>{t(2,r=!1),I()},()=>{t(2,r=!1),I()}]}class is extends Bl{constructor(e){super(),Rl(this,e,ss,ls,Ll,{},null,[-1,-1,-1])}}export{is as component};
