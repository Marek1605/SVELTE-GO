import{s as tt,n as Ve,d as b,i as oe,b as e,y as z,q as r,c as a,e as y,w as g,g as m,z as qe,h as n,j as C,R as Ae,k as Je,B as lt,a as ye,f as ke,t as me,r as Ue,F as le,J as Se,C as we,K as ze,H as Le,M as Be,m as st}from"../chunks/vSoWG56B.js";import{e as Re}from"../chunks/Dysy-sLZ.js";import{S as at,i as nt}from"../chunks/3kR5jQW9.js";function Ze(s,l,t){const o=s.slice();o[44]=l[t];const i=ut(o[44].status);return o[45]=i,o}function Ke(s){let l,t=s[5].text+"",o,i,f,c="√ó",p,E,V;return{c(){l=n("div"),o=me(t),i=C(),f=n("button"),f.textContent=c,this.h()},l(v){l=a(v,"DIV",{class:!0});var u=y(l);o=ke(u,t),i=m(u),f=a(u,"BUTTON",{class:!0,"data-svelte-h":!0}),g(f)!=="svelte-2d5vsk"&&(f.textContent=c),u.forEach(b),this.h()},h(){r(f,"class","svelte-9kba7r"),r(l,"class",p="message "+s[5].type+" svelte-9kba7r")},m(v,u){oe(v,l,u),e(l,o),e(l,i),e(l,f),E||(V=z(f,"click",s[21]),E=!0)},p(v,u){u[0]&32&&t!==(t=v[5].text+"")&&ye(o,t),u[0]&32&&p!==(p="message "+v[5].type+" svelte-9kba7r")&&r(l,"class",p)},d(v){v&&b(l),E=!1,V()}}}function rt(s){let l,t=Re(s[1]),o=[];for(let i=0;i<t.length;i+=1)o[i]=Qe(Ze(s,t,i));return{c(){l=n("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){l=a(i,"DIV",{class:!0});var f=y(l);for(let c=0;c<o.length;c+=1)o[c].l(f);f.forEach(b),this.h()},h(){r(l,"class","feeds-list svelte-9kba7r")},m(i,f){oe(i,l,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(l,null)},p(i,f){if(f[0]&14338){t=Re(i[1]);let c;for(c=0;c<t.length;c+=1){const p=Ze(i,t,c);o[c]?o[c].p(p,f):(o[c]=Qe(p),o[c].c(),o[c].m(l,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=t.length}},d(i){i&&b(l),st(o,i)}}}function ot(s){let l,t,o="üìÑ",i,f,c="≈Ωiadne feedy",p,E,V="Pridajte v√°≈° prv√Ω XML feed pre automatick√Ω import produktov",v,u,h="+ Prida≈• feed",x,B;return{c(){l=n("div"),t=n("span"),t.textContent=o,i=C(),f=n("h3"),f.textContent=c,p=C(),E=n("p"),E.textContent=V,v=C(),u=n("button"),u.textContent=h,this.h()},l(k){l=a(k,"DIV",{class:!0});var U=y(l);t=a(U,"SPAN",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-sq74ch"&&(t.textContent=o),i=m(U),f=a(U,"H3",{class:!0,"data-svelte-h":!0}),g(f)!=="svelte-1ebrsv9"&&(f.textContent=c),p=m(U),E=a(U,"P",{class:!0,"data-svelte-h":!0}),g(E)!=="svelte-1ib0gwa"&&(E.textContent=V),v=m(U),u=a(U,"BUTTON",{class:!0,"data-svelte-h":!0}),g(u)!=="svelte-1vdf177"&&(u.textContent=h),U.forEach(b),this.h()},h(){r(t,"class","empty-icon svelte-9kba7r"),r(f,"class","svelte-9kba7r"),r(E,"class","svelte-9kba7r"),r(u,"class","btn-primary svelte-9kba7r"),r(l,"class","empty-state svelte-9kba7r")},m(k,U){oe(k,l,U),e(l,t),e(l,i),e(l,f),e(l,p),e(l,E),e(l,v),e(l,u),x||(B=z(u,"click",s[22]),x=!0)},p:Ve,d(k){k&&b(l),x=!1,B()}}}function it(s){let l,t='<div class="spinner svelte-9kba7r"></div> <p>Naƒç√≠tavam feedy...</p>';return{c(){l=n("div"),l.innerHTML=t,this.h()},l(o){l=a(o,"DIV",{class:!0,"data-svelte-h":!0}),g(l)!=="svelte-1tumqze"&&(l.innerHTML=t),this.h()},h(){r(l,"class","loading svelte-9kba7r")},m(o,i){oe(o,l,i)},p:Ve,d(o){o&&b(l)}}}function Ge(s){let l,t,o,i=s[44].last_error+"",f;return{c(){l=n("div"),t=n("span"),o=me("‚ö†Ô∏è "),f=me(i),this.h()},l(c){l=a(c,"DIV",{class:!0});var p=y(l);t=a(p,"SPAN",{});var E=y(t);o=ke(E,"‚ö†Ô∏è "),f=ke(E,i),E.forEach(b),p.forEach(b),this.h()},h(){r(l,"class","feed-error svelte-9kba7r")},m(c,p){oe(c,l,p),e(l,t),e(t,o),e(t,f)},p(c,p){p[0]&2&&i!==(i=c[44].last_error+"")&&ye(f,i)},d(c){c&&b(l)}}}function Qe(s){var Ee;let l,t,o,i,f=s[44].name+"",c,p,E,V=s[44].feed_url+"",v,u,h,x=s[45].label+"",B,k,U,T,I,D,S=(s[44].total_offers||0)+"",d,P,L,Q="Produktov",ve,Y,N,M=(((Ee=s[44].feed_type)==null?void 0:Ee.toUpperCase())||"XML")+"",ie,H,re,X="Typ",fe,$,Z,q=et(s[44].last_import)+"",ee,ce,j,J="Posledn√Ω import",_e,W,te,w,_="üîÑ Importova≈•",O,A,se="‚úé Upravi≈•",K,ne,he="üóë Zmaza≈•",pe,G,ae,R=s[44].last_error&&Ge(s);function ge(){return s[23](s[44])}function be(){return s[24](s[44])}function xe(){return s[25](s[44])}return{c(){l=n("div"),t=n("div"),o=n("div"),i=n("h3"),c=me(f),p=C(),E=n("span"),v=me(V),u=C(),h=n("span"),B=me(x),U=C(),T=n("div"),I=n("div"),D=n("span"),d=me(S),P=C(),L=n("span"),L.textContent=Q,ve=C(),Y=n("div"),N=n("span"),ie=me(M),H=C(),re=n("span"),re.textContent=X,fe=C(),$=n("div"),Z=n("span"),ee=me(q),ce=C(),j=n("span"),j.textContent=J,_e=C(),R&&R.c(),W=C(),te=n("div"),w=n("button"),w.textContent=_,O=C(),A=n("button"),A.textContent=se,K=C(),ne=n("button"),ne.textContent=he,pe=C(),this.h()},l(ue){l=a(ue,"DIV",{class:!0});var F=y(l);t=a(F,"DIV",{class:!0});var de=y(t);o=a(de,"DIV",{class:!0});var Ce=y(o);i=a(Ce,"H3",{class:!0});var Ie=y(i);c=ke(Ie,f),Ie.forEach(b),p=m(Ce),E=a(Ce,"SPAN",{class:!0});var Me=y(E);v=ke(Me,V),Me.forEach(b),Ce.forEach(b),u=m(de),h=a(de,"SPAN",{class:!0});var He=y(h);B=ke(He,x),He.forEach(b),de.forEach(b),U=m(F),T=a(F,"DIV",{class:!0});var Te=y(T);I=a(Te,"DIV",{class:!0});var Pe=y(I);D=a(Pe,"SPAN",{class:!0});var je=y(D);d=ke(je,S),je.forEach(b),P=m(Pe),L=a(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),g(L)!=="svelte-1ue40i4"&&(L.textContent=Q),Pe.forEach(b),ve=m(Te),Y=a(Te,"DIV",{class:!0});var Oe=y(Y);N=a(Oe,"SPAN",{class:!0});var Fe=y(N);ie=ke(Fe,M),Fe.forEach(b),H=m(Oe),re=a(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),g(re)!=="svelte-zhy3or"&&(re.textContent=X),Oe.forEach(b),fe=m(Te),$=a(Te,"DIV",{class:!0});var De=y($);Z=a(De,"SPAN",{class:!0});var Xe=y(Z);ee=ke(Xe,q),Xe.forEach(b),ce=m(De),j=a(De,"SPAN",{class:!0,"data-svelte-h":!0}),g(j)!=="svelte-wxa8k9"&&(j.textContent=J),De.forEach(b),Te.forEach(b),_e=m(F),R&&R.l(F),W=m(F),te=a(F,"DIV",{class:!0});var Ne=y(te);w=a(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),g(w)!=="svelte-bfk8h7"&&(w.textContent=_),O=m(Ne),A=a(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),g(A)!=="svelte-se37rk"&&(A.textContent=se),K=m(Ne),ne=a(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),g(ne)!=="svelte-1uw49k8"&&(ne.textContent=he),Ne.forEach(b),pe=m(F),F.forEach(b),this.h()},h(){r(i,"class","svelte-9kba7r"),r(E,"class","feed-url svelte-9kba7r"),r(o,"class","feed-info svelte-9kba7r"),r(h,"class",k="badge "+s[45].class+" svelte-9kba7r"),r(t,"class","feed-header svelte-9kba7r"),r(D,"class","stat-value svelte-9kba7r"),r(L,"class","stat-label svelte-9kba7r"),r(I,"class","feed-stat svelte-9kba7r"),r(N,"class","stat-value svelte-9kba7r"),r(re,"class","stat-label svelte-9kba7r"),r(Y,"class","feed-stat svelte-9kba7r"),r(Z,"class","stat-value svelte-9kba7r"),r(j,"class","stat-label svelte-9kba7r"),r($,"class","feed-stat svelte-9kba7r"),r(T,"class","feed-stats svelte-9kba7r"),r(w,"class","btn-action btn-import svelte-9kba7r"),r(A,"class","btn-action btn-edit svelte-9kba7r"),r(ne,"class","btn-action btn-delete svelte-9kba7r"),r(te,"class","feed-actions svelte-9kba7r"),r(l,"class","feed-card svelte-9kba7r")},m(ue,F){oe(ue,l,F),e(l,t),e(t,o),e(o,i),e(i,c),e(o,p),e(o,E),e(E,v),e(t,u),e(t,h),e(h,B),e(l,U),e(l,T),e(T,I),e(I,D),e(D,d),e(I,P),e(I,L),e(T,ve),e(T,Y),e(Y,N),e(N,ie),e(Y,H),e(Y,re),e(T,fe),e(T,$),e($,Z),e(Z,ee),e($,ce),e($,j),e(l,_e),R&&R.m(l,null),e(l,W),e(l,te),e(te,w),e(te,O),e(te,A),e(te,K),e(te,ne),e(l,pe),G||(ae=[z(w,"click",ge),z(A,"click",be),z(ne,"click",xe)],G=!0)},p(ue,F){var de;s=ue,F[0]&2&&f!==(f=s[44].name+"")&&ye(c,f),F[0]&2&&V!==(V=s[44].feed_url+"")&&ye(v,V),F[0]&2&&x!==(x=s[45].label+"")&&ye(B,x),F[0]&2&&k!==(k="badge "+s[45].class+" svelte-9kba7r")&&r(h,"class",k),F[0]&2&&S!==(S=(s[44].total_offers||0)+"")&&ye(d,S),F[0]&2&&M!==(M=(((de=s[44].feed_type)==null?void 0:de.toUpperCase())||"XML")+"")&&ye(ie,M),F[0]&2&&q!==(q=et(s[44].last_import)+"")&&ye(ee,q),s[44].last_error?R?R.p(s,F):(R=Ge(s),R.c(),R.m(l,W)):R&&(R.d(1),R=null)},d(ue){ue&&b(l),R&&R.d(),G=!1,Ue(ae)}}}function We(s){let l,t,o,i,f="Nov√Ω XML Feed",c,p,E="√ó",V,v,u,h,x="N√°zov feedu",B,k,U,T,I,D="URL feedu",S,d,P,L,Q,ve="Typ feedu",Y,N,M,ie="XML (Heureka)",H,re="CSV",X,fe="JSON",$,Z,q,ee,ce="Zru≈°i≈•",j,J,_e="Vytvori≈• feed",W,te,w=s[6].feed_type==="xml"&&Ye(s);return{c(){l=n("div"),t=n("div"),o=n("div"),i=n("h2"),i.textContent=f,c=C(),p=n("button"),p.textContent=E,V=C(),v=n("div"),u=n("div"),h=n("label"),h.textContent=x,B=C(),k=n("input"),U=C(),T=n("div"),I=n("label"),I.textContent=D,S=C(),d=n("input"),P=C(),L=n("div"),Q=n("label"),Q.textContent=ve,Y=C(),N=n("select"),M=n("option"),M.textContent=ie,H=n("option"),H.textContent=re,X=n("option"),X.textContent=fe,$=C(),w&&w.c(),Z=C(),q=n("div"),ee=n("button"),ee.textContent=ce,j=C(),J=n("button"),J.textContent=_e,this.h()},l(_){l=a(_,"DIV",{class:!0});var O=y(l);t=a(O,"DIV",{class:!0});var A=y(t);o=a(A,"DIV",{class:!0});var se=y(o);i=a(se,"H2",{class:!0,"data-svelte-h":!0}),g(i)!=="svelte-1h9djvd"&&(i.textContent=f),c=m(se),p=a(se,"BUTTON",{class:!0,"data-svelte-h":!0}),g(p)!=="svelte-8nh6ot"&&(p.textContent=E),se.forEach(b),V=m(A),v=a(A,"DIV",{class:!0});var K=y(v);u=a(K,"DIV",{class:!0});var ne=y(u);h=a(ne,"LABEL",{class:!0,"data-svelte-h":!0}),g(h)!=="svelte-1lmizo3"&&(h.textContent=x),B=m(ne),k=a(ne,"INPUT",{type:!0,placeholder:!0,class:!0}),ne.forEach(b),U=m(K),T=a(K,"DIV",{class:!0});var he=y(T);I=a(he,"LABEL",{class:!0,"data-svelte-h":!0}),g(I)!=="svelte-138figu"&&(I.textContent=D),S=m(he),d=a(he,"INPUT",{type:!0,placeholder:!0,class:!0}),he.forEach(b),P=m(K),L=a(K,"DIV",{class:!0});var pe=y(L);Q=a(pe,"LABEL",{class:!0,"data-svelte-h":!0}),g(Q)!=="svelte-1yxkp3e"&&(Q.textContent=ve),Y=m(pe),N=a(pe,"SELECT",{class:!0});var G=y(N);M=a(G,"OPTION",{"data-svelte-h":!0}),g(M)!=="svelte-1ehiz0y"&&(M.textContent=ie),H=a(G,"OPTION",{"data-svelte-h":!0}),g(H)!=="svelte-12id4vm"&&(H.textContent=re),X=a(G,"OPTION",{"data-svelte-h":!0}),g(X)!=="svelte-1eaf7re"&&(X.textContent=fe),G.forEach(b),pe.forEach(b),$=m(K),w&&w.l(K),K.forEach(b),Z=m(A),q=a(A,"DIV",{class:!0});var ae=y(q);ee=a(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),g(ee)!=="svelte-1c6knbk"&&(ee.textContent=ce),j=m(ae),J=a(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),g(J)!=="svelte-1wfb7q4"&&(J.textContent=_e),ae.forEach(b),A.forEach(b),O.forEach(b),this.h()},h(){r(i,"class","svelte-9kba7r"),r(p,"class","close-btn svelte-9kba7r"),r(o,"class","modal-header svelte-9kba7r"),r(h,"class","svelte-9kba7r"),r(k,"type","text"),r(k,"placeholder","Napr. Hlavn√Ω katal√≥g"),r(k,"class","svelte-9kba7r"),r(u,"class","form-group svelte-9kba7r"),r(I,"class","svelte-9kba7r"),r(d,"type","url"),r(d,"placeholder","https://vas-eshop.sk/feed.xml"),r(d,"class","svelte-9kba7r"),r(T,"class","form-group svelte-9kba7r"),r(Q,"class","svelte-9kba7r"),M.__value="xml",le(M,M.__value),H.__value="csv",le(H,H.__value),X.__value="json",le(X,X.__value),r(N,"class","svelte-9kba7r"),s[6].feed_type===void 0&&ze(()=>s[29].call(N)),r(L,"class","form-group svelte-9kba7r"),r(v,"class","modal-body svelte-9kba7r"),r(ee,"class","btn-secondary svelte-9kba7r"),r(J,"class","btn-primary svelte-9kba7r"),r(q,"class","modal-footer svelte-9kba7r"),r(t,"class","modal svelte-9kba7r"),r(l,"class","modal-overlay svelte-9kba7r")},m(_,O){oe(_,l,O),e(l,t),e(t,o),e(o,i),e(o,c),e(o,p),e(t,V),e(t,v),e(v,u),e(u,h),e(u,B),e(u,k),le(k,s[6].name),e(v,U),e(v,T),e(T,I),e(T,S),e(T,d),le(d,s[6].feed_url),e(v,P),e(v,L),e(L,Q),e(L,Y),e(L,N),e(N,M),e(N,H),e(N,X),Se(N,s[6].feed_type,!0),e(v,$),w&&w.m(v,null),e(t,Z),e(t,q),e(q,ee),e(q,j),e(q,J),W||(te=[z(p,"click",s[26]),z(k,"input",s[27]),z(d,"input",s[28]),z(N,"change",s[29]),z(ee,"click",s[31]),z(J,"click",s[9]),z(t,"click",we(s[18])),z(t,"keydown",we(s[19])),z(l,"click",s[32]),z(l,"keydown",dt)],W=!0)},p(_,O){O[0]&64&&k.value!==_[6].name&&le(k,_[6].name),O[0]&64&&d.value!==_[6].feed_url&&le(d,_[6].feed_url),O[0]&64&&Se(N,_[6].feed_type),_[6].feed_type==="xml"?w?w.p(_,O):(w=Ye(_),w.c(),w.m(v,null)):w&&(w.d(1),w=null)},d(_){_&&b(l),w&&w.d(),W=!1,Ue(te)}}}function Ye(s){let l,t,o="XML cesta k produktom",i,f,c,p,E="Napr. pre Heureka XML: SHOP/SHOPITEM",V,v;return{c(){l=n("div"),t=n("label"),t.textContent=o,i=C(),f=n("input"),c=C(),p=n("small"),p.textContent=E,this.h()},l(u){l=a(u,"DIV",{class:!0});var h=y(l);t=a(h,"LABEL",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-1253d69"&&(t.textContent=o),i=m(h),f=a(h,"INPUT",{type:!0,placeholder:!0,class:!0}),c=m(h),p=a(h,"SMALL",{class:!0,"data-svelte-h":!0}),g(p)!=="svelte-179a0f0"&&(p.textContent=E),h.forEach(b),this.h()},h(){r(t,"class","svelte-9kba7r"),r(f,"type","text"),r(f,"placeholder","SHOP/SHOPITEM"),r(f,"class","svelte-9kba7r"),r(p,"class","svelte-9kba7r"),r(l,"class","form-group svelte-9kba7r")},m(u,h){oe(u,l,h),e(l,t),e(l,i),e(l,f),le(f,s[6].xml_item_path),e(l,c),e(l,p),V||(v=z(f,"input",s[30]),V=!0)},p(u,h){h[0]&64&&f.value!==u[6].xml_item_path&&le(f,u[6].xml_item_path)},d(u){u&&b(l),V=!1,v()}}}function $e(s){let l,t,o,i,f="Upravi≈• feed",c,p,E="√ó",V,v,u,h,x="N√°zov feedu",B,k,U,T,I,D="URL feedu",S,d,P,L,Q,ve="Typ feedu",Y,N,M,ie="XML (Heureka)",H,re="CSV",X,fe="JSON",$,Z,q,ee="Stav",ce,j,J,_e="Akt√≠vny",W,te="Pozastaven√Ω",w,_,O,A="Zru≈°i≈•",se,K,ne="Ulo≈æi≈• zmeny",he,pe;return{c(){l=n("div"),t=n("div"),o=n("div"),i=n("h2"),i.textContent=f,c=C(),p=n("button"),p.textContent=E,V=C(),v=n("div"),u=n("div"),h=n("label"),h.textContent=x,B=C(),k=n("input"),U=C(),T=n("div"),I=n("label"),I.textContent=D,S=C(),d=n("input"),P=C(),L=n("div"),Q=n("label"),Q.textContent=ve,Y=C(),N=n("select"),M=n("option"),M.textContent=ie,H=n("option"),H.textContent=re,X=n("option"),X.textContent=fe,$=C(),Z=n("div"),q=n("label"),q.textContent=ee,ce=C(),j=n("select"),J=n("option"),J.textContent=_e,W=n("option"),W.textContent=te,w=C(),_=n("div"),O=n("button"),O.textContent=A,se=C(),K=n("button"),K.textContent=ne,this.h()},l(G){l=a(G,"DIV",{class:!0});var ae=y(l);t=a(ae,"DIV",{class:!0});var R=y(t);o=a(R,"DIV",{class:!0});var ge=y(o);i=a(ge,"H2",{class:!0,"data-svelte-h":!0}),g(i)!=="svelte-13rtdjy"&&(i.textContent=f),c=m(ge),p=a(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),g(p)!=="svelte-1ie3ijt"&&(p.textContent=E),ge.forEach(b),V=m(R),v=a(R,"DIV",{class:!0});var be=y(v);u=a(be,"DIV",{class:!0});var xe=y(u);h=a(xe,"LABEL",{class:!0,"data-svelte-h":!0}),g(h)!=="svelte-1lmizo3"&&(h.textContent=x),B=m(xe),k=a(xe,"INPUT",{type:!0,class:!0}),xe.forEach(b),U=m(be),T=a(be,"DIV",{class:!0});var Ee=y(T);I=a(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),g(I)!=="svelte-138figu"&&(I.textContent=D),S=m(Ee),d=a(Ee,"INPUT",{type:!0,class:!0}),Ee.forEach(b),P=m(be),L=a(be,"DIV",{class:!0});var ue=y(L);Q=a(ue,"LABEL",{class:!0,"data-svelte-h":!0}),g(Q)!=="svelte-1yxkp3e"&&(Q.textContent=ve),Y=m(ue),N=a(ue,"SELECT",{class:!0});var F=y(N);M=a(F,"OPTION",{"data-svelte-h":!0}),g(M)!=="svelte-1ehiz0y"&&(M.textContent=ie),H=a(F,"OPTION",{"data-svelte-h":!0}),g(H)!=="svelte-12id4vm"&&(H.textContent=re),X=a(F,"OPTION",{"data-svelte-h":!0}),g(X)!=="svelte-1eaf7re"&&(X.textContent=fe),F.forEach(b),ue.forEach(b),$=m(be),Z=a(be,"DIV",{class:!0});var de=y(Z);q=a(de,"LABEL",{class:!0,"data-svelte-h":!0}),g(q)!=="svelte-6c7byk"&&(q.textContent=ee),ce=m(de),j=a(de,"SELECT",{class:!0});var Ce=y(j);J=a(Ce,"OPTION",{"data-svelte-h":!0}),g(J)!=="svelte-1hco88k"&&(J.textContent=_e),W=a(Ce,"OPTION",{"data-svelte-h":!0}),g(W)!=="svelte-cbkpa0"&&(W.textContent=te),Ce.forEach(b),de.forEach(b),be.forEach(b),w=m(R),_=a(R,"DIV",{class:!0});var Ie=y(_);O=a(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),g(O)!=="svelte-27mzdq"&&(O.textContent=A),se=m(Ie),K=a(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),g(K)!=="svelte-1p75sea"&&(K.textContent=ne),Ie.forEach(b),R.forEach(b),ae.forEach(b),this.h()},h(){r(i,"class","svelte-9kba7r"),r(p,"class","close-btn svelte-9kba7r"),r(o,"class","modal-header svelte-9kba7r"),r(h,"class","svelte-9kba7r"),r(k,"type","text"),r(k,"class","svelte-9kba7r"),r(u,"class","form-group svelte-9kba7r"),r(I,"class","svelte-9kba7r"),r(d,"type","url"),r(d,"class","svelte-9kba7r"),r(T,"class","form-group svelte-9kba7r"),r(Q,"class","svelte-9kba7r"),M.__value="xml",le(M,M.__value),H.__value="csv",le(H,H.__value),X.__value="json",le(X,X.__value),r(N,"class","svelte-9kba7r"),s[4].feed_type===void 0&&ze(()=>s[36].call(N)),r(L,"class","form-group svelte-9kba7r"),r(q,"class","svelte-9kba7r"),J.__value="active",le(J,J.__value),W.__value="paused",le(W,W.__value),r(j,"class","svelte-9kba7r"),s[4].status===void 0&&ze(()=>s[37].call(j)),r(Z,"class","form-group svelte-9kba7r"),r(v,"class","modal-body svelte-9kba7r"),r(O,"class","btn-secondary svelte-9kba7r"),r(K,"class","btn-primary svelte-9kba7r"),r(_,"class","modal-footer svelte-9kba7r"),r(t,"class","modal svelte-9kba7r"),r(l,"class","modal-overlay svelte-9kba7r")},m(G,ae){oe(G,l,ae),e(l,t),e(t,o),e(o,i),e(o,c),e(o,p),e(t,V),e(t,v),e(v,u),e(u,h),e(u,B),e(u,k),le(k,s[4].name),e(v,U),e(v,T),e(T,I),e(T,S),e(T,d),le(d,s[4].feed_url),e(v,P),e(v,L),e(L,Q),e(L,Y),e(L,N),e(N,M),e(N,H),e(N,X),Se(N,s[4].feed_type,!0),e(v,$),e(v,Z),e(Z,q),e(Z,ce),e(Z,j),e(j,J),e(j,W),Se(j,s[4].status,!0),e(t,w),e(t,_),e(_,O),e(_,se),e(_,K),he||(pe=[z(p,"click",s[33]),z(k,"input",s[34]),z(d,"input",s[35]),z(N,"change",s[36]),z(j,"change",s[37]),z(O,"click",s[38]),z(K,"click",s[10]),z(t,"click",we(s[16])),z(t,"keydown",we(s[17])),z(l,"click",s[39]),z(l,"keydown",vt)],he=!0)},p(G,ae){ae[0]&16&&k.value!==G[4].name&&le(k,G[4].name),ae[0]&16&&d.value!==G[4].feed_url&&le(d,G[4].feed_url),ae[0]&16&&Se(N,G[4].feed_type),ae[0]&16&&Se(j,G[4].status)},d(G){G&&b(l),he=!1,Ue(pe)}}}function ct(s){let l,t,o,i='<h1 class="svelte-9kba7r">üìÑ XML Feedy</h1> <p class="svelte-9kba7r">Spravujte va≈°e produktov√© feedy pre automatick√Ω import</p>',f,c,p="+ Prida≈• feed",E,V,v,u,h,x,B,k=s[5]&&Ke(s);function U(d,P){return d[0]?it:d[1].length===0?ot:rt}let T=U(s),I=T(s),D=s[2]&&We(s),S=s[3]&&s[4]&&$e(s);return{c(){l=n("div"),t=n("div"),o=n("div"),o.innerHTML=i,f=C(),c=n("button"),c.textContent=p,E=C(),k&&k.c(),V=C(),I.c(),v=C(),D&&D.c(),u=C(),S&&S.c(),h=qe(),this.h()},l(d){l=a(d,"DIV",{class:!0});var P=y(l);t=a(P,"DIV",{class:!0});var L=y(t);o=a(L,"DIV",{"data-svelte-h":!0}),g(o)!=="svelte-1ua53vd"&&(o.innerHTML=i),f=m(L),c=a(L,"BUTTON",{class:!0,"data-svelte-h":!0}),g(c)!=="svelte-ipvg7n"&&(c.textContent=p),L.forEach(b),E=m(P),k&&k.l(P),V=m(P),I.l(P),P.forEach(b),v=m(d),D&&D.l(d),u=m(d),S&&S.l(d),h=qe(),this.h()},h(){r(c,"class","btn-primary svelte-9kba7r"),r(t,"class","feeds-header svelte-9kba7r"),r(l,"class","feeds-container svelte-9kba7r")},m(d,P){oe(d,l,P),e(l,t),e(t,o),e(t,f),e(t,c),e(l,E),k&&k.m(l,null),e(l,V),I.m(l,null),oe(d,v,P),D&&D.m(d,P),oe(d,u,P),S&&S.m(d,P),oe(d,h,P),x||(B=z(c,"click",s[20]),x=!0)},p(d,P){d[5]?k?k.p(d,P):(k=Ke(d),k.c(),k.m(l,V)):k&&(k.d(1),k=null),T===(T=U(d))&&I?I.p(d,P):(I.d(1),I=T(d),I&&(I.c(),I.m(l,null))),d[2]?D?D.p(d,P):(D=We(d),D.c(),D.m(u.parentNode,u)):D&&(D.d(1),D=null),d[3]&&d[4]?S?S.p(d,P):(S=$e(d),S.c(),S.m(h.parentNode,h)):S&&(S.d(1),S=null)},i:Ve,o:Ve,d(d){d&&(b(l),b(v),b(u),b(h)),k&&k.d(),I.d(),D&&D.d(d),S&&S.d(d),x=!1,B()}}}function et(s){return s?new Date(s).toLocaleDateString("sk-SK",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Nikdy"}function ut(s){switch(s){case"active":return{class:"badge-success",label:"Akt√≠vny"};case"paused":return{class:"badge-warning",label:"Pozastaven√Ω"};case"error":return{class:"badge-danger",label:"Chyba"};default:return{class:"badge-secondary",label:s}}}const dt=()=>{},vt=()=>{};function ft(s,l,t){let o,i;const f=Ae("vendor");Je(s,f,_=>t(15,i=_));const c=Ae("shop");Je(s,c,_=>t(14,o=_));const p=Ae("API_BASE");let E=!0,V=[],v=!1,u=!1,h=null,x=null,B={name:"",feed_url:"",feed_type:"xml",xml_item_path:"SHOP/SHOPITEM"};lt(async()=>{await k()});async function k(){t(0,E=!0);const _=localStorage.getItem("vendor_token");if(_){try{const A=await(await fetch(`${p}/vendor/feeds`,{headers:{Authorization:`Bearer ${_}`}})).json();A.success&&t(1,V=A.data||[])}catch(O){console.error("Error loading feeds:",O)}t(0,E=!1)}}async function U(){const _=localStorage.getItem("vendor_token");try{const A=await(await fetch(`${p}/vendor/feeds`,{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify(B)})).json();A.success?(t(5,x={type:"success",text:"Feed bol vytvoren√Ω"}),t(2,v=!1),t(6,B={name:"",feed_url:"",feed_type:"xml",xml_item_path:"SHOP/SHOPITEM"}),await k()):t(5,x={type:"error",text:A.error||"Chyba pri vytv√°ran√≠ feedu"})}catch{t(5,x={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}async function T(){if(!h)return;const _=localStorage.getItem("vendor_token");try{const A=await(await fetch(`${p}/vendor/feeds/${h.id}`,{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify(h)})).json();A.success?(t(5,x={type:"success",text:"Feed bol aktualizovan√Ω"}),t(3,u=!1),await k()):t(5,x={type:"error",text:A.error||"Chyba pri aktualiz√°cii feedu"})}catch{t(5,x={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}async function I(_){if(!confirm(`Naozaj chcete zmaza≈• feed "${_.name}"?`))return;const O=localStorage.getItem("vendor_token");try{const se=await(await fetch(`${p}/vendor/feeds/${_.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${O}`}})).json();se.success?(t(5,x={type:"success",text:"Feed bol zmazan√Ω"}),await k()):t(5,x={type:"error",text:se.error||"Chyba pri mazan√≠ feedu"})}catch{t(5,x={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}async function D(_){const O=localStorage.getItem("vendor_token");t(5,x={type:"info",text:`Sp√∫≈°≈•am import pre "${_.name}"...`});try{const se=await(await fetch(`${p}/vendor/feeds/${_.id}/import`,{method:"POST",headers:{Authorization:`Bearer ${O}`}})).json();se.success?(t(5,x={type:"success",text:"Import bol spusten√Ω"}),await k()):t(5,x={type:"error",text:se.error||"Chyba pri sp√∫≈°≈•an√≠ importu"})}catch{t(5,x={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}function S(_){t(4,h={..._}),t(3,u=!0)}function d(_){Le.call(this,s,_)}function P(_){Le.call(this,s,_)}function L(_){Le.call(this,s,_)}function Q(_){Le.call(this,s,_)}const ve=()=>t(2,v=!0),Y=()=>t(5,x=null),N=()=>t(2,v=!0),M=_=>D(_),ie=_=>S(_),H=_=>I(_),re=()=>t(2,v=!1);function X(){B.name=this.value,t(6,B)}function fe(){B.feed_url=this.value,t(6,B)}function $(){B.feed_type=Be(this),t(6,B)}function Z(){B.xml_item_path=this.value,t(6,B)}const q=()=>t(2,v=!1),ee=()=>t(2,v=!1),ce=()=>t(3,u=!1);function j(){h.name=this.value,t(4,h)}function J(){h.feed_url=this.value,t(4,h)}function _e(){h.feed_type=Be(this),t(4,h)}function W(){h.status=Be(this),t(4,h)}const te=()=>t(3,u=!1),w=()=>t(3,u=!1);return s.$$.update=()=>{s.$$.dirty[0]&32768,s.$$.dirty[0]&16384},[E,V,v,u,h,x,B,f,c,U,T,I,D,S,o,i,d,P,L,Q,ve,Y,N,M,ie,H,re,X,fe,$,Z,q,ee,ce,j,J,_e,W,te,w]}class bt extends at{constructor(l){super(),nt(this,l,ft,ct,tt,{},null,[-1,-1])}}export{bt as component};
