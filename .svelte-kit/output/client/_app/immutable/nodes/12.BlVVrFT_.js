import{s as Me,n as ve,d as h,m as Ve,r as ze,a as $,F as ce,J as fe,i as te,b as t,y as ne,q as v,K as Ee,c as o,e as g,w as ee,g as z,f as H,h as c,j as M,t as U,B as je,M as Ce,x as pe,G as Te}from"../chunks/vSoWG56B.js";import{e as me}from"../chunks/Dysy-sLZ.js";import{S as we,i as Le}from"../chunks/3kR5jQW9.js";function Ne(s,e,l){const a=s.slice();return a[20]=e[l],a}function Se(s,e,l){const a=s.slice();return a[23]=e[l],a}function Pe(s){let e,l=s[23].shop_name+"",a,u;return{c(){e=c("option"),a=U(l),this.h()},l(r){e=o(r,"OPTION",{});var i=g(e);a=H(i,l),i.forEach(h),this.h()},h(){e.__value=u=s[23].id,ce(e,e.__value)},m(r,i){te(r,e,i),t(e,a)},p(r,i){i&2&&l!==(l=r[23].shop_name+"")&&$(a,l),i&2&&u!==(u=r[23].id)&&(e.__value=u,ce(e,e.__value))},d(r){r&&h(e)}}}function Be(s){let e,l,a,u='<tr><th class="svelte-1h5cysn">Obr√°zok</th> <th class="svelte-1h5cysn">Produkt</th> <th class="svelte-1h5cysn">Obchod</th> <th class="svelte-1h5cysn">Cena</th> <th class="svelte-1h5cysn">Stav skladu</th> <th class="svelte-1h5cysn">Status</th> <th class="svelte-1h5cysn">EAN</th></tr>',r,i,j,k,A,S,w,q,C,F,L,J,Y,K,Q,G,P,b,V,d,T,W,X=me(s[0]),f=[];for(let n=0;n<X.length;n+=1)f[n]=Ie(Ne(s,X,n));return{c(){e=c("div"),l=c("table"),a=c("thead"),a.innerHTML=u,r=M(),i=c("tbody");for(let n=0;n<f.length;n+=1)f[n].c();j=M(),k=c("div"),A=c("button"),S=U("‚Üê Predch√°dzaj√∫ca"),q=M(),C=c("span"),F=U("Strana "),L=U(s[4]),J=U(" z "),Y=U(s[5]),K=U(" ("),Q=U(s[3]),G=U(" pon√∫k)"),P=M(),b=c("button"),V=U("Nasleduj√∫ca ‚Üí"),this.h()},l(n){e=o(n,"DIV",{class:!0});var I=g(e);l=o(I,"TABLE",{class:!0});var _=g(l);a=o(_,"THEAD",{"data-svelte-h":!0}),ee(a)!=="svelte-stgsyn"&&(a.innerHTML=u),r=z(_),i=o(_,"TBODY",{});var x=g(i);for(let p=0;p<f.length;p+=1)f[p].l(x);x.forEach(h),_.forEach(h),I.forEach(h),j=z(n),k=o(n,"DIV",{class:!0});var R=g(k);A=o(R,"BUTTON",{class:!0});var se=g(A);S=H(se,"‚Üê Predch√°dzaj√∫ca"),se.forEach(h),q=z(R),C=o(R,"SPAN",{});var D=g(C);F=H(D,"Strana "),L=H(D,s[4]),J=H(D," z "),Y=H(D,s[5]),K=H(D," ("),Q=H(D,s[3]),G=H(D," pon√∫k)"),D.forEach(h),P=z(R),b=o(R,"BUTTON",{class:!0});var E=g(b);V=H(E,"Nasleduj√∫ca ‚Üí"),E.forEach(h),R.forEach(h),this.h()},h(){v(l,"class","svelte-1h5cysn"),v(e,"class","table-wrapper svelte-1h5cysn"),A.disabled=w=s[4]<=1,v(A,"class","svelte-1h5cysn"),b.disabled=d=s[4]>=s[5],v(b,"class","svelte-1h5cysn"),v(k,"class","pagination svelte-1h5cysn")},m(n,I){te(n,e,I),t(e,l),t(l,a),t(l,r),t(l,i);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);te(n,j,I),te(n,k,I),t(k,A),t(A,S),t(k,q),t(k,C),t(C,F),t(C,L),t(C,J),t(C,Y),t(C,K),t(C,Q),t(C,G),t(k,P),t(k,b),t(b,V),T||(W=[ne(A,"click",s[10]),ne(b,"click",s[11])],T=!0)},p(n,I){if(I&4097){X=me(n[0]);let _;for(_=0;_<X.length;_+=1){const x=Ne(n,X,_);f[_]?f[_].p(x,I):(f[_]=Ie(x),f[_].c(),f[_].m(i,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=X.length}I&16&&w!==(w=n[4]<=1)&&(A.disabled=w),I&16&&$(L,n[4]),I&32&&$(Y,n[5]),I&8&&$(Q,n[3]),I&48&&d!==(d=n[4]>=n[5])&&(b.disabled=d)},d(n){n&&(h(e),h(j),h(k)),Ve(f,n),T=!1,ze(W)}}}function He(s){let e,l='<p class="svelte-1h5cysn">üòî ≈Ωiadne ponuky nen√°jden√©</p>';return{c(){e=c("div"),e.innerHTML=l,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-98fci"&&(e.innerHTML=l),this.h()},h(){v(e,"class","empty svelte-1h5cysn")},m(a,u){te(a,e,u)},p:ve,d(a){a&&h(e)}}}function Ue(s){let e,l="Naƒç√≠tavam...";return{c(){e=c("div"),e.textContent=l,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-kpnqif"&&(e.textContent=l),this.h()},h(){v(e,"class","loading svelte-1h5cysn")},m(a,u){te(a,e,u)},p:ve,d(a){a&&h(e)}}}function qe(s){let e,l="üì¶";return{c(){e=c("div"),e.textContent=l,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1hifozd"&&(e.textContent=l),this.h()},h(){v(e,"class","no-img svelte-1h5cysn")},m(a,u){te(a,e,u)},p:ve,d(a){a&&h(e)}}}function Fe(s){let e,l;return{c(){e=c("img"),this.h()},l(a){e=o(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Te(e.src,l=s[20].image_url)||v(e,"src",l),v(e,"alt",""),v(e,"class","svelte-1h5cysn")},m(a,u){te(a,e,u)},p(a,u){u&1&&!Te(e.src,l=a[20].image_url)&&v(e,"src",l)},d(a){a&&h(e)}}}function De(s){let e,l,a=s[20].product_title+"",u;return{c(){e=c("div"),l=U("Master: "),u=U(a),this.h()},l(r){e=o(r,"DIV",{class:!0});var i=g(e);l=H(i,"Master: "),u=H(i,a),i.forEach(h),this.h()},h(){v(e,"class","master-title svelte-1h5cysn")},m(r,i){te(r,e,i),t(e,l),t(e,u)},p(r,i){i&1&&a!==(a=r[20].product_title+"")&&$(u,a)},d(r){r&&h(e)}}}function Ie(s){let e,l,a,u,r,i=(s[20].title||"Bez n√°zvu")+"",j,k,A,S,w,q=(s[20].shop_name||s[12](s[20].shop_id))+"",C,F,L,J=Ae(s[20].price)+"",Y,K,Q,G,P=s[20].stock_status==="instock"?"‚úì Skladom":"‚úó Nedostupn√©",b,V,d,T,W=s[20].status==="active"||s[20].is_active?"Akt√≠vna":"Neakt√≠vna",X,f,n,I=(s[20].ean||"-")+"",_,x;function R(p,m){return p[20].image_url?Fe:qe}let se=R(s),D=se(s),E=s[20].product_title&&s[20].product_title!==s[20].title&&De(s);return{c(){e=c("tr"),l=c("td"),D.c(),a=M(),u=c("td"),r=c("div"),j=U(i),k=M(),E&&E.c(),A=M(),S=c("td"),w=c("span"),C=U(q),F=M(),L=c("td"),Y=U(J),K=M(),Q=c("td"),G=c("span"),b=U(P),V=M(),d=c("td"),T=c("span"),X=U(W),f=M(),n=c("td"),_=U(I),x=M(),this.h()},l(p){e=o(p,"TR",{});var m=g(e);l=o(m,"TD",{class:!0});var he=g(l);D.l(he),he.forEach(h),a=z(m),u=o(m,"TD",{class:!0});var re=g(u);r=o(re,"DIV",{class:!0});var ae=g(r);j=H(ae,i),ae.forEach(h),k=z(re),E&&E.l(re),re.forEach(h),A=z(m),S=o(m,"TD",{class:!0});var B=g(S);w=o(B,"SPAN",{class:!0});var ue=g(w);C=H(ue,q),ue.forEach(h),B.forEach(h),F=z(m),L=o(m,"TD",{class:!0});var ie=g(L);Y=H(ie,J),ie.forEach(h),K=z(m),Q=o(m,"TD",{class:!0});var Z=g(Q);G=o(Z,"SPAN",{class:!0});var y=g(G);b=H(y,P),y.forEach(h),Z.forEach(h),V=z(m),d=o(m,"TD",{class:!0});var O=g(d);T=o(O,"SPAN",{class:!0});var N=g(T);X=H(N,W),N.forEach(h),O.forEach(h),f=z(m),n=o(m,"TD",{class:!0});var le=g(n);_=H(le,I),le.forEach(h),x=z(m),m.forEach(h),this.h()},h(){v(l,"class","img-cell svelte-1h5cysn"),v(r,"class","product-title svelte-1h5cysn"),v(u,"class","svelte-1h5cysn"),v(w,"class","shop-badge svelte-1h5cysn"),v(S,"class","svelte-1h5cysn"),v(L,"class","price svelte-1h5cysn"),v(G,"class","stock-badge svelte-1h5cysn"),pe(G,"instock",s[20].stock_status==="instock"),v(Q,"class","svelte-1h5cysn"),v(T,"class","status-badge svelte-1h5cysn"),pe(T,"active",s[20].status==="active"||s[20].is_active),v(d,"class","svelte-1h5cysn"),v(n,"class","ean svelte-1h5cysn")},m(p,m){te(p,e,m),t(e,l),D.m(l,null),t(e,a),t(e,u),t(u,r),t(r,j),t(u,k),E&&E.m(u,null),t(e,A),t(e,S),t(S,w),t(w,C),t(e,F),t(e,L),t(L,Y),t(e,K),t(e,Q),t(Q,G),t(G,b),t(e,V),t(e,d),t(d,T),t(T,X),t(e,f),t(e,n),t(n,_),t(e,x)},p(p,m){se===(se=R(p))&&D?D.p(p,m):(D.d(1),D=se(p),D&&(D.c(),D.m(l,null))),m&1&&i!==(i=(p[20].title||"Bez n√°zvu")+"")&&$(j,i),p[20].product_title&&p[20].product_title!==p[20].title?E?E.p(p,m):(E=De(p),E.c(),E.m(u,null)):E&&(E.d(1),E=null),m&1&&q!==(q=(p[20].shop_name||p[12](p[20].shop_id))+"")&&$(C,q),m&1&&J!==(J=Ae(p[20].price)+"")&&$(Y,J),m&1&&P!==(P=p[20].stock_status==="instock"?"‚úì Skladom":"‚úó Nedostupn√©")&&$(b,P),m&1&&pe(G,"instock",p[20].stock_status==="instock"),m&1&&W!==(W=p[20].status==="active"||p[20].is_active?"Akt√≠vna":"Neakt√≠vna")&&$(X,W),m&1&&pe(T,"active",p[20].status==="active"||p[20].is_active),m&1&&I!==(I=(p[20].ean||"-")+"")&&$(_,I)},d(p){p&&h(e),D.d(),E&&E.d()}}}function Re(s){let e,l,a='<h1 class="svelte-1h5cysn">üè™ Ponuky vendorov</h1> <p class="subtitle svelte-1h5cysn">V≈°etky ponuky od predajcov nap√°rovan√© na master produkty</p>',u,r,i,j,k,A,S,w="Celkom pon√∫k",q,C,F,L=s[1].length+"",J,Y,K,Q="Obchodov",G,P,b,V,d,T,W="V≈°etky obchody",X,f,n,I="V≈°etky stavy",_,x="Akt√≠vne",R,se="Neakt√≠vne",D,E,p="üîç Filtrova≈•",m,he,re,ae=me(s[1]),B=[];for(let y=0;y<ae.length;y+=1)B[y]=Pe(Se(s,ae,y));function ue(y,O){return y[2]?Ue:y[0].length===0?He:Be}let ie=ue(s),Z=ie(s);return{c(){e=c("div"),l=c("div"),l.innerHTML=a,u=M(),r=c("div"),i=c("div"),j=c("span"),k=U(s[3]),A=M(),S=c("span"),S.textContent=w,q=M(),C=c("div"),F=c("span"),J=U(L),Y=M(),K=c("span"),K.textContent=Q,G=M(),P=c("div"),b=c("input"),V=M(),d=c("select"),T=c("option"),T.textContent=W;for(let y=0;y<B.length;y+=1)B[y].c();X=M(),f=c("select"),n=c("option"),n.textContent=I,_=c("option"),_.textContent=x,R=c("option"),R.textContent=se,D=M(),E=c("button"),E.textContent=p,m=M(),Z.c(),this.h()},l(y){e=o(y,"DIV",{class:!0});var O=g(e);l=o(O,"DIV",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-taqfil"&&(l.innerHTML=a),u=z(O),r=o(O,"DIV",{class:!0});var N=g(r);i=o(N,"DIV",{class:!0});var le=g(i);j=o(le,"SPAN",{class:!0});var ge=g(j);k=H(ge,s[3]),ge.forEach(h),A=z(le),S=o(le,"SPAN",{class:!0,"data-svelte-h":!0}),ee(S)!=="svelte-gnzp3f"&&(S.textContent=w),le.forEach(h),q=z(N),C=o(N,"DIV",{class:!0});var de=g(C);F=o(de,"SPAN",{class:!0});var be=g(F);J=H(be,L),be.forEach(h),Y=z(de),K=o(de,"SPAN",{class:!0,"data-svelte-h":!0}),ee(K)!=="svelte-1ukypjm"&&(K.textContent=Q),de.forEach(h),N.forEach(h),G=z(O),P=o(O,"DIV",{class:!0});var oe=g(P);b=o(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),V=z(oe),d=o(oe,"SELECT",{class:!0});var ye=g(d);T=o(ye,"OPTION",{"data-svelte-h":!0}),ee(T)!=="svelte-8xm0ku"&&(T.textContent=W);for(let ke=0;ke<B.length;ke+=1)B[ke].l(ye);ye.forEach(h),X=z(oe),f=o(oe,"SELECT",{class:!0});var _e=g(f);n=o(_e,"OPTION",{"data-svelte-h":!0}),ee(n)!=="svelte-obxthn"&&(n.textContent=I),_=o(_e,"OPTION",{"data-svelte-h":!0}),ee(_)!=="svelte-10mkbh4"&&(_.textContent=x),R=o(_e,"OPTION",{"data-svelte-h":!0}),ee(R)!=="svelte-13ci3tm"&&(R.textContent=se),_e.forEach(h),D=z(oe),E=o(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(E)!=="svelte-1g9ccln"&&(E.textContent=p),oe.forEach(h),m=z(O),Z.l(O),O.forEach(h),this.h()},h(){v(l,"class","header svelte-1h5cysn"),v(j,"class","stat-value svelte-1h5cysn"),v(S,"class","stat-label svelte-1h5cysn"),v(i,"class","stat-card svelte-1h5cysn"),v(F,"class","stat-value svelte-1h5cysn"),v(K,"class","stat-label svelte-1h5cysn"),v(C,"class","stat-card svelte-1h5cysn"),v(r,"class","stats-row svelte-1h5cysn"),v(b,"type","text"),v(b,"placeholder","Hƒæada≈• (n√°zov, EAN...)"),v(b,"class","svelte-1h5cysn"),T.__value="",ce(T,T.__value),v(d,"class","svelte-1h5cysn"),s[6]===void 0&&Ee(()=>s[15].call(d)),n.__value="",ce(n,n.__value),_.__value="active",ce(_,_.__value),R.__value="inactive",ce(R,R.__value),v(f,"class","svelte-1h5cysn"),s[8]===void 0&&Ee(()=>s[16].call(f)),v(E,"class","btn primary svelte-1h5cysn"),v(P,"class","filters svelte-1h5cysn"),v(e,"class","page svelte-1h5cysn")},m(y,O){te(y,e,O),t(e,l),t(e,u),t(e,r),t(r,i),t(i,j),t(j,k),t(i,A),t(i,S),t(r,q),t(r,C),t(C,F),t(F,J),t(C,Y),t(C,K),t(e,G),t(e,P),t(P,b),ce(b,s[7]),t(P,V),t(P,d),t(d,T);for(let N=0;N<B.length;N+=1)B[N]&&B[N].m(d,null);fe(d,s[6],!0),t(P,X),t(P,f),t(f,n),t(f,_),t(f,R),fe(f,s[8],!0),t(P,D),t(P,E),t(e,m),Z.m(e,null),he||(re=[ne(b,"input",s[13]),ne(b,"keypress",s[14]),ne(d,"change",s[15]),ne(d,"change",s[9]),ne(f,"change",s[16]),ne(f,"change",s[9]),ne(E,"click",s[9])],he=!0)},p(y,[O]){if(O&8&&$(k,y[3]),O&2&&L!==(L=y[1].length+"")&&$(J,L),O&128&&b.value!==y[7]&&ce(b,y[7]),O&2){ae=me(y[1]);let N;for(N=0;N<ae.length;N+=1){const le=Se(y,ae,N);B[N]?B[N].p(le,O):(B[N]=Pe(le),B[N].c(),B[N].m(d,null))}for(;N<B.length;N+=1)B[N].d(1);B.length=ae.length}O&66&&fe(d,y[6]),O&256&&fe(f,y[8]),ie===(ie=ue(y))&&Z?Z.p(y,O):(Z.d(1),Z=ie(y),Z&&(Z.c(),Z.m(e,null)))},i:ve,o:ve,d(y){y&&h(e),Ve(B,y),Z.d(),he=!1,ze(re)}}}let Oe=50;function Ae(s){return new Intl.NumberFormat("sk-SK",{style:"currency",currency:"EUR"}).format(s||0)}function Ge(s,e,l){const a="http://localhost:8080/api/v1";let u=[],r=[],i=!0,j=0,k=1,A=1,S="",w="",q="";je(async()=>{await Promise.all([F(),C()])});async function C(){try{const d=await(await fetch(`${a}/admin/shops`)).json();d.success&&l(1,r=d.data||[])}catch(V){console.error("Error loading shops:",V)}}async function F(){var V;l(2,i=!0);try{const d=new URLSearchParams({page:k.toString(),limit:Oe.toString()});S&&d.append("shop_id",S),w&&d.append("search",w),q&&d.append("status",q);const W=await(await fetch(`${a}/admin/vendor-offers?${d}`)).json();W.success&&(l(0,u=W.data||[]),l(3,j=((V=W.meta)==null?void 0:V.total)||u.length),l(5,A=Math.ceil(j/Oe)))}catch(d){console.error("Error loading offers:",d)}l(2,i=!1)}function L(){l(4,k=1),F()}function J(){k>1&&(l(4,k--,k),F())}function Y(){k<A&&(l(4,k++,k),F())}function K(V){const d=r.find(T=>T.id===V);return(d==null?void 0:d.shop_name)||"Nezn√°my"}function Q(){w=this.value,l(7,w)}const G=V=>V.key==="Enter"&&L();function P(){S=Ce(this),l(6,S),l(1,r)}function b(){q=Ce(this),l(8,q)}return[u,r,i,j,k,A,S,w,q,L,J,Y,K,Q,G,P,b]}class Ye extends we{constructor(e){super(),Le(this,e,Ge,Re,Me,{})}}export{Ye as component};
