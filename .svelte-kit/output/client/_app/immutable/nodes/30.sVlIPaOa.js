import{s as tt,n as we,d as h,i as oe,b as e,y as B,q as r,c as a,e as I,g as m,w as N,z as qe,h as n,j as C,R as Ae,k as Je,B as lt,a as ye,f as ke,t as me,r as Ue,D as le,H as Se,C as Le,I as ze,K as Ve,G as Be,m as st}from"../chunks/DFArySuv.js";import{e as Re}from"../chunks/BCvDt_cB.js";import{S as at,i as nt}from"../chunks/s82JoINO.js";function Ze(s,l,t){const o=s.slice();o[44]=l[t];const i=ut(o[44].status);return o[45]=i,o}function Ke(s){let l,t=s[5].text+"",o,i,c,f="√ó",_,x,V;return{c(){l=n("div"),o=me(t),i=C(),c=n("button"),c.textContent=f,this.h()},l(d){l=a(d,"DIV",{class:!0});var u=I(l);o=ke(u,t),i=m(u),c=a(u,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-2d5vsk"&&(c.textContent=f),u.forEach(h),this.h()},h(){r(c,"class","svelte-9kba7r"),r(l,"class",_="message "+s[5].type+" svelte-9kba7r")},m(d,u){oe(d,l,u),e(l,o),e(l,i),e(l,c),x||(V=B(c,"click",s[21]),x=!0)},p(d,u){u[0]&32&&t!==(t=d[5].text+"")&&ye(o,t),u[0]&32&&_!==(_="message "+d[5].type+" svelte-9kba7r")&&r(l,"class",_)},d(d){d&&h(l),x=!1,V()}}}function rt(s){let l,t=Re(s[1]),o=[];for(let i=0;i<t.length;i+=1)o[i]=Qe(Ze(s,t,i));return{c(){l=n("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){l=a(i,"DIV",{class:!0});var c=I(l);for(let f=0;f<o.length;f+=1)o[f].l(c);c.forEach(h),this.h()},h(){r(l,"class","feeds-list svelte-9kba7r")},m(i,c){oe(i,l,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(l,null)},p(i,c){if(c[0]&14338){t=Re(i[1]);let f;for(f=0;f<t.length;f+=1){const _=Ze(i,t,f);o[f]?o[f].p(_,c):(o[f]=Qe(_),o[f].c(),o[f].m(l,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=t.length}},d(i){i&&h(l),st(o,i)}}}function ot(s){let l,t,o="üìÑ",i,c,f="≈Ωiadne feedy",_,x,V="Pridajte v√°≈° prv√Ω XML feed pre automatick√Ω import produktov",d,u,p="+ Prida≈• feed",S,y;return{c(){l=n("div"),t=n("span"),t.textContent=o,i=C(),c=n("h3"),c.textContent=f,_=C(),x=n("p"),x.textContent=V,d=C(),u=n("button"),u.textContent=p,this.h()},l(T){l=a(T,"DIV",{class:!0});var A=I(l);t=a(A,"SPAN",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-sq74ch"&&(t.textContent=o),i=m(A),c=a(A,"H3",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-1ebrsv9"&&(c.textContent=f),_=m(A),x=a(A,"P",{class:!0,"data-svelte-h":!0}),N(x)!=="svelte-1ib0gwa"&&(x.textContent=V),d=m(A),u=a(A,"BUTTON",{class:!0,"data-svelte-h":!0}),N(u)!=="svelte-1vdf177"&&(u.textContent=p),A.forEach(h),this.h()},h(){r(t,"class","empty-icon svelte-9kba7r"),r(c,"class","svelte-9kba7r"),r(x,"class","svelte-9kba7r"),r(u,"class","btn-primary svelte-9kba7r"),r(l,"class","empty-state svelte-9kba7r")},m(T,A){oe(T,l,A),e(l,t),e(l,i),e(l,c),e(l,_),e(l,x),e(l,d),e(l,u),S||(y=B(u,"click",s[22]),S=!0)},p:we,d(T){T&&h(l),S=!1,y()}}}function it(s){let l,t='<div class="spinner svelte-9kba7r"></div> <p>Naƒç√≠tavam feedy...</p>';return{c(){l=n("div"),l.innerHTML=t,this.h()},l(o){l=a(o,"DIV",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1tumqze"&&(l.innerHTML=t),this.h()},h(){r(l,"class","loading svelte-9kba7r")},m(o,i){oe(o,l,i)},p:we,d(o){o&&h(l)}}}function Ge(s){let l,t,o,i=s[44].last_error+"",c;return{c(){l=n("div"),t=n("span"),o=me("‚ö†Ô∏è "),c=me(i),this.h()},l(f){l=a(f,"DIV",{class:!0});var _=I(l);t=a(_,"SPAN",{});var x=I(t);o=ke(x,"‚ö†Ô∏è "),c=ke(x,i),x.forEach(h),_.forEach(h),this.h()},h(){r(l,"class","feed-error svelte-9kba7r")},m(f,_){oe(f,l,_),e(l,t),e(t,o),e(t,c)},p(f,_){_[0]&2&&i!==(i=f[44].last_error+"")&&ye(c,i)},d(f){f&&h(l)}}}function Qe(s){var Ee;let l,t,o,i,c=s[44].name+"",f,_,x,V=s[44].feed_url+"",d,u,p,S=s[45].label+"",y,T,A,g,E,D,b=(s[44].total_offers||0)+"",k,W,z,G="Produktov",ve,Y,P,U=(((Ee=s[44].feed_type)==null?void 0:Ee.toUpperCase())||"XML")+"",ie,H,re,F="Typ",fe,$,R,X=et(s[44].last_import)+"",ee,ce,M,q="Posledn√Ω import",_e,Q,te,w,v="üîÑ Importova≈•",O,L,se="‚úé Upravi≈•",Z,ne,he="üóë Zmaza≈•",pe,K,ae,J=s[44].last_error&&Ge(s);function ge(){return s[23](s[44])}function be(){return s[24](s[44])}function xe(){return s[25](s[44])}return{c(){l=n("div"),t=n("div"),o=n("div"),i=n("h3"),f=me(c),_=C(),x=n("span"),d=me(V),u=C(),p=n("span"),y=me(S),A=C(),g=n("div"),E=n("div"),D=n("span"),k=me(b),W=C(),z=n("span"),z.textContent=G,ve=C(),Y=n("div"),P=n("span"),ie=me(U),H=C(),re=n("span"),re.textContent=F,fe=C(),$=n("div"),R=n("span"),ee=me(X),ce=C(),M=n("span"),M.textContent=q,_e=C(),J&&J.c(),Q=C(),te=n("div"),w=n("button"),w.textContent=v,O=C(),L=n("button"),L.textContent=se,Z=C(),ne=n("button"),ne.textContent=he,pe=C(),this.h()},l(ue){l=a(ue,"DIV",{class:!0});var j=I(l);t=a(j,"DIV",{class:!0});var de=I(t);o=a(de,"DIV",{class:!0});var Ce=I(o);i=a(Ce,"H3",{class:!0});var Ie=I(i);f=ke(Ie,c),Ie.forEach(h),_=m(Ce),x=a(Ce,"SPAN",{class:!0});var He=I(x);d=ke(He,V),He.forEach(h),Ce.forEach(h),u=m(de),p=a(de,"SPAN",{class:!0});var Me=I(p);y=ke(Me,S),Me.forEach(h),de.forEach(h),A=m(j),g=a(j,"DIV",{class:!0});var Te=I(g);E=a(Te,"DIV",{class:!0});var Pe=I(E);D=a(Pe,"SPAN",{class:!0});var je=I(D);k=ke(je,b),je.forEach(h),W=m(Pe),z=a(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),N(z)!=="svelte-1ue40i4"&&(z.textContent=G),Pe.forEach(h),ve=m(Te),Y=a(Te,"DIV",{class:!0});var Oe=I(Y);P=a(Oe,"SPAN",{class:!0});var Fe=I(P);ie=ke(Fe,U),Fe.forEach(h),H=m(Oe),re=a(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),N(re)!=="svelte-zhy3or"&&(re.textContent=F),Oe.forEach(h),fe=m(Te),$=a(Te,"DIV",{class:!0});var De=I($);R=a(De,"SPAN",{class:!0});var Xe=I(R);ee=ke(Xe,X),Xe.forEach(h),ce=m(De),M=a(De,"SPAN",{class:!0,"data-svelte-h":!0}),N(M)!=="svelte-wxa8k9"&&(M.textContent=q),De.forEach(h),Te.forEach(h),_e=m(j),J&&J.l(j),Q=m(j),te=a(j,"DIV",{class:!0});var Ne=I(te);w=a(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),N(w)!=="svelte-bfk8h7"&&(w.textContent=v),O=m(Ne),L=a(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),N(L)!=="svelte-se37rk"&&(L.textContent=se),Z=m(Ne),ne=a(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),N(ne)!=="svelte-1uw49k8"&&(ne.textContent=he),Ne.forEach(h),pe=m(j),j.forEach(h),this.h()},h(){r(i,"class","svelte-9kba7r"),r(x,"class","feed-url svelte-9kba7r"),r(o,"class","feed-info svelte-9kba7r"),r(p,"class",T="badge "+s[45].class+" svelte-9kba7r"),r(t,"class","feed-header svelte-9kba7r"),r(D,"class","stat-value svelte-9kba7r"),r(z,"class","stat-label svelte-9kba7r"),r(E,"class","feed-stat svelte-9kba7r"),r(P,"class","stat-value svelte-9kba7r"),r(re,"class","stat-label svelte-9kba7r"),r(Y,"class","feed-stat svelte-9kba7r"),r(R,"class","stat-value svelte-9kba7r"),r(M,"class","stat-label svelte-9kba7r"),r($,"class","feed-stat svelte-9kba7r"),r(g,"class","feed-stats svelte-9kba7r"),r(w,"class","btn-action btn-import svelte-9kba7r"),r(L,"class","btn-action btn-edit svelte-9kba7r"),r(ne,"class","btn-action btn-delete svelte-9kba7r"),r(te,"class","feed-actions svelte-9kba7r"),r(l,"class","feed-card svelte-9kba7r")},m(ue,j){oe(ue,l,j),e(l,t),e(t,o),e(o,i),e(i,f),e(o,_),e(o,x),e(x,d),e(t,u),e(t,p),e(p,y),e(l,A),e(l,g),e(g,E),e(E,D),e(D,k),e(E,W),e(E,z),e(g,ve),e(g,Y),e(Y,P),e(P,ie),e(Y,H),e(Y,re),e(g,fe),e(g,$),e($,R),e(R,ee),e($,ce),e($,M),e(l,_e),J&&J.m(l,null),e(l,Q),e(l,te),e(te,w),e(te,O),e(te,L),e(te,Z),e(te,ne),e(l,pe),K||(ae=[B(w,"click",ge),B(L,"click",be),B(ne,"click",xe)],K=!0)},p(ue,j){var de;s=ue,j[0]&2&&c!==(c=s[44].name+"")&&ye(f,c),j[0]&2&&V!==(V=s[44].feed_url+"")&&ye(d,V),j[0]&2&&S!==(S=s[45].label+"")&&ye(y,S),j[0]&2&&T!==(T="badge "+s[45].class+" svelte-9kba7r")&&r(p,"class",T),j[0]&2&&b!==(b=(s[44].total_offers||0)+"")&&ye(k,b),j[0]&2&&U!==(U=(((de=s[44].feed_type)==null?void 0:de.toUpperCase())||"XML")+"")&&ye(ie,U),j[0]&2&&X!==(X=et(s[44].last_import)+"")&&ye(ee,X),s[44].last_error?J?J.p(s,j):(J=Ge(s),J.c(),J.m(l,Q)):J&&(J.d(1),J=null)},d(ue){ue&&h(l),J&&J.d(),K=!1,Ue(ae)}}}function We(s){let l,t,o,i,c="Nov√Ω XML Feed",f,_,x="√ó",V,d,u,p,S="N√°zov feedu",y,T,A,g,E,D="URL feedu",b,k,W,z,G,ve="Typ feedu",Y,P,U,ie="XML (Heureka)",H,re="CSV",F,fe="JSON",$,R,X,ee,ce="Zru≈°i≈•",M,q,_e="Vytvori≈• feed",Q,te,w=s[6].feed_type==="xml"&&Ye(s);return{c(){l=n("div"),t=n("div"),o=n("div"),i=n("h2"),i.textContent=c,f=C(),_=n("button"),_.textContent=x,V=C(),d=n("div"),u=n("div"),p=n("label"),p.textContent=S,y=C(),T=n("input"),A=C(),g=n("div"),E=n("label"),E.textContent=D,b=C(),k=n("input"),W=C(),z=n("div"),G=n("label"),G.textContent=ve,Y=C(),P=n("select"),U=n("option"),U.textContent=ie,H=n("option"),H.textContent=re,F=n("option"),F.textContent=fe,$=C(),w&&w.c(),R=C(),X=n("div"),ee=n("button"),ee.textContent=ce,M=C(),q=n("button"),q.textContent=_e,this.h()},l(v){l=a(v,"DIV",{class:!0});var O=I(l);t=a(O,"DIV",{class:!0});var L=I(t);o=a(L,"DIV",{class:!0});var se=I(o);i=a(se,"H2",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-1h9djvd"&&(i.textContent=c),f=m(se),_=a(se,"BUTTON",{class:!0,"data-svelte-h":!0}),N(_)!=="svelte-8nh6ot"&&(_.textContent=x),se.forEach(h),V=m(L),d=a(L,"DIV",{class:!0});var Z=I(d);u=a(Z,"DIV",{class:!0});var ne=I(u);p=a(ne,"LABEL",{class:!0,"data-svelte-h":!0}),N(p)!=="svelte-1lmizo3"&&(p.textContent=S),y=m(ne),T=a(ne,"INPUT",{type:!0,placeholder:!0,class:!0}),ne.forEach(h),A=m(Z),g=a(Z,"DIV",{class:!0});var he=I(g);E=a(he,"LABEL",{class:!0,"data-svelte-h":!0}),N(E)!=="svelte-138figu"&&(E.textContent=D),b=m(he),k=a(he,"INPUT",{type:!0,placeholder:!0,class:!0}),he.forEach(h),W=m(Z),z=a(Z,"DIV",{class:!0});var pe=I(z);G=a(pe,"LABEL",{class:!0,"data-svelte-h":!0}),N(G)!=="svelte-1yxkp3e"&&(G.textContent=ve),Y=m(pe),P=a(pe,"SELECT",{class:!0});var K=I(P);U=a(K,"OPTION",{"data-svelte-h":!0}),N(U)!=="svelte-1ehiz0y"&&(U.textContent=ie),H=a(K,"OPTION",{"data-svelte-h":!0}),N(H)!=="svelte-12id4vm"&&(H.textContent=re),F=a(K,"OPTION",{"data-svelte-h":!0}),N(F)!=="svelte-1eaf7re"&&(F.textContent=fe),K.forEach(h),pe.forEach(h),$=m(Z),w&&w.l(Z),Z.forEach(h),R=m(L),X=a(L,"DIV",{class:!0});var ae=I(X);ee=a(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),N(ee)!=="svelte-1c6knbk"&&(ee.textContent=ce),M=m(ae),q=a(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),N(q)!=="svelte-1wfb7q4"&&(q.textContent=_e),ae.forEach(h),L.forEach(h),O.forEach(h),this.h()},h(){r(i,"class","svelte-9kba7r"),r(_,"class","close-btn svelte-9kba7r"),r(o,"class","modal-header svelte-9kba7r"),r(p,"class","svelte-9kba7r"),r(T,"type","text"),r(T,"placeholder","Napr. Hlavn√Ω katal√≥g"),r(T,"class","svelte-9kba7r"),r(u,"class","form-group svelte-9kba7r"),r(E,"class","svelte-9kba7r"),r(k,"type","url"),r(k,"placeholder","https://vas-eshop.sk/feed.xml"),r(k,"class","svelte-9kba7r"),r(g,"class","form-group svelte-9kba7r"),r(G,"class","svelte-9kba7r"),U.__value="xml",le(U,U.__value),H.__value="csv",le(H,H.__value),F.__value="json",le(F,F.__value),r(P,"class","svelte-9kba7r"),s[6].feed_type===void 0&&ze(()=>s[29].call(P)),r(z,"class","form-group svelte-9kba7r"),r(d,"class","modal-body svelte-9kba7r"),r(ee,"class","btn-secondary svelte-9kba7r"),r(q,"class","btn-primary svelte-9kba7r"),r(X,"class","modal-footer svelte-9kba7r"),r(t,"class","modal svelte-9kba7r"),r(l,"class","modal-overlay svelte-9kba7r")},m(v,O){oe(v,l,O),e(l,t),e(t,o),e(o,i),e(o,f),e(o,_),e(t,V),e(t,d),e(d,u),e(u,p),e(u,y),e(u,T),le(T,s[6].name),e(d,A),e(d,g),e(g,E),e(g,b),e(g,k),le(k,s[6].feed_url),e(d,W),e(d,z),e(z,G),e(z,Y),e(z,P),e(P,U),e(P,H),e(P,F),Se(P,s[6].feed_type,!0),e(d,$),w&&w.m(d,null),e(t,R),e(t,X),e(X,ee),e(X,M),e(X,q),Q||(te=[B(_,"click",s[26]),B(T,"input",s[27]),B(k,"input",s[28]),B(P,"change",s[29]),B(ee,"click",s[31]),B(q,"click",s[9]),B(t,"click",Le(s[18])),B(t,"keydown",Le(s[19])),B(l,"click",s[32]),B(l,"keydown",dt)],Q=!0)},p(v,O){O[0]&64&&T.value!==v[6].name&&le(T,v[6].name),O[0]&64&&k.value!==v[6].feed_url&&le(k,v[6].feed_url),O[0]&64&&Se(P,v[6].feed_type),v[6].feed_type==="xml"?w?w.p(v,O):(w=Ye(v),w.c(),w.m(d,null)):w&&(w.d(1),w=null)},d(v){v&&h(l),w&&w.d(),Q=!1,Ue(te)}}}function Ye(s){let l,t,o="XML cesta k produktom",i,c,f,_,x="Napr. pre Heureka XML: SHOP/SHOPITEM",V,d;return{c(){l=n("div"),t=n("label"),t.textContent=o,i=C(),c=n("input"),f=C(),_=n("small"),_.textContent=x,this.h()},l(u){l=a(u,"DIV",{class:!0});var p=I(l);t=a(p,"LABEL",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1253d69"&&(t.textContent=o),i=m(p),c=a(p,"INPUT",{type:!0,placeholder:!0,class:!0}),f=m(p),_=a(p,"SMALL",{class:!0,"data-svelte-h":!0}),N(_)!=="svelte-179a0f0"&&(_.textContent=x),p.forEach(h),this.h()},h(){r(t,"class","svelte-9kba7r"),r(c,"type","text"),r(c,"placeholder","SHOP/SHOPITEM"),r(c,"class","svelte-9kba7r"),r(_,"class","svelte-9kba7r"),r(l,"class","form-group svelte-9kba7r")},m(u,p){oe(u,l,p),e(l,t),e(l,i),e(l,c),le(c,s[6].xml_item_path),e(l,f),e(l,_),V||(d=B(c,"input",s[30]),V=!0)},p(u,p){p[0]&64&&c.value!==u[6].xml_item_path&&le(c,u[6].xml_item_path)},d(u){u&&h(l),V=!1,d()}}}function $e(s){let l,t,o,i,c="Upravi≈• feed",f,_,x="√ó",V,d,u,p,S="N√°zov feedu",y,T,A,g,E,D="URL feedu",b,k,W,z,G,ve="Typ feedu",Y,P,U,ie="XML (Heureka)",H,re="CSV",F,fe="JSON",$,R,X,ee="Stav",ce,M,q,_e="Akt√≠vny",Q,te="Pozastaven√Ω",w,v,O,L="Zru≈°i≈•",se,Z,ne="Ulo≈æi≈• zmeny",he,pe;return{c(){l=n("div"),t=n("div"),o=n("div"),i=n("h2"),i.textContent=c,f=C(),_=n("button"),_.textContent=x,V=C(),d=n("div"),u=n("div"),p=n("label"),p.textContent=S,y=C(),T=n("input"),A=C(),g=n("div"),E=n("label"),E.textContent=D,b=C(),k=n("input"),W=C(),z=n("div"),G=n("label"),G.textContent=ve,Y=C(),P=n("select"),U=n("option"),U.textContent=ie,H=n("option"),H.textContent=re,F=n("option"),F.textContent=fe,$=C(),R=n("div"),X=n("label"),X.textContent=ee,ce=C(),M=n("select"),q=n("option"),q.textContent=_e,Q=n("option"),Q.textContent=te,w=C(),v=n("div"),O=n("button"),O.textContent=L,se=C(),Z=n("button"),Z.textContent=ne,this.h()},l(K){l=a(K,"DIV",{class:!0});var ae=I(l);t=a(ae,"DIV",{class:!0});var J=I(t);o=a(J,"DIV",{class:!0});var ge=I(o);i=a(ge,"H2",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-13rtdjy"&&(i.textContent=c),f=m(ge),_=a(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),N(_)!=="svelte-1ie3ijt"&&(_.textContent=x),ge.forEach(h),V=m(J),d=a(J,"DIV",{class:!0});var be=I(d);u=a(be,"DIV",{class:!0});var xe=I(u);p=a(xe,"LABEL",{class:!0,"data-svelte-h":!0}),N(p)!=="svelte-1lmizo3"&&(p.textContent=S),y=m(xe),T=a(xe,"INPUT",{type:!0,class:!0}),xe.forEach(h),A=m(be),g=a(be,"DIV",{class:!0});var Ee=I(g);E=a(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),N(E)!=="svelte-138figu"&&(E.textContent=D),b=m(Ee),k=a(Ee,"INPUT",{type:!0,class:!0}),Ee.forEach(h),W=m(be),z=a(be,"DIV",{class:!0});var ue=I(z);G=a(ue,"LABEL",{class:!0,"data-svelte-h":!0}),N(G)!=="svelte-1yxkp3e"&&(G.textContent=ve),Y=m(ue),P=a(ue,"SELECT",{class:!0});var j=I(P);U=a(j,"OPTION",{"data-svelte-h":!0}),N(U)!=="svelte-1ehiz0y"&&(U.textContent=ie),H=a(j,"OPTION",{"data-svelte-h":!0}),N(H)!=="svelte-12id4vm"&&(H.textContent=re),F=a(j,"OPTION",{"data-svelte-h":!0}),N(F)!=="svelte-1eaf7re"&&(F.textContent=fe),j.forEach(h),ue.forEach(h),$=m(be),R=a(be,"DIV",{class:!0});var de=I(R);X=a(de,"LABEL",{class:!0,"data-svelte-h":!0}),N(X)!=="svelte-6c7byk"&&(X.textContent=ee),ce=m(de),M=a(de,"SELECT",{class:!0});var Ce=I(M);q=a(Ce,"OPTION",{"data-svelte-h":!0}),N(q)!=="svelte-1hco88k"&&(q.textContent=_e),Q=a(Ce,"OPTION",{"data-svelte-h":!0}),N(Q)!=="svelte-cbkpa0"&&(Q.textContent=te),Ce.forEach(h),de.forEach(h),be.forEach(h),w=m(J),v=a(J,"DIV",{class:!0});var Ie=I(v);O=a(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),N(O)!=="svelte-27mzdq"&&(O.textContent=L),se=m(Ie),Z=a(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),N(Z)!=="svelte-1p75sea"&&(Z.textContent=ne),Ie.forEach(h),J.forEach(h),ae.forEach(h),this.h()},h(){r(i,"class","svelte-9kba7r"),r(_,"class","close-btn svelte-9kba7r"),r(o,"class","modal-header svelte-9kba7r"),r(p,"class","svelte-9kba7r"),r(T,"type","text"),r(T,"class","svelte-9kba7r"),r(u,"class","form-group svelte-9kba7r"),r(E,"class","svelte-9kba7r"),r(k,"type","url"),r(k,"class","svelte-9kba7r"),r(g,"class","form-group svelte-9kba7r"),r(G,"class","svelte-9kba7r"),U.__value="xml",le(U,U.__value),H.__value="csv",le(H,H.__value),F.__value="json",le(F,F.__value),r(P,"class","svelte-9kba7r"),s[4].feed_type===void 0&&ze(()=>s[36].call(P)),r(z,"class","form-group svelte-9kba7r"),r(X,"class","svelte-9kba7r"),q.__value="active",le(q,q.__value),Q.__value="paused",le(Q,Q.__value),r(M,"class","svelte-9kba7r"),s[4].status===void 0&&ze(()=>s[37].call(M)),r(R,"class","form-group svelte-9kba7r"),r(d,"class","modal-body svelte-9kba7r"),r(O,"class","btn-secondary svelte-9kba7r"),r(Z,"class","btn-primary svelte-9kba7r"),r(v,"class","modal-footer svelte-9kba7r"),r(t,"class","modal svelte-9kba7r"),r(l,"class","modal-overlay svelte-9kba7r")},m(K,ae){oe(K,l,ae),e(l,t),e(t,o),e(o,i),e(o,f),e(o,_),e(t,V),e(t,d),e(d,u),e(u,p),e(u,y),e(u,T),le(T,s[4].name),e(d,A),e(d,g),e(g,E),e(g,b),e(g,k),le(k,s[4].feed_url),e(d,W),e(d,z),e(z,G),e(z,Y),e(z,P),e(P,U),e(P,H),e(P,F),Se(P,s[4].feed_type,!0),e(d,$),e(d,R),e(R,X),e(R,ce),e(R,M),e(M,q),e(M,Q),Se(M,s[4].status,!0),e(t,w),e(t,v),e(v,O),e(v,se),e(v,Z),he||(pe=[B(_,"click",s[33]),B(T,"input",s[34]),B(k,"input",s[35]),B(P,"change",s[36]),B(M,"change",s[37]),B(O,"click",s[38]),B(Z,"click",s[10]),B(t,"click",Le(s[16])),B(t,"keydown",Le(s[17])),B(l,"click",s[39]),B(l,"keydown",vt)],he=!0)},p(K,ae){ae[0]&16&&T.value!==K[4].name&&le(T,K[4].name),ae[0]&16&&k.value!==K[4].feed_url&&le(k,K[4].feed_url),ae[0]&16&&Se(P,K[4].feed_type),ae[0]&16&&Se(M,K[4].status)},d(K){K&&h(l),he=!1,Ue(pe)}}}function ct(s){let l,t,o,i,c,f="+ Prida≈• feed",_,x,V,d,u,p,S,y=s[5]&&Ke(s);function T(b,k){return b[0]?it:b[1].length===0?ot:rt}let A=T(s),g=A(s),E=s[2]&&We(s),D=s[3]&&s[4]&&$e(s);return{c(){l=n("div"),t=n("div"),o=n("div"),i=C(),c=n("button"),c.textContent=f,_=C(),y&&y.c(),x=C(),g.c(),V=C(),E&&E.c(),d=C(),D&&D.c(),u=qe(),this.h()},l(b){l=a(b,"DIV",{class:!0});var k=I(l);t=a(k,"DIV",{class:!0});var W=I(t);o=a(W,"DIV",{}),I(o).forEach(h),i=m(W),c=a(W,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-ipvg7n"&&(c.textContent=f),W.forEach(h),_=m(k),y&&y.l(k),x=m(k),g.l(k),k.forEach(h),V=m(b),E&&E.l(b),d=m(b),D&&D.l(b),u=qe(),this.h()},h(){r(c,"class","btn-primary svelte-9kba7r"),r(t,"class","feeds-header svelte-9kba7r"),r(l,"class","feeds-container svelte-9kba7r")},m(b,k){oe(b,l,k),e(l,t),e(t,o),e(t,i),e(t,c),e(l,_),y&&y.m(l,null),e(l,x),g.m(l,null),oe(b,V,k),E&&E.m(b,k),oe(b,d,k),D&&D.m(b,k),oe(b,u,k),p||(S=B(c,"click",s[20]),p=!0)},p(b,k){b[5]?y?y.p(b,k):(y=Ke(b),y.c(),y.m(l,x)):y&&(y.d(1),y=null),A===(A=T(b))&&g?g.p(b,k):(g.d(1),g=A(b),g&&(g.c(),g.m(l,null))),b[2]?E?E.p(b,k):(E=We(b),E.c(),E.m(d.parentNode,d)):E&&(E.d(1),E=null),b[3]&&b[4]?D?D.p(b,k):(D=$e(b),D.c(),D.m(u.parentNode,u)):D&&(D.d(1),D=null)},i:we,o:we,d(b){b&&(h(l),h(V),h(d),h(u)),y&&y.d(),g.d(),E&&E.d(b),D&&D.d(b),p=!1,S()}}}function et(s){return s?new Date(s).toLocaleDateString("sk-SK",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Nikdy"}function ut(s){switch(s){case"active":return{class:"badge-success",label:"Akt√≠vny"};case"paused":return{class:"badge-warning",label:"Pozastaven√Ω"};case"error":return{class:"badge-danger",label:"Chyba"};default:return{class:"badge-secondary",label:s}}}const dt=()=>{},vt=()=>{};function ft(s,l,t){let o,i;const c=Ae("vendor");Je(s,c,v=>t(15,i=v));const f=Ae("shop");Je(s,f,v=>t(14,o=v));const _=Ae("API_BASE");let x=!0,V=[],d=!1,u=!1,p=null,S=null,y={name:"",feed_url:"",feed_type:"xml",xml_item_path:"SHOP/SHOPITEM"};lt(async()=>{await T()});async function T(){t(0,x=!0);const v=localStorage.getItem("vendor_token");if(v){try{const L=await(await fetch(`${_}/vendor/feeds`,{headers:{Authorization:`Bearer ${v}`}})).json();L.success&&t(1,V=L.data||[])}catch(O){console.error("Error loading feeds:",O)}t(0,x=!1)}}async function A(){const v=localStorage.getItem("vendor_token");try{const L=await(await fetch(`${_}/vendor/feeds`,{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify(y)})).json();L.success?(t(5,S={type:"success",text:"Feed bol vytvoren√Ω"}),t(2,d=!1),t(6,y={name:"",feed_url:"",feed_type:"xml",xml_item_path:"SHOP/SHOPITEM"}),await T()):t(5,S={type:"error",text:L.error||"Chyba pri vytv√°ran√≠ feedu"})}catch{t(5,S={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}async function g(){if(!p)return;const v=localStorage.getItem("vendor_token");try{const L=await(await fetch(`${_}/vendor/feeds/${p.id}`,{method:"PUT",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify(p)})).json();L.success?(t(5,S={type:"success",text:"Feed bol aktualizovan√Ω"}),t(3,u=!1),await T()):t(5,S={type:"error",text:L.error||"Chyba pri aktualiz√°cii feedu"})}catch{t(5,S={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}async function E(v){if(!confirm(`Naozaj chcete zmaza≈• feed "${v.name}"?`))return;const O=localStorage.getItem("vendor_token");try{const se=await(await fetch(`${_}/vendor/feeds/${v.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${O}`}})).json();se.success?(t(5,S={type:"success",text:"Feed bol zmazan√Ω"}),await T()):t(5,S={type:"error",text:se.error||"Chyba pri mazan√≠ feedu"})}catch{t(5,S={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}async function D(v){const O=localStorage.getItem("vendor_token");t(5,S={type:"info",text:`Sp√∫≈°≈•am import pre "${v.name}"...`});try{const se=await(await fetch(`${_}/vendor/feeds/${v.id}/import`,{method:"POST",headers:{Authorization:`Bearer ${O}`}})).json();se.success?(t(5,S={type:"success",text:"Import bol spusten√Ω"}),await T()):t(5,S={type:"error",text:se.error||"Chyba pri sp√∫≈°≈•an√≠ importu"})}catch{t(5,S={type:"error",text:"Chyba pri komunik√°cii so serverom"})}}function b(v){t(4,p={...v}),t(3,u=!0)}function k(v){Ve.call(this,s,v)}function W(v){Ve.call(this,s,v)}function z(v){Ve.call(this,s,v)}function G(v){Ve.call(this,s,v)}const ve=()=>t(2,d=!0),Y=()=>t(5,S=null),P=()=>t(2,d=!0),U=v=>D(v),ie=v=>b(v),H=v=>E(v),re=()=>t(2,d=!1);function F(){y.name=this.value,t(6,y)}function fe(){y.feed_url=this.value,t(6,y)}function $(){y.feed_type=Be(this),t(6,y)}function R(){y.xml_item_path=this.value,t(6,y)}const X=()=>t(2,d=!1),ee=()=>t(2,d=!1),ce=()=>t(3,u=!1);function M(){p.name=this.value,t(4,p)}function q(){p.feed_url=this.value,t(4,p)}function _e(){p.feed_type=Be(this),t(4,p)}function Q(){p.status=Be(this),t(4,p)}const te=()=>t(3,u=!1),w=()=>t(3,u=!1);return s.$$.update=()=>{s.$$.dirty[0]&32768,s.$$.dirty[0]&16384},[x,V,d,u,p,S,y,c,f,A,g,E,D,b,o,i,k,W,z,G,ve,Y,P,U,ie,H,re,F,fe,$,R,X,ee,ce,M,q,_e,Q,te,w]}class bt extends at{constructor(l){super(),nt(this,l,ft,ct,tt,{},null,[-1,-1])}}export{bt as component};
