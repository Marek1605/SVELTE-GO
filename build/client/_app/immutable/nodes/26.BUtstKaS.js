import{s as fe,n as st,d as r,i as A,b as s,y as Bt,q as i,c as n,e as h,w as I,g as y,h as o,j as g,R as Qt,k as ie,B as pe,K as he,r as _e,a as Y,H as ce,D as vt,I as me,f as L,t as O,m as be}from"../chunks/62sxw8SM.js";import{e as ue}from"../chunks/DldpiVGX.js";import{S as xe,i as Ce}from"../chunks/CanS3UQf.js";function ve(a,t,l){const e=a.slice();return e[20]=t[l],e}function ke(a){let t,l,e,c="üíµ",f,u,E,d=W(a[4].totalTopup,2)+"",p,D,v,x,k="Celkom dobit√Ω kredit",C,S,T,G="üí∏",J,B,U,_=W(a[4].totalSpent,2)+"",H,M,X,w,q="Celkom minut√©",mt,z,V,kt="üëÜ",at,N,m,b=W(a[4].totalClicks)+"",dt,bt,K,xt="Poƒçet preklikov",ft,R,nt,pt,Xt="Typ transakcie",Mt,F,$,$t="V≈°etky",tt,te="Dob√≠janie",et,ee="Prekliky",lt,le="Odpoƒç√≠tanie",qt,ot,ht,se="Od",Rt,rt,Ut,it,_t,ae="Do",zt,ct,gt,Q,ut,Ft,jt=a[5].length+"",Et,Kt,Zt,Yt,ne;function oe(j,P){return j[5].length===0?ge:ye}let Dt=oe(a),Z=Dt(a);return{c(){t=o("div"),l=o("div"),e=o("span"),e.textContent=c,f=g(),u=o("div"),E=o("span"),p=O(d),D=O(" ‚Ç¨"),v=g(),x=o("span"),x.textContent=k,C=g(),S=o("div"),T=o("span"),T.textContent=G,J=g(),B=o("div"),U=o("span"),H=O(_),M=O(" ‚Ç¨"),X=g(),w=o("span"),w.textContent=q,mt=g(),z=o("div"),V=o("span"),V.textContent=kt,at=g(),N=o("div"),m=o("span"),dt=O(b),bt=g(),K=o("span"),K.textContent=xt,ft=g(),R=o("div"),nt=o("div"),pt=o("label"),pt.textContent=Xt,Mt=g(),F=o("select"),$=o("option"),$.textContent=$t,tt=o("option"),tt.textContent=te,et=o("option"),et.textContent=ee,lt=o("option"),lt.textContent=le,qt=g(),ot=o("div"),ht=o("label"),ht.textContent=se,Rt=g(),rt=o("input"),Ut=g(),it=o("div"),_t=o("label"),_t.textContent=ae,zt=g(),ct=o("input"),gt=g(),Q=o("div"),ut=o("h2"),Ft=O("Hist√≥ria transakci√≠ ("),Et=O(jt),Kt=O(")"),Zt=g(),Z.c(),this.h()},l(j){t=n(j,"DIV",{class:!0});var P=h(t);l=n(P,"DIV",{class:!0});var St=h(l);e=n(St,"SPAN",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-mkqpbp"&&(e.textContent=c),f=y(St),u=n(St,"DIV",{class:!0});var Tt=h(u);E=n(Tt,"SPAN",{class:!0});var Gt=h(E);p=L(Gt,d),D=L(Gt," ‚Ç¨"),Gt.forEach(r),v=y(Tt),x=n(Tt,"SPAN",{class:!0,"data-svelte-h":!0}),I(x)!=="svelte-mhgu2v"&&(x.textContent=k),Tt.forEach(r),St.forEach(r),C=y(P),S=n(P,"DIV",{class:!0});var Pt=h(S);T=n(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),I(T)!=="svelte-1ucb4c8"&&(T.textContent=G),J=y(Pt),B=n(Pt,"DIV",{class:!0});var It=h(B);U=n(It,"SPAN",{class:!0});var Jt=h(U);H=L(Jt,_),M=L(Jt," ‚Ç¨"),Jt.forEach(r),X=y(It),w=n(It,"SPAN",{class:!0,"data-svelte-h":!0}),I(w)!=="svelte-1tcgh4n"&&(w.textContent=q),It.forEach(r),Pt.forEach(r),mt=y(P),z=n(P,"DIV",{class:!0});var At=h(z);V=n(At,"SPAN",{class:!0,"data-svelte-h":!0}),I(V)!=="svelte-1os234a"&&(V.textContent=kt),at=y(At),N=n(At,"DIV",{class:!0});var Nt=h(N);m=n(Nt,"SPAN",{class:!0});var re=h(m);dt=L(re,b),re.forEach(r),bt=y(Nt),K=n(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),I(K)!=="svelte-1o5wl1g"&&(K.textContent=xt),Nt.forEach(r),At.forEach(r),P.forEach(r),ft=y(j),R=n(j,"DIV",{class:!0});var Ct=h(R);nt=n(Ct,"DIV",{class:!0});var wt=h(nt);pt=n(wt,"LABEL",{class:!0,"data-svelte-h":!0}),I(pt)!=="svelte-a140wa"&&(pt.textContent=Xt),Mt=y(wt),F=n(wt,"SELECT",{class:!0});var yt=h(F);$=n(yt,"OPTION",{"data-svelte-h":!0}),I($)!=="svelte-1o6vx07"&&($.textContent=$t),tt=n(yt,"OPTION",{"data-svelte-h":!0}),I(tt)!=="svelte-eq3m0l"&&(tt.textContent=te),et=n(yt,"OPTION",{"data-svelte-h":!0}),I(et)!=="svelte-1f1ryth"&&(et.textContent=ee),lt=n(yt,"OPTION",{"data-svelte-h":!0}),I(lt)!=="svelte-v29bju"&&(lt.textContent=le),yt.forEach(r),wt.forEach(r),qt=y(Ct),ot=n(Ct,"DIV",{class:!0});var Vt=h(ot);ht=n(Vt,"LABEL",{class:!0,"data-svelte-h":!0}),I(ht)!=="svelte-qbu5r5"&&(ht.textContent=se),Rt=y(Vt),rt=n(Vt,"INPUT",{type:!0,class:!0}),Vt.forEach(r),Ut=y(Ct),it=n(Ct,"DIV",{class:!0});var Lt=h(it);_t=n(Lt,"LABEL",{class:!0,"data-svelte-h":!0}),I(_t)!=="svelte-13l3227"&&(_t.textContent=ae),zt=y(Lt),ct=n(Lt,"INPUT",{type:!0,class:!0}),Lt.forEach(r),Ct.forEach(r),gt=y(j),Q=n(j,"DIV",{class:!0});var Ot=h(Q);ut=n(Ot,"H2",{class:!0});var Ht=h(ut);Ft=L(Ht,"Hist√≥ria transakci√≠ ("),Et=L(Ht,jt),Kt=L(Ht,")"),Ht.forEach(r),Zt=y(Ot),Z.l(Ot),Ot.forEach(r),this.h()},h(){i(e,"class","summary-icon svelte-jox709"),i(E,"class","summary-value svelte-jox709"),i(x,"class","summary-label svelte-jox709"),i(u,"class","summary-content"),i(l,"class","summary-card success svelte-jox709"),i(T,"class","summary-icon svelte-jox709"),i(U,"class","summary-value svelte-jox709"),i(w,"class","summary-label svelte-jox709"),i(B,"class","summary-content"),i(S,"class","summary-card danger svelte-jox709"),i(V,"class","summary-icon svelte-jox709"),i(m,"class","summary-value svelte-jox709"),i(K,"class","summary-label svelte-jox709"),i(N,"class","summary-content"),i(z,"class","summary-card info svelte-jox709"),i(t,"class","summary-grid svelte-jox709"),i(pt,"class","svelte-jox709"),$.__value="all",vt($,$.__value),tt.__value="topup",vt(tt,tt.__value),et.__value="click",vt(et,et.__value),lt.__value="deduction",vt(lt,lt.__value),i(F,"class","svelte-jox709"),a[0]===void 0&&me(()=>a[12].call(F)),i(nt,"class","filter-group svelte-jox709"),i(ht,"class","svelte-jox709"),i(rt,"type","date"),i(rt,"class","svelte-jox709"),i(ot,"class","filter-group svelte-jox709"),i(_t,"class","svelte-jox709"),i(ct,"type","date"),i(ct,"class","svelte-jox709"),i(it,"class","filter-group svelte-jox709"),i(R,"class","filters svelte-jox709"),i(ut,"class","svelte-jox709"),i(Q,"class","transactions-section svelte-jox709")},m(j,P){A(j,t,P),s(t,l),s(l,e),s(l,f),s(l,u),s(u,E),s(E,p),s(E,D),s(u,v),s(u,x),s(t,C),s(t,S),s(S,T),s(S,J),s(S,B),s(B,U),s(U,H),s(U,M),s(B,X),s(B,w),s(t,mt),s(t,z),s(z,V),s(z,at),s(z,N),s(N,m),s(m,dt),s(N,bt),s(N,K),A(j,ft,P),A(j,R,P),s(R,nt),s(nt,pt),s(nt,Mt),s(nt,F),s(F,$),s(F,tt),s(F,et),s(F,lt),ce(F,a[0],!0),s(R,qt),s(R,ot),s(ot,ht),s(ot,Rt),s(ot,rt),vt(rt,a[1]),s(R,Ut),s(R,it),s(it,_t),s(it,zt),s(it,ct),vt(ct,a[2]),A(j,gt,P),A(j,Q,P),s(Q,ut),s(ut,Ft),s(ut,Et),s(ut,Kt),s(Q,Zt),Z.m(Q,null),Yt||(ne=[Bt(F,"change",a[12]),Bt(rt,"input",a[13]),Bt(ct,"input",a[14])],Yt=!0)},p(j,P){P&16&&d!==(d=W(j[4].totalTopup,2)+"")&&Y(p,d),P&16&&_!==(_=W(j[4].totalSpent,2)+"")&&Y(H,_),P&16&&b!==(b=W(j[4].totalClicks)+"")&&Y(dt,b),P&1&&ce(F,j[0]),P&2&&vt(rt,j[1]),P&4&&vt(ct,j[2]),P&32&&jt!==(jt=j[5].length+"")&&Y(Et,jt),Dt===(Dt=oe(j))&&Z?Z.p(j,P):(Z.d(1),Z=Dt(j),Z&&(Z.c(),Z.m(Q,null)))},d(j){j&&(r(t),r(ft),r(R),r(gt),r(Q)),Z.d(),Yt=!1,_e(ne)}}}function je(a){let t,l='<div class="spinner svelte-jox709"></div> <p>Naƒç√≠tavam reporty...</p>';return{c(){t=o("div"),t.innerHTML=l,this.h()},l(e){t=n(e,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1y0x6lg"&&(t.innerHTML=l),this.h()},h(){i(t,"class","loading svelte-jox709")},m(e,c){A(e,t,c)},p:st,d(e){e&&r(t)}}}function ye(a){let t,l,e,c='<tr><th class="svelte-jox709">D√°tum</th> <th class="svelte-jox709">Typ</th> <th class="svelte-jox709">Suma</th> <th class="svelte-jox709">Zostatok</th> <th class="svelte-jox709">Popis</th> <th class="svelte-jox709">Stav</th></tr>',f,u,E=ue(a[5]),d=[];for(let p=0;p<E.length;p+=1)d[p]=de(ve(a,E,p));return{c(){t=o("div"),l=o("table"),e=o("thead"),e.innerHTML=c,f=g(),u=o("tbody");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){t=n(p,"DIV",{class:!0});var D=h(t);l=n(D,"TABLE",{class:!0});var v=h(l);e=n(v,"THEAD",{"data-svelte-h":!0}),I(e)!=="svelte-f7eyi9"&&(e.innerHTML=c),f=y(v),u=n(v,"TBODY",{});var x=h(u);for(let k=0;k<d.length;k+=1)d[k].l(x);x.forEach(r),v.forEach(r),D.forEach(r),this.h()},h(){i(l,"class","svelte-jox709"),i(t,"class","table-wrapper svelte-jox709")},m(p,D){A(p,t,D),s(t,l),s(l,e),s(l,f),s(l,u);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(u,null)},p(p,D){if(D&32){E=ue(p[5]);let v;for(v=0;v<E.length;v+=1){const x=ve(p,E,v);d[v]?d[v].p(x,D):(d[v]=de(x),d[v].c(),d[v].m(u,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=E.length}},d(p){p&&r(t),be(d,p)}}}function ge(a){let t,l='<span class="no-data-icon svelte-jox709">üìã</span> <p>≈Ωiadne transakcie pre zvolen√© filtre</p>';return{c(){t=o("div"),t.innerHTML=l,this.h()},l(e){t=n(e,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-y0gkc7"&&(t.innerHTML=l),this.h()},h(){i(t,"class","no-data svelte-jox709")},m(e,c){A(e,t,c)},p:st,d(e){e&&r(t)}}}function Ee(a){let t,l=a[20].type+"",e;return{c(){t=o("span"),e=O(l),this.h()},l(c){t=n(c,"SPAN",{class:!0});var f=h(t);e=L(f,l),f.forEach(r),this.h()},h(){i(t,"class","badge badge-secondary svelte-jox709")},m(c,f){A(c,t,f),s(t,e)},p(c,f){f&32&&l!==(l=c[20].type+"")&&Y(e,l)},d(c){c&&r(t)}}}function De(a){let t,l="‚ûñ Odpoƒç√≠tanie";return{c(){t=o("span"),t.textContent=l,this.h()},l(e){t=n(e,"SPAN",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1uq31t"&&(t.textContent=l),this.h()},h(){i(t,"class","badge badge-warning svelte-jox709")},m(e,c){A(e,t,c)},p:st,d(e){e&&r(t)}}}function Se(a){let t,l="üëÜ Preklik";return{c(){t=o("span"),t.textContent=l,this.h()},l(e){t=n(e,"SPAN",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1mhp5fz"&&(t.textContent=l),this.h()},h(){i(t,"class","badge badge-info svelte-jox709")},m(e,c){A(e,t,c)},p:st,d(e){e&&r(t)}}}function Te(a){let t,l="üíµ Dob√≠janie";return{c(){t=o("span"),t.textContent=l,this.h()},l(e){t=n(e,"SPAN",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-2hwpp2"&&(t.textContent=l),this.h()},h(){i(t,"class","badge badge-success svelte-jox709")},m(e,c){A(e,t,c)},p:st,d(e){e&&r(t)}}}function Pe(a){let t,l,e=a[20].status+"",c;return{c(){t=o("span"),l=g(),c=O(e),this.h()},l(f){t=n(f,"SPAN",{class:!0}),h(t).forEach(r),l=y(f),c=L(f,e),this.h()},h(){i(t,"class","status-dot svelte-jox709")},m(f,u){A(f,t,u),A(f,l,u),A(f,c,u)},p(f,u){u&32&&e!==(e=f[20].status+"")&&Y(c,e)},d(f){f&&(r(t),r(l),r(c))}}}function Ie(a){let t,l;return{c(){t=o("span"),l=O(" ƒåak√°"),this.h()},l(e){t=n(e,"SPAN",{class:!0}),h(t).forEach(r),l=L(e," ƒåak√°"),this.h()},h(){i(t,"class","status-dot pending svelte-jox709")},m(e,c){A(e,t,c),A(e,l,c)},p:st,d(e){e&&(r(t),r(l))}}}function Ae(a){let t,l;return{c(){t=o("span"),l=O(" Dokonƒçen√©"),this.h()},l(e){t=n(e,"SPAN",{class:!0}),h(t).forEach(r),l=L(e," Dokonƒçen√©"),this.h()},h(){i(t,"class","status-dot completed svelte-jox709")},m(e,c){A(e,t,c),A(e,l,c)},p:st,d(e){e&&(r(t),r(l))}}}function de(a){let t,l,e=Wt(a[20].created_at)+"",c,f,u,E,d,p=a[20].amount>=0?"+":"",D,v=W(a[20].amount,2)+"",x,k,C,S,T,G=W(a[20].balance_after,2)+"",J,B,U,_,H=(a[20].description||"-")+"",M,X,w,q;function mt(m,b){return m[20].type==="topup"?Te:m[20].type==="click"?Se:m[20].type==="deduction"?De:Ee}let z=mt(a),V=z(a);function kt(m,b){return m[20].status==="completed"?Ae:m[20].status==="pending"?Ie:Pe}let at=kt(a),N=at(a);return{c(){t=o("tr"),l=o("td"),c=O(e),f=g(),u=o("td"),V.c(),E=g(),d=o("td"),D=O(p),x=O(v),k=O(" ‚Ç¨"),S=g(),T=o("td"),J=O(G),B=O(" ‚Ç¨"),U=g(),_=o("td"),M=O(H),X=g(),w=o("td"),N.c(),q=g(),this.h()},l(m){t=n(m,"TR",{});var b=h(t);l=n(b,"TD",{class:!0});var dt=h(l);c=L(dt,e),dt.forEach(r),f=y(b),u=n(b,"TD",{class:!0});var bt=h(u);V.l(bt),bt.forEach(r),E=y(b),d=n(b,"TD",{class:!0});var K=h(d);D=L(K,p),x=L(K,v),k=L(K," ‚Ç¨"),K.forEach(r),S=y(b),T=n(b,"TD",{class:!0});var xt=h(T);J=L(xt,G),B=L(xt," ‚Ç¨"),xt.forEach(r),U=y(b),_=n(b,"TD",{class:!0});var ft=h(_);M=L(ft,H),ft.forEach(r),X=y(b),w=n(b,"TD",{class:!0});var R=h(w);N.l(R),R.forEach(r),q=y(b),b.forEach(r),this.h()},h(){i(l,"class","svelte-jox709"),i(u,"class","svelte-jox709"),i(d,"class",C="amount "+(a[20].amount>=0?"positive":"negative")+" svelte-jox709"),i(T,"class","svelte-jox709"),i(_,"class","description svelte-jox709"),i(w,"class","svelte-jox709")},m(m,b){A(m,t,b),s(t,l),s(l,c),s(t,f),s(t,u),V.m(u,null),s(t,E),s(t,d),s(d,D),s(d,x),s(d,k),s(t,S),s(t,T),s(T,J),s(T,B),s(t,U),s(t,_),s(_,M),s(t,X),s(t,w),N.m(w,null),s(t,q)},p(m,b){b&32&&e!==(e=Wt(m[20].created_at)+"")&&Y(c,e),z===(z=mt(m))&&V?V.p(m,b):(V.d(1),V=z(m),V&&(V.c(),V.m(u,null))),b&32&&p!==(p=m[20].amount>=0?"+":"")&&Y(D,p),b&32&&v!==(v=W(m[20].amount,2)+"")&&Y(x,v),b&32&&C!==(C="amount "+(m[20].amount>=0?"positive":"negative")+" svelte-jox709")&&i(d,"class",C),b&32&&G!==(G=W(m[20].balance_after,2)+"")&&Y(J,G),b&32&&H!==(H=(m[20].description||"-")+"")&&Y(M,H),at===(at=kt(m))&&N?N.p(m,b):(N.d(1),N=at(m),N&&(N.c(),N.m(w,null)))},d(m){m&&r(t),V.d(),N.d()}}}function Ne(a){let t,l,e,c="üìã Reporty",f,u,E="üì• Exportova≈• CSV",d,p,D;function v(C,S){return C[3]?je:ke}let x=v(a),k=x(a);return{c(){t=o("div"),l=o("div"),e=o("h1"),e.textContent=c,f=g(),u=o("button"),u.textContent=E,d=g(),k.c(),this.h()},l(C){t=n(C,"DIV",{class:!0});var S=h(t);l=n(S,"DIV",{class:!0});var T=h(l);e=n(T,"H1",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1h1xwwd"&&(e.textContent=c),f=y(T),u=n(T,"BUTTON",{class:!0,"data-svelte-h":!0}),I(u)!=="svelte-1ljlbll"&&(u.textContent=E),T.forEach(r),d=y(S),k.l(S),S.forEach(r),this.h()},h(){i(e,"class","svelte-jox709"),i(u,"class","export-btn svelte-jox709"),i(l,"class","reports-header svelte-jox709"),i(t,"class","reports-container svelte-jox709")},m(C,S){A(C,t,S),s(t,l),s(l,e),s(l,f),s(l,u),s(t,d),k.m(t,null),p||(D=Bt(u,"click",a[8]),p=!0)},p(C,[S]){x===(x=v(C))&&k?k.p(C,S):(k.d(1),k=x(C),k&&(k.c(),k.m(t,null)))},i:st,o:st,d(C){C&&r(t),k.d(),p=!1,D()}}}function W(a,t=0){return(a||0).toLocaleString("sk-SK",{minimumFractionDigits:t,maximumFractionDigits:t})}function Wt(a){return a?new Date(a).toLocaleDateString("sk-SK",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function we(a,t,l){let e,c,f;const u=Qt("vendor");ie(a,u,_=>l(11,f=_));const E=Qt("shop");ie(a,E,_=>l(10,c=_));const d=Qt("API_BASE");let p=!0,D=[],v="all",x="",k="",C={totalTopup:0,totalSpent:0,totalClicks:0};pe(async()=>{await S()});async function S(){l(3,p=!0);const _=localStorage.getItem("vendor_token");if(_){try{const M=await(await fetch(`${d}/vendor/transactions`,{headers:{Authorization:`Bearer ${_}`}})).json();M.success&&M.data&&(l(9,D=M.data),T())}catch(H){console.error("Error loading transactions:",H)}l(3,p=!1)}}function T(){l(4,C={totalTopup:0,totalSpent:0,totalClicks:0}),D.forEach(_=>{_.type==="topup"&&_.amount>0?l(4,C.totalTopup+=_.amount,C):(_.type==="click"||_.amount<0)&&(l(4,C.totalSpent+=Math.abs(_.amount),C),l(4,C.totalClicks++,C))})}function G(){const _=["D√°tum","Typ","Suma","Zostatok","Popis"],H=e.map(q=>[Wt(q.created_at),q.type,q.amount,q.balance_after,q.description||""]),M=[_,...H].map(q=>q.join(";")).join(`
`),X=new Blob([M],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(X),w.download=`report-${new Date().toISOString().split("T")[0]}.csv`,w.click()}function J(){v=he(this),l(0,v)}function B(){x=this.value,l(1,x)}function U(){k=this.value,l(2,k)}return a.$$.update=()=>{a.$$.dirty&2048,a.$$.dirty&1024,a.$$.dirty&519&&l(5,e=D.filter(_=>!(v!=="all"&&_.type!==v||x&&new Date(_.created_at)<new Date(x)||k&&new Date(_.created_at)>new Date(k+"T23:59:59"))))},[v,x,k,p,C,e,u,E,G,D,c,f,J,B,U]}class He extends xe{constructor(t){super(),Ce(this,t,we,Ne,fe,{})}}export{He as component};
