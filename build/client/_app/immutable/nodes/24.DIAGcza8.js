import{s as ne,n as Y,d as m,r as le,D as O,a as ee,i as te,b as t,y as G,q as s,c as i,e as P,w as L,g as A,f as se,h as d,j as D,t as ae,R as oe}from"../chunks/62sxw8SM.js";import{S as re,i as ie}from"../chunks/CanS3UQf.js";import{g as de}from"../chunks/BgEU-LZt.js";function $(c){let a,e;return{c(){a=d("div"),e=ae(c[3]),this.h()},l(n){a=i(n,"DIV",{class:!0});var o=P(a);e=se(o,c[3]),o.forEach(m),this.h()},h(){s(a,"class","add-shop-error svelte-ei3ann")},m(n,o){te(n,a,o),t(a,e)},p(n,o){o&8&&ee(e,n[3])},d(n){n&&m(a)}}}function ce(c){let a,e,n,o="➕ Pridať nový obchod",C,h,g="Vytvorte nový obchod pre správu produktov",N,k,u,v,b,T="Názov obchodu *",R,p,H,E,j,K="URL obchodu",J,f,M,I,V,Q="← Späť",Z,y,x=c[2]?"Vytváram...":"Vytvoriť obchod",U,F,W,l=c[3]&&$(c);return{c(){a=d("div"),e=d("div"),n=d("h1"),n.textContent=o,C=D(),h=d("p"),h.textContent=g,N=D(),l&&l.c(),k=D(),u=d("div"),v=d("div"),b=d("label"),b.textContent=T,R=D(),p=d("input"),H=D(),E=d("div"),j=d("label"),j.textContent=K,J=D(),f=d("input"),M=D(),I=d("div"),V=d("a"),V.textContent=Q,Z=D(),y=d("button"),U=ae(x),this.h()},l(r){a=i(r,"DIV",{class:!0});var _=P(a);e=i(_,"DIV",{class:!0});var S=P(e);n=i(S,"H1",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-1ygyn0r"&&(n.textContent=o),C=A(S),h=i(S,"P",{class:!0,"data-svelte-h":!0}),L(h)!=="svelte-xofq08"&&(h.textContent=g),N=A(S),l&&l.l(S),k=A(S),u=i(S,"DIV",{class:!0});var B=P(u);v=i(B,"DIV",{class:!0});var q=P(v);b=i(q,"LABEL",{class:!0,"data-svelte-h":!0}),L(b)!=="svelte-1bqt62y"&&(b.textContent=T),R=A(q),p=i(q,"INPUT",{type:!0,placeholder:!0,class:!0}),q.forEach(m),H=A(B),E=i(B,"DIV",{class:!0});var z=P(E);j=i(z,"LABEL",{class:!0,"data-svelte-h":!0}),L(j)!=="svelte-18cnn25"&&(j.textContent=K),J=A(z),f=i(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(m),M=A(B),I=i(B,"DIV",{class:!0});var w=P(I);V=i(w,"A",{href:!0,class:!0,"data-svelte-h":!0}),L(V)!=="svelte-4lz4y8"&&(V.textContent=Q),Z=A(w),y=i(w,"BUTTON",{class:!0});var X=P(y);U=se(X,x),X.forEach(m),w.forEach(m),B.forEach(m),S.forEach(m),_.forEach(m),this.h()},h(){s(n,"class","svelte-ei3ann"),s(h,"class","svelte-ei3ann"),s(b,"class","svelte-ei3ann"),s(p,"type","text"),s(p,"placeholder","Môj E-shop"),s(p,"class","svelte-ei3ann"),s(v,"class","form-group svelte-ei3ann"),s(j,"class","svelte-ei3ann"),s(f,"type","url"),s(f,"placeholder","https://moj-eshop.sk"),s(f,"class","svelte-ei3ann"),s(E,"class","form-group svelte-ei3ann"),s(V,"href","/vendor-dashboard"),s(V,"class","btn btn-secondary svelte-ei3ann"),s(y,"class","btn btn-primary svelte-ei3ann"),y.disabled=c[2],s(I,"class","form-actions svelte-ei3ann"),s(u,"class","add-shop-form"),s(e,"class","add-shop-card svelte-ei3ann"),s(a,"class","add-shop-page svelte-ei3ann")},m(r,_){te(r,a,_),t(a,e),t(e,n),t(e,C),t(e,h),t(e,N),l&&l.m(e,null),t(e,k),t(e,u),t(u,v),t(v,b),t(v,R),t(v,p),O(p,c[0]),t(u,H),t(u,E),t(E,j),t(E,J),t(E,f),O(f,c[1]),t(u,M),t(u,I),t(I,V),t(I,Z),t(I,y),t(y,U),F||(W=[G(p,"input",c[5]),G(f,"input",c[6]),G(y,"click",c[4])],F=!0)},p(r,[_]){r[3]?l?l.p(r,_):(l=$(r),l.c(),l.m(e,k)):l&&(l.d(1),l=null),_&1&&p.value!==r[0]&&O(p,r[0]),_&2&&f.value!==r[1]&&O(f,r[1]),_&4&&x!==(x=r[2]?"Vytváram...":"Vytvoriť obchod")&&ee(U,x),_&4&&(y.disabled=r[2])},i:Y,o:Y,d(r){r&&m(a),l&&l.d(),F=!1,le(W)}}}function ue(c,a,e){const n=oe("API_BASE");let o="",C="",h=!1,g="";async function N(){if(!o.trim()){e(3,g="Zadajte názov obchodu");return}e(2,h=!0),e(3,g="");const v=localStorage.getItem("vendor_token");try{const T=await(await fetch(`${n}/vendor/shops`,{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({shop_name:o,shop_url:C})})).json();T.success?de("/vendor-dashboard"):e(3,g=T.message||"Chyba pri vytváraní obchodu")}catch{e(3,g="Chyba pripojenia")}e(2,h=!1)}function k(){o=this.value,e(0,o)}function u(){C=this.value,e(1,C)}return[o,C,h,g,N,k,u]}class fe extends re{constructor(a){super(),ie(this,a,ue,ce,ne,{})}}export{fe as component};
