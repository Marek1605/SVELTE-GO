import{s as el,n as ct,d as f,m as tt,r as it,i as G,b as n,y as le,q as i,c as u,e as v,w as L,g as x,h as d,j as E,k as vt,Y as al,a as Be,f as re,t as ie,H as Ie,D as K,N as at,O as rt,v as rl,B as il,I as ft,X as tl,Z as ul,G as dt}from"../chunks/DFArySuv.js";import{S as ll,i as nl,a as mt,t as pt,c as dl,f as cl,d as fl,m as _l,e as hl,b as pl,g as vl}from"../chunks/s82JoINO.js";import{e as Ve,u as gl,d as ml}from"../chunks/BCvDt_cB.js";import{g as bl}from"../chunks/DIl3ZwIa.js";import{w as _t}from"../chunks/BpLCBJTw.js";const yl=_t([]),bt=_t(null),yt=_t(!1),ol=_t([]),sl=_t([]),kl="http://localhost:8080/api/v1";async function gt(o,e={}){try{const t=await fetch(`${kl}${o}`,{headers:{"Content-Type":"application/json",...e.headers},...e}),l=await t.json().catch(()=>null);return t.ok?l:{success:!1,error:(l==null?void 0:l.error)||`HTTP ${t.status}`}}catch(t){return{success:!1,error:t.message||"Network error"}}}async function Cl(o){const e=await gt("/feeds",{method:"POST",body:JSON.stringify(o)});if(e.success&&e.data)return yl.update(t=>[...t,e.data]),e.data;throw new Error(e.error||"Failed to create feed")}async function xl(o,e,t){yt.set(!0),bt.set(null);const l=await gt("/feeds/preview",{method:"POST",body:JSON.stringify({url:o,type:e||"",xml_item_path:t||""})});if(yt.set(!1),l.success&&l.data)return bt.set(l.data),l.data;throw new Error(l.error||"Failed to preview feed")}async function El(){const o=await gt("/feeds/meta/target-fields");o.success&&o.data&&ol.set(o.data)}async function wl(){const o=await gt("/feeds/meta/transforms");o.success&&o.data&&sl.set(o.data)}async function Il(){await Promise.all([El(),wl()])}function Ct(o,e,t){const l=o.slice();return l[36]=e[t],l}function xt(o,e,t){const l=o.slice();return l[39]=e[t],l[41]=t,l}function Et(o,e,t){const l=o.slice();return l[42]=e[t],l}function wt(o,e,t){const l=o.slice();return l[45]=e[t],l}function It(o,e,t){const l=o.slice();return l[36]=e[t],l}function Tt(o,e,t){const l=o.slice();return l[50]=e[t][0],l[51]=e[t][1],l}function Dt(o,e,t){const l=o.slice();return l[54]=e[t],l}function Nt(o,e,t){const l=o.slice();return l[54]=e[t],l}function Tl(o){let e,t=[],l=new Map,r=Ve(o[0]);const s=a=>a[41];for(let a=0;a<r.length;a+=1){let c=xt(o,r,a),h=s(c);l.set(h,t[a]=qt(h,c))}return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=u(a,"DIV",{class:!0});var c=v(e);for(let h=0;h<t.length;h+=1)t[h].l(c);c.forEach(f),this.h()},h(){i(e,"class","space-y-3")},m(a,c){G(a,e,c);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null)},p(a,c){c[0]&130815&&(r=Ve(a[0]),t=gl(t,c,s,1,a,r,l,e,ml,qt,null,xt))},d(a){a&&f(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Dl(o){let e,t,l="Žiadne mapovanie polí",r,s,a="Pridať prvé mapovanie",c,h;return{c(){e=d("div"),t=d("div"),t.textContent=l,r=E(),s=d("button"),s.textContent=a,this.h()},l(g){e=u(g,"DIV",{class:!0});var _=v(e);t=u(_,"DIV",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-ov5j64"&&(t.textContent=l),r=x(_),s=u(_,"BUTTON",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-jmfp3d"&&(s.textContent=a),_.forEach(f),this.h()},h(){i(t,"class","text-gray-500 mb-4"),i(s,"class","px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"),i(e,"class","bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl p-8 text-center")},m(g,_){G(g,e,_),n(e,t),n(e,r),n(e,s),c||(h=le(s,"click",o[8]),c=!0)},p:ct,d(g){g&&f(e),c=!1,h()}}}function Ot(o){let e,t=o[54]+"",l,r;return{c(){e=d("option"),l=ie(t),this.h()},l(s){e=u(s,"OPTION",{});var a=v(e);l=re(a,t),a.forEach(f),this.h()},h(){e.__value=r=o[54],K(e,e.__value)},m(s,a){G(s,e,a),n(e,l)},p(s,a){a[0]&2&&t!==(t=s[54]+"")&&Be(l,t),a[0]&2&&r!==(r=s[54])&&(e.__value=r,K(e,e.__value))},d(s){s&&f(e)}}}function Pt(o){let e,t,l=(o[11](o[39].source_field)||"(prázdne)")+"",r,s;return{c(){e=d("div"),t=ie("Ukážka: "),r=ie(l),this.h()},l(a){e=u(a,"DIV",{class:!0,title:!0});var c=v(e);t=re(c,"Ukážka: "),r=re(c,l),c.forEach(f),this.h()},h(){i(e,"class","text-xs text-gray-400 mt-1 truncate"),i(e,"title",s=o[11](o[39].source_field))},m(a,c){G(a,e,c),n(e,t),n(e,r)},p(a,c){c[0]&1&&l!==(l=(a[11](a[39].source_field)||"(prázdne)")+"")&&Be(r,l),c[0]&3&&s!==(s=a[11](a[39].source_field))&&i(e,"title",s)},d(a){a&&f(e)}}}function Vt(o){let e,t=o[54].label+"",l,r,s=o[54].required?"*":"",a,c,h;return{c(){e=d("option"),l=ie(t),r=E(),a=ie(s),c=E(),this.h()},l(g){e=u(g,"OPTION",{});var _=v(e);l=re(_,t),r=x(_),a=re(_,s),c=x(_),_.forEach(f),this.h()},h(){e.__value=h=o[54].key,K(e,e.__value)},m(g,_){G(g,e,_),n(e,l),n(e,r),n(e,a),n(e,c)},p(g,_){_[0]&8&&t!==(t=g[54].label+"")&&Be(l,t),_[0]&8&&s!==(s=g[54].required?"*":"")&&Be(a,s),_[0]&8&&h!==(h=g[54].key)&&(e.__value=h,K(e,e.__value))},d(g){g&&f(e)}}}function Lt(o){let e,t,l=Ve(o[51]),r=[];for(let s=0;s<l.length;s+=1)r[s]=Vt(Dt(o,l,s));return{c(){e=d("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=u(s,"OPTGROUP",{label:!0});var a=v(e);for(let c=0;c<r.length;c+=1)r[c].l(a);a.forEach(f),this.h()},h(){i(e,"label",t=o[5][o[50]]||o[50])},m(s,a){G(s,e,a);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null)},p(s,a){if(a[0]&8){l=Ve(s[51]);let c;for(c=0;c<l.length;c+=1){const h=Dt(s,l,c);r[c]?r[c].p(h,a):(r[c]=Vt(h),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=l.length}a[0]&8&&t!==(t=s[5][s[50]]||s[50])&&i(e,"label",t)},d(s){s&&f(e),tt(r,s)}}}function At(o){let e,t=o[36].label+"",l,r;return{c(){e=d("option"),l=ie(t),this.h()},l(s){e=u(s,"OPTION",{});var a=v(e);l=re(a,t),a.forEach(f),this.h()},h(){e.__value=r=o[36].key,K(e,e.__value)},m(s,a){G(s,e,a),n(e,l)},p(s,a){a[0]&16&&t!==(t=s[36].label+"")&&Be(l,t),a[0]&16&&r!==(r=s[36].key)&&(e.__value=r,K(e,e.__value))},d(s){s&&f(e)}}}function St(o){let e,t=o[12](o[39].transform_type),l=t&&Mt(o);return{c(){e=d("div"),l&&l.c(),this.h()},l(r){e=u(r,"DIV",{class:!0});var s=v(e);l&&l.l(s),s.forEach(f),this.h()},h(){i(e,"class","mt-4 pt-4 border-t border-gray-100 flex gap-4")},m(r,s){G(r,e,s),l&&l.m(e,null)},p(r,s){s[0]&1&&(t=r[12](r[39].transform_type)),t?l?l.p(r,s):(l=Mt(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(r){r&&f(e),l&&l.d()}}}function Mt(o){let e,t,l="Transformačný parameter",r,s,a,c,h;function g(..._){return o[25](o[41],..._)}return{c(){e=d("div"),t=d("label"),t.textContent=l,r=E(),s=d("input"),this.h()},l(_){e=u(_,"DIV",{class:!0});var m=v(e);t=u(m,"LABEL",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-1gt69qu"&&(t.textContent=l),r=x(m),s=u(m,"INPUT",{type:!0,placeholder:!0,class:!0}),m.forEach(f),this.h()},h(){i(t,"class","block text-xs font-medium text-gray-500 mb-1"),i(s,"type","text"),s.value=a=o[39].transform_value,i(s,"placeholder","Hodnota pre transformáciu"),i(s,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(e,"class","flex-1")},m(_,m){G(_,e,m),n(e,t),n(e,r),n(e,s),c||(h=le(s,"input",g),c=!0)},p(_,m){o=_,m[0]&3&&a!==(a=o[39].transform_value)&&s.value!==a&&(s.value=a)},d(_){_&&f(e),c=!1,h()}}}function jt(o){let e,t="Aktívna";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1glte39"&&(e.textContent=t),this.h()},h(){i(e,"class","px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs")},m(l,r){G(l,e,r)},d(l){l&&f(e)}}}function Bt(o){let e,t=o[45].label+"",l;return{c(){e=d("option"),l=ie(t),this.h()},l(r){e=u(r,"OPTION",{});var s=v(e);l=re(s,t),s.forEach(f),this.h()},h(){e.__value=o[45].key,K(e,e.__value)},m(r,s){G(r,e,s),n(e,l)},p:ct,d(r){r&&f(e)}}}function Ut(o){let e,t,l="Hodnota",r,s,a,c,h;function g(..._){return o[27](o[41],..._)}return{c(){e=d("div"),t=d("label"),t.textContent=l,r=E(),s=d("input"),this.h()},l(_){e=u(_,"DIV",{class:!0});var m=v(e);t=u(m,"LABEL",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-b2yw2z"&&(t.textContent=l),r=x(m),s=u(m,"INPUT",{type:!0,placeholder:!0,class:!0}),m.forEach(f),this.h()},h(){i(t,"class","block text-xs font-medium text-gray-500 mb-1"),i(s,"type","text"),s.value=a=o[39].condition_value,i(s,"placeholder","Hodnota pre porovnanie"),i(s,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(e,"class","flex-1")},m(_,m){G(_,e,m),n(e,t),n(e,r),n(e,s),c||(h=le(s,"input",g),c=!0)},p(_,m){o=_,m[0]&3&&a!==(a=o[39].condition_value)&&s.value!==a&&(s.value=a)},d(_){_&&f(e),c=!1,h()}}}function zt(o){let e,t,l="Akcia",r,s,a,c,h,g=Ve(o[7]),_=[];for(let p=0;p<g.length;p+=1)_[p]=Ht(Et(o,g,p));function m(...p){return o[28](o[41],...p)}return{c(){e=d("div"),t=d("label"),t.textContent=l,r=E(),s=d("select");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){e=u(p,"DIV",{class:!0});var w=v(e);t=u(w,"LABEL",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-39ewa3"&&(t.textContent=l),r=x(w),s=u(w,"SELECT",{class:!0});var I=v(s);for(let V=0;V<_.length;V+=1)_[V].l(I);I.forEach(f),w.forEach(f),this.h()},h(){i(t,"class","block text-xs font-medium text-gray-500 mb-1"),i(s,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(e,"class","w-48")},m(p,w){G(p,e,w),n(e,t),n(e,r),n(e,s);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(s,null);Ie(s,o[39].condition_action),c||(h=le(s,"change",m),c=!0)},p(p,w){if(o=p,w[0]&128){g=Ve(o[7]);let I;for(I=0;I<g.length;I+=1){const V=Et(o,g,I);_[I]?_[I].p(V,w):(_[I]=Ht(V),_[I].c(),_[I].m(s,null))}for(;I<_.length;I+=1)_[I].d(1);_.length=g.length}w[0]&3&&a!==(a=o[39].condition_action)&&Ie(s,o[39].condition_action)},d(p){p&&f(e),tt(_,p),c=!1,h()}}}function Ht(o){let e,t=o[42].label+"",l;return{c(){e=d("option"),l=ie(t),this.h()},l(r){e=u(r,"OPTION",{});var s=v(e);l=re(s,t),s.forEach(f),this.h()},h(){e.__value=o[42].key,K(e,e.__value)},m(r,s){G(r,e,s),n(e,l)},p:ct,d(r){r&&f(e)}}}function qt(o,e){let t,l,r,s='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm8-12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path></svg>',a,c,h,g="Zdrojové pole",_,m,p,w="-- Vyberte pole --",I,V,z,D,M='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>',B,N,A,U="Cieľové pole",k,T,C,j="-- Vyberte pole --",q,F,R,W,ye="Transformácia",oe,ee,ue,ne,X,y='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',O,S=e[12](e[39].transform_type)||e[39].condition_type!=="none",J,Z,ve,se,H,ce,Oe,Te,ae,Se,ge,Ke="Typ podmienky",Ze,Y,Ue,Je,Q,de,Le,ke,Ae,Pe=Ve(e[1]),fe=[];for(let P=0;P<Pe.length;P+=1)fe[P]=Ot(Nt(e,Pe,P));function He(...P){return e[21](e[41],...P)}let me=e[39].source_field&&Pt(e),je=Ve(Object.entries(e[3])),_e=[];for(let P=0;P<je.length;P+=1)_e[P]=Lt(Tt(e,je,P));function ze(...P){return e[22](e[41],...P)}let Ee=Ve(e[4]),we=[];for(let P=0;P<Ee.length;P+=1)we[P]=At(It(e,Ee,P));function ut(...P){return e[23](e[41],...P)}function qe(){return e[24](e[41])}let Ce=S&&St(e),De=e[39].condition_type!=="none"&&jt(),Xe=Ve(e[6]),$=[];for(let P=0;P<Xe.length;P+=1)$[P]=Bt(wt(e,Xe,P));function ht(...P){return e[26](e[41],...P)}let xe=e[39].condition_type!=="none"&&e[39].condition_type!=="not_empty"&&Ut(e),he=e[39].condition_type!=="none"&&zt(e);function pe(...P){return e[29](e[41],...P)}function Ne(...P){return e[30](e[41],...P)}function Fe(...P){return e[31](e[41],...P)}return{key:o,first:null,c(){t=d("div"),l=d("div"),r=d("div"),r.innerHTML=s,a=E(),c=d("div"),h=d("label"),h.textContent=g,_=E(),m=d("select"),p=d("option"),p.textContent=w;for(let P=0;P<fe.length;P+=1)fe[P].c();V=E(),me&&me.c(),z=E(),D=d("div"),D.innerHTML=M,B=E(),N=d("div"),A=d("label"),A.textContent=U,k=E(),T=d("select"),C=d("option"),C.textContent=j;for(let P=0;P<_e.length;P+=1)_e[P].c();F=E(),R=d("div"),W=d("label"),W.textContent=ye,oe=E(),ee=d("select");for(let P=0;P<we.length;P+=1)we[P].c();ne=E(),X=d("button"),X.innerHTML=y,O=E(),Ce&&Ce.c(),J=E(),Z=d("div"),ve=d("details"),se=d("summary"),H=rt("svg"),ce=rt("path"),Oe=ie(`
                                Podmienky
                                `),De&&De.c(),Te=E(),ae=d("div"),Se=d("div"),ge=d("label"),ge.textContent=Ke,Ze=E(),Y=d("select");for(let P=0;P<$.length;P+=1)$[P].c();Je=E(),xe&&xe.c(),Q=E(),he&&he.c(),de=E(),this.h()},l(P){t=u(P,"DIV",{class:!0,draggable:!0});var te=v(t);l=u(te,"DIV",{class:!0});var b=v(l);r=u(b,"DIV",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-b77kjp"&&(r.innerHTML=s),a=x(b),c=u(b,"DIV",{class:!0});var be=v(c);h=u(be,"LABEL",{class:!0,"data-svelte-h":!0}),L(h)!=="svelte-1qjcc7"&&(h.textContent=g),_=x(be),m=u(be,"SELECT",{class:!0});var $e=v(m);p=u($e,"OPTION",{"data-svelte-h":!0}),L(p)!=="svelte-iyagmf"&&(p.textContent=w);for(let Me=0;Me<fe.length;Me+=1)fe[Me].l($e);$e.forEach(f),V=x(be),me&&me.l(be),be.forEach(f),z=x(b),D=u(b,"DIV",{class:!0,"data-svelte-h":!0}),L(D)!=="svelte-27hmv4"&&(D.innerHTML=M),B=x(b),N=u(b,"DIV",{class:!0});var Ye=v(N);A=u(Ye,"LABEL",{class:!0,"data-svelte-h":!0}),L(A)!=="svelte-1ajr6u3"&&(A.textContent=U),k=x(Ye),T=u(Ye,"SELECT",{class:!0});var et=v(T);C=u(et,"OPTION",{"data-svelte-h":!0}),L(C)!=="svelte-iyagmf"&&(C.textContent=j);for(let Me=0;Me<_e.length;Me+=1)_e[Me].l(et);et.forEach(f),Ye.forEach(f),F=x(b),R=u(b,"DIV",{class:!0});var Ge=v(R);W=u(Ge,"LABEL",{class:!0,"data-svelte-h":!0}),L(W)!=="svelte-1gk80n0"&&(W.textContent=ye),oe=x(Ge),ee=u(Ge,"SELECT",{class:!0});var lt=v(ee);for(let Me=0;Me<we.length;Me+=1)we[Me].l(lt);lt.forEach(f),Ge.forEach(f),ne=x(b),X=u(b,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),L(X)!=="svelte-fyw83c"&&(X.innerHTML=y),b.forEach(f),O=x(te),Ce&&Ce.l(te),J=x(te),Z=u(te,"DIV",{class:!0});var nt=v(Z);ve=u(nt,"DETAILS",{class:!0});var Qe=v(ve);se=u(Qe,"SUMMARY",{class:!0});var We=v(se);H=at(We,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ot=v(H);ce=at(ot,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(ce).forEach(f),ot.forEach(f),Oe=re(We,`
                                Podmienky
                                `),De&&De.l(We),We.forEach(f),Te=x(Qe),ae=u(Qe,"DIV",{class:!0});var Re=v(ae);Se=u(Re,"DIV",{class:!0});var st=v(Se);ge=u(st,"LABEL",{class:!0,"data-svelte-h":!0}),L(ge)!=="svelte-5lsuen"&&(ge.textContent=Ke),Ze=x(st),Y=u(st,"SELECT",{class:!0});var kt=v(Y);for(let Me=0;Me<$.length;Me+=1)$[Me].l(kt);kt.forEach(f),st.forEach(f),Je=x(Re),xe&&xe.l(Re),Q=x(Re),he&&he.l(Re),Re.forEach(f),Qe.forEach(f),nt.forEach(f),de=x(te),te.forEach(f),this.h()},h(){i(r,"class","cursor-move text-gray-400 hover:text-gray-600 pt-2"),i(h,"class","block text-xs font-medium text-gray-500 mb-1"),p.__value="",K(p,p.__value),i(m,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(c,"class","flex-1"),i(D,"class","text-gray-400 pt-8"),i(A,"class","block text-xs font-medium text-gray-500 mb-1"),C.__value="",K(C,C.__value),i(T,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(N,"class","flex-1"),i(W,"class","block text-xs font-medium text-gray-500 mb-1"),i(ee,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(R,"class","w-40"),i(X,"class","p-2 text-red-500 hover:bg-red-50 rounded-lg transition mt-6"),i(X,"title","Odstrániť"),i(l,"class","flex items-start gap-4"),i(ce,"stroke-linecap","round"),i(ce,"stroke-linejoin","round"),i(ce,"stroke-width","2"),i(ce,"d","M9 5l7 7-7 7"),i(H,"class","w-4 h-4 transition-transform group-open:rotate-90"),i(H,"fill","none"),i(H,"stroke","currentColor"),i(H,"viewBox","0 0 24 24"),i(se,"class","flex items-center gap-2 cursor-pointer text-sm text-gray-600 hover:text-gray-900"),i(ge,"class","block text-xs font-medium text-gray-500 mb-1"),i(Y,"class","w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(Se,"class","w-40"),i(ae,"class","mt-3 flex gap-4"),i(ve,"class","group"),i(Z,"class","mt-4 pt-4 border-t border-gray-100"),i(t,"class",Le="bg-white border border-gray-200 rounded-xl p-4 transition-all "+(e[2]===e[41]?"border-indigo-400 bg-indigo-50":"")),i(t,"draggable","true"),this.first=t},m(P,te){G(P,t,te),n(t,l),n(l,r),n(l,a),n(l,c),n(c,h),n(c,_),n(c,m),n(m,p);for(let b=0;b<fe.length;b+=1)fe[b]&&fe[b].m(m,null);Ie(m,e[39].source_field),n(c,V),me&&me.m(c,null),n(l,z),n(l,D),n(l,B),n(l,N),n(N,A),n(N,k),n(N,T),n(T,C);for(let b=0;b<_e.length;b+=1)_e[b]&&_e[b].m(T,null);Ie(T,e[39].target_field),n(l,F),n(l,R),n(R,W),n(R,oe),n(R,ee);for(let b=0;b<we.length;b+=1)we[b]&&we[b].m(ee,null);Ie(ee,e[39].transform_type),n(l,ne),n(l,X),n(t,O),Ce&&Ce.m(t,null),n(t,J),n(t,Z),n(Z,ve),n(ve,se),n(se,H),n(H,ce),n(se,Oe),De&&De.m(se,null),n(ve,Te),n(ve,ae),n(ae,Se),n(Se,ge),n(Se,Ze),n(Se,Y);for(let b=0;b<$.length;b+=1)$[b]&&$[b].m(Y,null);Ie(Y,e[39].condition_type),n(ae,Je),xe&&xe.m(ae,null),n(ae,Q),he&&he.m(ae,null),n(t,de),ke||(Ae=[le(m,"change",He),le(T,"change",ze),le(ee,"change",ut),le(X,"click",qe),le(Y,"change",ht),le(t,"dragstart",pe),le(t,"dragend",e[14]),le(t,"dragover",Ne),le(t,"drop",Fe)],ke=!0)},p(P,te){if(e=P,te[0]&2){Pe=Ve(e[1]);let b;for(b=0;b<Pe.length;b+=1){const be=Nt(e,Pe,b);fe[b]?fe[b].p(be,te):(fe[b]=Ot(be),fe[b].c(),fe[b].m(m,null))}for(;b<fe.length;b+=1)fe[b].d(1);fe.length=Pe.length}if(te[0]&3&&I!==(I=e[39].source_field)&&Ie(m,e[39].source_field),e[39].source_field?me?me.p(e,te):(me=Pt(e),me.c(),me.m(c,null)):me&&(me.d(1),me=null),te[0]&40){je=Ve(Object.entries(e[3]));let b;for(b=0;b<je.length;b+=1){const be=Tt(e,je,b);_e[b]?_e[b].p(be,te):(_e[b]=Lt(be),_e[b].c(),_e[b].m(T,null))}for(;b<_e.length;b+=1)_e[b].d(1);_e.length=je.length}if(te[0]&3&&q!==(q=e[39].target_field)&&Ie(T,e[39].target_field),te[0]&16){Ee=Ve(e[4]);let b;for(b=0;b<Ee.length;b+=1){const be=It(e,Ee,b);we[b]?we[b].p(be,te):(we[b]=At(be),we[b].c(),we[b].m(ee,null))}for(;b<we.length;b+=1)we[b].d(1);we.length=Ee.length}if(te[0]&3&&ue!==(ue=e[39].transform_type)&&Ie(ee,e[39].transform_type),te[0]&1&&(S=e[12](e[39].transform_type)||e[39].condition_type!=="none"),S?Ce?Ce.p(e,te):(Ce=St(e),Ce.c(),Ce.m(t,J)):Ce&&(Ce.d(1),Ce=null),e[39].condition_type!=="none"?De||(De=jt(),De.c(),De.m(se,null)):De&&(De.d(1),De=null),te[0]&64){Xe=Ve(e[6]);let b;for(b=0;b<Xe.length;b+=1){const be=wt(e,Xe,b);$[b]?$[b].p(be,te):($[b]=Bt(be),$[b].c(),$[b].m(Y,null))}for(;b<$.length;b+=1)$[b].d(1);$.length=Xe.length}te[0]&3&&Ue!==(Ue=e[39].condition_type)&&Ie(Y,e[39].condition_type),e[39].condition_type!=="none"&&e[39].condition_type!=="not_empty"?xe?xe.p(e,te):(xe=Ut(e),xe.c(),xe.m(ae,Q)):xe&&(xe.d(1),xe=null),e[39].condition_type!=="none"?he?he.p(e,te):(he=zt(e),he.c(),he.m(ae,null)):he&&(he.d(1),he=null),te[0]&7&&Le!==(Le="bg-white border border-gray-200 rounded-xl p-4 transition-all "+(e[2]===e[41]?"border-indigo-400 bg-indigo-50":""))&&i(t,"class",Le)},d(P){P&&f(t),tt(fe,P),me&&me.d(),tt(_e,P),tt(we,P),Ce&&Ce.d(),De&&De.d(),tt($,P),xe&&xe.d(),he&&he.d(),ke=!1,it(Ae)}}}function Ft(o){let e,t,l=o[36].label+"",r,s,a,c,h=o[36].description+"",g,_;return{c(){e=d("div"),t=d("span"),r=ie(l),s=ie(":"),a=E(),c=d("span"),g=ie(h),_=E(),this.h()},l(m){e=u(m,"DIV",{});var p=v(e);t=u(p,"SPAN",{class:!0});var w=v(t);r=re(w,l),s=re(w,":"),w.forEach(f),a=x(p),c=u(p,"SPAN",{class:!0});var I=v(c);g=re(I,h),I.forEach(f),_=x(p),p.forEach(f),this.h()},h(){i(t,"class","font-medium"),i(c,"class","text-gray-500")},m(m,p){G(m,e,p),n(e,t),n(t,r),n(t,s),n(e,a),n(e,c),n(c,g),n(e,_)},p(m,p){p[0]&16&&l!==(l=m[36].label+"")&&Be(r,l),p[0]&16&&h!==(h=m[36].description+"")&&Be(g,h)},d(m){m&&f(e)}}}function Nl(o){let e,t,l,r="Mapovanie polí",s,a,c,h="+ Povinné polia",g,_,m="+ Pridať mapovanie",p,w,I,V,z="Transformácie",D,M,B,N;function A(j,q){return j[0].length===0?Dl:Tl}let U=A(o),k=U(o),T=Ve(o[4].slice(0,8)),C=[];for(let j=0;j<T.length;j+=1)C[j]=Ft(Ct(o,T,j));return{c(){e=d("div"),t=d("div"),l=d("h3"),l.textContent=r,s=E(),a=d("div"),c=d("button"),c.textContent=h,g=E(),_=d("button"),_.textContent=m,p=E(),k.c(),w=E(),I=d("div"),V=d("h4"),V.textContent=z,D=E(),M=d("div");for(let j=0;j<C.length;j+=1)C[j].c();this.h()},l(j){e=u(j,"DIV",{class:!0});var q=v(e);t=u(q,"DIV",{class:!0});var F=v(t);l=u(F,"H3",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-rjh756"&&(l.textContent=r),s=x(F),a=u(F,"DIV",{class:!0});var R=v(a);c=u(R,"BUTTON",{class:!0,"data-svelte-h":!0}),L(c)!=="svelte-6wreeg"&&(c.textContent=h),g=x(R),_=u(R,"BUTTON",{class:!0,"data-svelte-h":!0}),L(_)!=="svelte-1pzz4t"&&(_.textContent=m),R.forEach(f),F.forEach(f),p=x(q),k.l(q),w=x(q),I=u(q,"DIV",{class:!0});var W=v(I);V=u(W,"H4",{class:!0,"data-svelte-h":!0}),L(V)!=="svelte-4n50nb"&&(V.textContent=z),D=x(W),M=u(W,"DIV",{class:!0});var ye=v(M);for(let oe=0;oe<C.length;oe+=1)C[oe].l(ye);ye.forEach(f),W.forEach(f),q.forEach(f),this.h()},h(){i(l,"class","text-lg font-semibold text-gray-900"),i(c,"class","px-3 py-1.5 text-sm text-indigo-600 hover:bg-indigo-50 rounded-lg transition"),i(_,"class","px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition"),i(a,"class","flex gap-2"),i(t,"class","flex justify-between items-center"),i(V,"class","text-sm font-medium text-gray-700 mb-2"),i(M,"class","grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-gray-600"),i(I,"class","mt-6 p-4 bg-gray-50 rounded-lg"),i(e,"class","space-y-4")},m(j,q){G(j,e,q),n(e,t),n(t,l),n(t,s),n(t,a),n(a,c),n(a,g),n(a,_),n(e,p),k.m(e,null),n(e,w),n(e,I),n(I,V),n(I,D),n(I,M);for(let F=0;F<C.length;F+=1)C[F]&&C[F].m(M,null);B||(N=[le(c,"click",o[17]),le(_,"click",o[8])],B=!0)},p(j,q){if(U===(U=A(j))&&k?k.p(j,q):(k.d(1),k=U(j),k&&(k.c(),k.m(e,w))),q[0]&16){T=Ve(j[4].slice(0,8));let F;for(F=0;F<T.length;F+=1){const R=Ct(j,T,F);C[F]?C[F].p(R,q):(C[F]=Ft(R),C[F].c(),C[F].m(M,null))}for(;F<C.length;F+=1)C[F].d(1);C.length=T.length}},i:ct,o:ct,d(j){j&&f(e),k.d(),tt(C,j),B=!1,it(N)}}}function Ol(o,e,t){let l,r,s;vt(o,ol,y=>t(20,r=y)),vt(o,sl,y=>t(4,s=y));let{mappings:a=[]}=e,{sourceFields:c=[]}=e,{sampleData:h=[]}=e;const g=al();let _=null,m=null;const p={identifiers:"Identifikátory",basic:"Základné info",pricing:"Ceny",inventory:"Sklad",media:"Obrázky",taxonomy:"Kategórie",attributes:"Atribúty",affiliate:"Affiliate",other:"Ostatné"},w=[{key:"none",label:"Žiadna"},{key:"not_empty",label:"Nie je prázdne"},{key:"equals",label:"Rovná sa"},{key:"not_equals",label:"Nerovná sa"},{key:"contains",label:"Obsahuje"},{key:"not_contains",label:"Neobsahuje"},{key:"regex",label:"Regex"},{key:"greater",label:"Väčšie ako"},{key:"less",label:"Menšie ako"},{key:"in_list",label:"Je v zozname"}],I=[{key:"import",label:"Importovať"},{key:"skip",label:"Preskočiť položku"},{key:"default",label:"Použiť predvolenú hodnotu"}];function V(){t(0,a=[...a,{source_field:"",target_field:"",transform_type:"none",transform_value:"",transform_options:"",condition_type:"none",condition_value:"",condition_action:"import",field_order:a.length,is_required:!1}]),g("change",a)}function z(y){t(0,a=a.filter((O,S)=>S!==y)),g("change",a)}function D(y,O,S){t(0,a[y]={...a[y],[O]:S},a),t(0,a=[...a]),g("change",a)}function M(y){if(!h.length||!y)return"";const O=h[0][y];return O==null?"":typeof O=="string"?O.substring(0,100):JSON.stringify(O).substring(0,100)}function B(y){const O=s.find(S=>S.key===y);return(O==null?void 0:O.has_param)||!1}function N(y,O){_=O,y.target.classList.add("opacity-50")}function A(y){y.target.classList.remove("opacity-50"),_=null,t(2,m=null)}function U(y,O){y.preventDefault(),t(2,m=O)}function k(y,O){if(y.preventDefault(),_===null||_===O)return;const S=[...a],[J]=S.splice(_,1);S.splice(O,0,J),t(0,a=S.map((Z,ve)=>({...Z,field_order:ve}))),g("change",a),_=null,t(2,m=null)}function T(){const y=r.filter(J=>J.required),O=new Set(a.map(J=>J.target_field)),S=y.filter(J=>!O.has(J.key)).map((J,Z)=>({source_field:"",target_field:J.key,transform_type:"none",transform_value:"",transform_options:"",condition_type:"none",condition_value:"",condition_action:"import",field_order:a.length+Z,is_required:!0}));S.length>0&&(t(0,a=[...a,...S]),g("change",a))}function C(y){const O=y.map((S,J)=>({source_field:S.source_field,target_field:S.target_field,transform_type:"none",transform_value:"",transform_options:"",condition_type:"none",condition_value:"",condition_action:"import",field_order:J,is_required:!1}));t(0,a=O),g("change",a)}const j=(y,O)=>D(y,"source_field",O.currentTarget.value),q=(y,O)=>D(y,"target_field",O.currentTarget.value),F=(y,O)=>D(y,"transform_type",O.currentTarget.value),R=y=>z(y),W=(y,O)=>D(y,"transform_value",O.currentTarget.value),ye=(y,O)=>D(y,"condition_type",O.currentTarget.value),oe=(y,O)=>D(y,"condition_value",O.currentTarget.value),ee=(y,O)=>D(y,"condition_action",O.currentTarget.value),ue=(y,O)=>N(O,y),ne=(y,O)=>U(O,y),X=(y,O)=>k(O,y);return o.$$set=y=>{"mappings"in y&&t(0,a=y.mappings),"sourceFields"in y&&t(1,c=y.sourceFields),"sampleData"in y&&t(18,h=y.sampleData)},o.$$.update=()=>{o.$$.dirty[0]&1048576&&t(3,l=r.reduce((y,O)=>(y[O.group]||(y[O.group]=[]),y[O.group].push(O),y),{}))},[a,c,m,l,s,p,w,I,V,z,D,M,B,N,A,U,k,T,h,C,r,j,q,F,R,W,ye,oe,ee,ue,ne,X]}class Pl extends ll{constructor(e){super(),nl(this,e,Ol,Nl,el,{mappings:0,sourceFields:1,sampleData:18,applyAutoMappings:19},null,[-1,-1])}get applyAutoMappings(){return this.$$.ctx[19]}}function Rt(o,e,t){const l=o.slice();return l[41]=e[t],l}function Vl(o){let e,t;return{c(){e=d("div"),this.h()},l(l){e=u(l,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){i(e,"class",t="w-16 h-1 mx-2 "+(o[13]>o[41]?"bg-indigo-600":"bg-gray-200"))},m(l,r){G(l,e,r)},p(l,r){r[0]&8192&&t!==(t="w-16 h-1 mx-2 "+(l[13]>l[41]?"bg-indigo-600":"bg-gray-200"))&&i(e,"class",t)},d(l){l&&f(e)}}}function Zt(o){let e,t,l,r,s,a=o[41]<3&&Vl(o);return{c(){e=d("div"),t=d("div"),l=ie(o[41]),s=E(),a&&a.c(),this.h()},l(c){e=u(c,"DIV",{class:!0});var h=v(e);t=u(h,"DIV",{class:!0});var g=v(t);l=re(g,o[41]),g.forEach(f),s=x(h),a&&a.l(h),h.forEach(f),this.h()},h(){i(t,"class",r="w-10 h-10 rounded-full flex items-center justify-center font-medium "+(o[13]>=o[41]?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600")),i(e,"class","flex items-center")},m(c,h){G(c,e,h),n(e,t),n(t,l),n(e,s),a&&a.m(e,null)},p(c,h){h[0]&8192&&r!==(r="w-10 h-10 rounded-full flex items-center justify-center font-medium "+(c[13]>=c[41]?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"))&&i(t,"class",r),c[41]<3&&a.p(c,h)},d(c){c&&f(e),a&&a.d()}}}function Ll(o){let e;return{c(){e=ie("Nastavenia")},l(t){e=re(t,"Nastavenia")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function Al(o){let e;return{c(){e=ie("Mapovanie polí")},l(t){e=re(t,"Mapovanie polí")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function Sl(o){let e;return{c(){e=ie("Načítanie feedu")},l(t){e=re(t,"Načítanie feedu")},m(t,l){G(t,e,l)},d(t){t&&f(e)}}}function Jt(o){let e,t;return{c(){e=d("div"),t=ie(o[15]),this.h()},l(l){e=u(l,"DIV",{class:!0});var r=v(e);t=re(r,o[15]),r.forEach(f),this.h()},h(){i(e,"class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6")},m(l,r){G(l,e,r),n(e,t)},p(l,r){r[0]&32768&&Be(t,l[15])},d(l){l&&f(e)}}}function Gt(o){let e,t,l="1. Zadajte URL feedu",r,s,a,c,h="URL feedu *",g,_,m,p,w,I,V="Typ feedu",z,D,M,B="Auto-detect",N,A="XML",U,k="CSV",T,C="JSON",j,q,F,R,W,ye,oe,ee,ue=(o[3]==="xml"||!o[3])&&Kt(o),ne=o[3]==="csv"&&Xt(o);function X(S,J){return S[18]?jl:Ml}let y=X(o),O=y(o);return{c(){e=d("div"),t=d("h2"),t.textContent=l,r=E(),s=d("div"),a=d("div"),c=d("label"),c.textContent=h,g=E(),_=d("input"),m=E(),p=d("div"),w=d("div"),I=d("label"),I.textContent=V,z=E(),D=d("select"),M=d("option"),M.textContent=B,N=d("option"),N.textContent=A,U=d("option"),U.textContent=k,T=d("option"),T.textContent=C,j=E(),ue&&ue.c(),q=E(),ne&&ne.c(),F=E(),R=d("div"),W=d("button"),O.c(),this.h()},l(S){e=u(S,"DIV",{class:!0});var J=v(e);t=u(J,"H2",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-enh83f"&&(t.textContent=l),r=x(J),s=u(J,"DIV",{class:!0});var Z=v(s);a=u(Z,"DIV",{});var ve=v(a);c=u(ve,"LABEL",{class:!0,"data-svelte-h":!0}),L(c)!=="svelte-12p9mpu"&&(c.textContent=h),g=x(ve),_=u(ve,"INPUT",{type:!0,placeholder:!0,class:!0}),ve.forEach(f),m=x(Z),p=u(Z,"DIV",{class:!0});var se=v(p);w=u(se,"DIV",{});var H=v(w);I=u(H,"LABEL",{class:!0,"data-svelte-h":!0}),L(I)!=="svelte-1j3r870"&&(I.textContent=V),z=x(H),D=u(H,"SELECT",{class:!0});var ce=v(D);M=u(ce,"OPTION",{"data-svelte-h":!0}),L(M)!=="svelte-14sbojh"&&(M.textContent=B),N=u(ce,"OPTION",{"data-svelte-h":!0}),L(N)!=="svelte-1d9somo"&&(N.textContent=A),U=u(ce,"OPTION",{"data-svelte-h":!0}),L(U)!=="svelte-12id4vm"&&(U.textContent=k),T=u(ce,"OPTION",{"data-svelte-h":!0}),L(T)!=="svelte-1eaf7re"&&(T.textContent=C),ce.forEach(f),H.forEach(f),j=x(se),ue&&ue.l(se),q=x(se),ne&&ne.l(se),se.forEach(f),F=x(Z),R=u(Z,"DIV",{class:!0});var Oe=v(R);W=u(Oe,"BUTTON",{class:!0});var Te=v(W);O.l(Te),Te.forEach(f),Oe.forEach(f),Z.forEach(f),J.forEach(f),this.h()},h(){i(t,"class","text-xl font-semibold text-gray-900 mb-6"),i(c,"class","block text-sm font-medium text-gray-700 mb-2"),i(_,"type","url"),i(_,"placeholder","https://example.com/feed.xml"),i(_,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(I,"class","block text-sm font-medium text-gray-700 mb-2"),M.__value="",K(M,M.__value),N.__value="xml",K(N,N.__value),U.__value="csv",K(U,U.__value),T.__value="json",K(T,T.__value),i(D,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),o[3]===void 0&&ft(()=>o[24].call(D)),i(p,"class","grid grid-cols-2 gap-6"),W.disabled=ye=o[18]||!o[2],i(W,"class","px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"),i(R,"class","flex justify-end"),i(s,"class","space-y-6"),i(e,"class","bg-white rounded-xl shadow-sm border border-gray-200 p-6")},m(S,J){G(S,e,J),n(e,t),n(e,r),n(e,s),n(s,a),n(a,c),n(a,g),n(a,_),K(_,o[2]),n(s,m),n(s,p),n(p,w),n(w,I),n(w,z),n(w,D),n(D,M),n(D,N),n(D,U),n(D,T),Ie(D,o[3],!0),n(p,j),ue&&ue.m(p,null),n(p,q),ne&&ne.m(p,null),n(s,F),n(s,R),n(R,W),O.m(W,null),oe||(ee=[le(_,"input",o[23]),le(D,"change",o[24]),le(W,"click",o[20])],oe=!0)},p(S,J){J[0]&4&&_.value!==S[2]&&K(_,S[2]),J[0]&8&&Ie(D,S[3]),S[3]==="xml"||!S[3]?ue?ue.p(S,J):(ue=Kt(S),ue.c(),ue.m(p,q)):ue&&(ue.d(1),ue=null),S[3]==="csv"?ne?ne.p(S,J):(ne=Xt(S),ne.c(),ne.m(p,null)):ne&&(ne.d(1),ne=null),y!==(y=X(S))&&(O.d(1),O=y(S),O&&(O.c(),O.m(W,null))),J[0]&262148&&ye!==(ye=S[18]||!S[2])&&(W.disabled=ye)},d(S){S&&f(e),ue&&ue.d(),ne&&ne.d(),O.d(),oe=!1,it(ee)}}}function Kt(o){let e,t,l="XML Item Path",r,s,a,c;return{c(){e=d("div"),t=d("label"),t.textContent=l,r=E(),s=d("input"),this.h()},l(h){e=u(h,"DIV",{});var g=v(e);t=u(g,"LABEL",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-392ns7"&&(t.textContent=l),r=x(g),s=u(g,"INPUT",{type:!0,placeholder:!0,class:!0}),g.forEach(f),this.h()},h(){i(t,"class","block text-sm font-medium text-gray-700 mb-2"),i(s,"type","text"),i(s,"placeholder","SHOPITEM"),i(s,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500")},m(h,g){G(h,e,g),n(e,t),n(e,r),n(e,s),K(s,o[4]),a||(c=le(s,"input",o[25]),a=!0)},p(h,g){g[0]&16&&s.value!==h[4]&&K(s,h[4])},d(h){h&&f(e),a=!1,c()}}}function Xt(o){let e,t,l="CSV Oddeľovač",r,s,a,c="Bodkočiarka (;)",h,g="Čiarka (,)",_,m="Tab",p,w="Pipe (|)",I,V;return{c(){e=d("div"),t=d("label"),t.textContent=l,r=E(),s=d("select"),a=d("option"),a.textContent=c,h=d("option"),h.textContent=g,_=d("option"),_.textContent=m,p=d("option"),p.textContent=w,this.h()},l(z){e=u(z,"DIV",{});var D=v(e);t=u(D,"LABEL",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-1qm9jq1"&&(t.textContent=l),r=x(D),s=u(D,"SELECT",{class:!0});var M=v(s);a=u(M,"OPTION",{"data-svelte-h":!0}),L(a)!=="svelte-1nqhdy5"&&(a.textContent=c),h=u(M,"OPTION",{"data-svelte-h":!0}),L(h)!=="svelte-1tip9bf"&&(h.textContent=g),_=u(M,"OPTION",{"data-svelte-h":!0}),L(_)!=="svelte-xaisxb"&&(_.textContent=m),p=u(M,"OPTION",{"data-svelte-h":!0}),L(p)!=="svelte-1e1hayn"&&(p.textContent=w),M.forEach(f),D.forEach(f),this.h()},h(){i(t,"class","block text-sm font-medium text-gray-700 mb-2"),a.__value=";",K(a,a.__value),h.__value=",",K(h,h.__value),_.__value="\\t",K(_,_.__value),p.__value="|",K(p,p.__value),i(s,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),o[5]===void 0&&ft(()=>o[26].call(s))},m(z,D){G(z,e,D),n(e,t),n(e,r),n(e,s),n(s,a),n(s,h),n(s,_),n(s,p),Ie(s,o[5],!0),I||(V=le(s,"change",o[26]),I=!0)},p(z,D){D[0]&32&&Ie(s,z[5])},d(z){z&&f(e),I=!1,V()}}}function Ml(o){let e,t,l;return{c(){e=ie(`Načítať a pokračovať
                            `),t=rt("svg"),l=rt("path"),this.h()},l(r){e=re(r,`Načítať a pokračovať
                            `),t=at(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var s=v(t);l=at(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(l).forEach(f),s.forEach(f),this.h()},h(){i(l,"stroke-linecap","round"),i(l,"stroke-linejoin","round"),i(l,"stroke-width","2"),i(l,"d","M9 5l7 7-7 7"),i(t,"class","w-5 h-5"),i(t,"fill","none"),i(t,"stroke","currentColor"),i(t,"viewBox","0 0 24 24")},m(r,s){G(r,e,s),G(r,t,s),n(t,l)},d(r){r&&(f(e),f(t))}}}function jl(o){let e,t;return{c(){e=d("div"),t=ie(`
                            Načítavam...`),this.h()},l(l){e=u(l,"DIV",{class:!0}),v(e).forEach(f),t=re(l,`
                            Načítavam...`),this.h()},h(){i(e,"class","animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full")},m(l,r){G(l,e,r),G(l,t,r)},d(l){l&&(f(e),f(t))}}}function Yt(o){let e,t,l="2. Mapovanie polí",r,s,a,c,h,g="Typ:",_,m,p=o[19].feed_type+"",w,I,V,z,D="Item path:",M,B,N=o[19].item_path+"",A,U,k,T,C="Položiek:",j,q,F=o[19].total_items+"",R,W,ye,oe,ee,ue="Polí:",ne,X,y=o[19].fields.length+"",O,S,J,Z,ve,se,H,ce,Oe="← Späť",Te,ae,Se="Pokračovať →",ge,Ke,Ze,Y=o[19].sample_items.length>0&&Qt(o);function Ue(Q){o[28](Q)}let Je={sourceFields:o[19].fields,sampleData:o[19].sample_items};return o[16]!==void 0&&(Je.mappings=o[16]),Z=new Pl({props:Je}),o[27](Z),tl.push(()=>cl(Z,"mappings",Ue)),Z.$on("change",o[22]),{c(){e=d("div"),t=d("h2"),t.textContent=l,r=E(),s=d("div"),a=d("div"),c=d("div"),h=d("span"),h.textContent=g,_=E(),m=d("span"),w=ie(p),I=E(),V=d("div"),z=d("span"),z.textContent=D,M=E(),B=d("span"),A=ie(N),U=E(),k=d("div"),T=d("span"),T.textContent=C,j=E(),q=d("span"),R=ie(F),W=ie("+"),ye=E(),oe=d("div"),ee=d("span"),ee.textContent=ue,ne=E(),X=d("span"),O=ie(y),S=E(),Y&&Y.c(),J=E(),pl(Z.$$.fragment),se=E(),H=d("div"),ce=d("button"),ce.textContent=Oe,Te=E(),ae=d("button"),ae.textContent=Se,this.h()},l(Q){e=u(Q,"DIV",{class:!0});var de=v(e);t=u(de,"H2",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-v7modj"&&(t.textContent=l),r=x(de),s=u(de,"DIV",{class:!0});var Le=v(s);a=u(Le,"DIV",{class:!0});var ke=v(a);c=u(ke,"DIV",{});var Ae=v(c);h=u(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),L(h)!=="svelte-atbcfj"&&(h.textContent=g),_=x(Ae),m=u(Ae,"SPAN",{class:!0});var Pe=v(m);w=re(Pe,p),Pe.forEach(f),Ae.forEach(f),I=x(ke),V=u(ke,"DIV",{});var fe=v(V);z=u(fe,"SPAN",{class:!0,"data-svelte-h":!0}),L(z)!=="svelte-kokppe"&&(z.textContent=D),M=x(fe),B=u(fe,"SPAN",{class:!0});var He=v(B);A=re(He,N),He.forEach(f),fe.forEach(f),U=x(ke),k=u(ke,"DIV",{});var me=v(k);T=u(me,"SPAN",{class:!0,"data-svelte-h":!0}),L(T)!=="svelte-1tj6eo5"&&(T.textContent=C),j=x(me),q=u(me,"SPAN",{class:!0});var je=v(q);R=re(je,F),W=re(je,"+"),je.forEach(f),me.forEach(f),ye=x(ke),oe=u(ke,"DIV",{});var _e=v(oe);ee=u(_e,"SPAN",{class:!0,"data-svelte-h":!0}),L(ee)!=="svelte-1t5dvii"&&(ee.textContent=ue),ne=x(_e),X=u(_e,"SPAN",{class:!0});var ze=v(X);O=re(ze,y),ze.forEach(f),_e.forEach(f),ke.forEach(f),Le.forEach(f),S=x(de),Y&&Y.l(de),J=x(de),hl(Z.$$.fragment,de),se=x(de),H=u(de,"DIV",{class:!0});var Ee=v(H);ce=u(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),L(ce)!=="svelte-ac8pg6"&&(ce.textContent=Oe),Te=x(Ee),ae=u(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),L(ae)!=="svelte-kww2hm"&&(ae.textContent=Se),Ee.forEach(f),de.forEach(f),this.h()},h(){i(t,"class","text-xl font-semibold text-gray-900 mb-4"),i(h,"class","text-gray-500"),i(m,"class","font-medium ml-1 uppercase"),i(z,"class","text-gray-500"),i(B,"class","font-medium ml-1"),i(T,"class","text-gray-500"),i(q,"class","font-medium ml-1"),i(ee,"class","text-gray-500"),i(X,"class","font-medium ml-1"),i(a,"class","grid grid-cols-4 gap-4 text-sm"),i(s,"class","bg-gray-50 rounded-lg p-4 mb-6"),i(ce,"class","px-6 py-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"),i(ae,"class","px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"),i(H,"class","flex justify-between mt-6 pt-6 border-t border-gray-200"),i(e,"class","bg-white rounded-xl shadow-sm border border-gray-200 p-6")},m(Q,de){G(Q,e,de),n(e,t),n(e,r),n(e,s),n(s,a),n(a,c),n(c,h),n(c,_),n(c,m),n(m,w),n(a,I),n(a,V),n(V,z),n(V,M),n(V,B),n(B,A),n(a,U),n(a,k),n(k,T),n(k,j),n(k,q),n(q,R),n(q,W),n(a,ye),n(a,oe),n(oe,ee),n(oe,ne),n(oe,X),n(X,O),n(e,S),Y&&Y.m(e,null),n(e,J),_l(Z,e,null),n(e,se),n(e,H),n(H,ce),n(H,Te),n(H,ae),ge=!0,Ke||(Ze=[le(ce,"click",o[29]),le(ae,"click",o[30])],Ke=!0)},p(Q,de){(!ge||de[0]&524288)&&p!==(p=Q[19].feed_type+"")&&Be(w,p),(!ge||de[0]&524288)&&N!==(N=Q[19].item_path+"")&&Be(A,N),(!ge||de[0]&524288)&&F!==(F=Q[19].total_items+"")&&Be(R,F),(!ge||de[0]&524288)&&y!==(y=Q[19].fields.length+"")&&Be(O,y),Q[19].sample_items.length>0?Y?Y.p(Q,de):(Y=Qt(Q),Y.c(),Y.m(e,J)):Y&&(Y.d(1),Y=null);const Le={};de[0]&524288&&(Le.sourceFields=Q[19].fields),de[0]&524288&&(Le.sampleData=Q[19].sample_items),!ve&&de[0]&65536&&(ve=!0,Le.mappings=Q[16],ul(()=>ve=!1)),Z.$set(Le)},i(Q){ge||(pt(Z.$$.fragment,Q),ge=!0)},o(Q){mt(Z.$$.fragment,Q),ge=!1},d(Q){Q&&f(e),Y&&Y.d(),o[27](null),fl(Z),Ke=!1,it(Ze)}}}function Qt(o){let e,t,l,r=o[19].sample_items.length+"",s,a,c,h,g,_=JSON.stringify(o[19].sample_items[0],null,2)+"",m;return{c(){e=d("details"),t=d("summary"),l=ie("Zobraziť ukážku dát ("),s=ie(r),a=ie(" položiek)"),c=E(),h=d("div"),g=d("pre"),m=ie(_),this.h()},l(p){e=u(p,"DETAILS",{class:!0});var w=v(e);t=u(w,"SUMMARY",{class:!0});var I=v(t);l=re(I,"Zobraziť ukážku dát ("),s=re(I,r),a=re(I," položiek)"),I.forEach(f),c=x(w),h=u(w,"DIV",{class:!0});var V=v(h);g=u(V,"PRE",{class:!0});var z=v(g);m=re(z,_),z.forEach(f),V.forEach(f),w.forEach(f),this.h()},h(){i(t,"class","cursor-pointer text-sm text-gray-600 hover:text-gray-900"),i(g,"class","bg-gray-900 text-gray-100 p-4 rounded-lg text-xs overflow-x-auto"),i(h,"class","mt-2 overflow-x-auto"),i(e,"class","mb-6")},m(p,w){G(p,e,w),n(e,t),n(t,l),n(t,s),n(t,a),n(e,c),n(e,h),n(h,g),n(g,m)},p(p,w){w[0]&524288&&r!==(r=p[19].sample_items.length+"")&&Be(s,r),w[0]&524288&&_!==(_=JSON.stringify(p[19].sample_items[0],null,2)+"")&&Be(m,_)},d(p){p&&f(e)}}}function Wt(o){let e,t,l="3. Nastavenia feedu",r,s,a,c,h,g="Názov feedu *",_,m,p,w,I,V="Popis",z,D,M,B,N,A,U="Import mód",k,T,C,j="Vytvárať a aktualizovať",q,F="Len vytvárať nové",R,W="Len aktualizovať existujúce",ye,oe,ee,ue="Párovanie podľa",ne,X,y,O="EAN / GTIN",S,J="SKU",Z,ve="Externé ID",se,H="Názov",ce,Oe,Te,ae,Se,ge,Ke="Importovať obrázky",Ze,Y,Ue,Je,Q,de="Vytvárať atribúty",Le,ke,Ae,Pe,fe,He,me="Automatický import",je,_e,ze,Ee,we="← Späť",ut,qe,Ce,De,Xe,$=o[10]&&$t(o);function ht(pe,Ne){return pe[14]?Ul:Bl}let xe=ht(o),he=xe(o);return{c(){e=d("div"),t=d("h2"),t.textContent=l,r=E(),s=d("div"),a=d("div"),c=d("div"),h=d("label"),h.textContent=g,_=E(),m=d("input"),p=E(),w=d("div"),I=d("label"),I.textContent=V,z=E(),D=d("input"),M=E(),B=d("div"),N=d("div"),A=d("label"),A.textContent=U,k=E(),T=d("select"),C=d("option"),C.textContent=j,q=d("option"),q.textContent=F,R=d("option"),R.textContent=W,ye=E(),oe=d("div"),ee=d("label"),ee.textContent=ue,ne=E(),X=d("select"),y=d("option"),y.textContent=O,S=d("option"),S.textContent=J,Z=d("option"),Z.textContent=ve,se=d("option"),se.textContent=H,ce=E(),Oe=d("div"),Te=d("label"),ae=d("input"),Se=E(),ge=d("span"),ge.textContent=Ke,Ze=E(),Y=d("label"),Ue=d("input"),Je=E(),Q=d("span"),Q.textContent=de,Le=E(),ke=d("div"),Ae=d("label"),Pe=d("input"),fe=E(),He=d("span"),He.textContent=me,je=E(),$&&$.c(),_e=E(),ze=d("div"),Ee=d("button"),Ee.textContent=we,ut=E(),qe=d("button"),he.c(),this.h()},l(pe){e=u(pe,"DIV",{class:!0});var Ne=v(e);t=u(Ne,"H2",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-3xcerd"&&(t.textContent=l),r=x(Ne),s=u(Ne,"DIV",{class:!0});var Fe=v(s);a=u(Fe,"DIV",{class:!0});var P=v(a);c=u(P,"DIV",{});var te=v(c);h=u(te,"LABEL",{class:!0,"data-svelte-h":!0}),L(h)!=="svelte-npzssd"&&(h.textContent=g),_=x(te),m=u(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(f),p=x(P),w=u(P,"DIV",{});var b=v(w);I=u(b,"LABEL",{class:!0,"data-svelte-h":!0}),L(I)!=="svelte-171s9pf"&&(I.textContent=V),z=x(b),D=u(b,"INPUT",{type:!0,placeholder:!0,class:!0}),b.forEach(f),P.forEach(f),M=x(Fe),B=u(Fe,"DIV",{class:!0});var be=v(B);N=u(be,"DIV",{});var $e=v(N);A=u($e,"LABEL",{class:!0,"data-svelte-h":!0}),L(A)!=="svelte-zlgasb"&&(A.textContent=U),k=x($e),T=u($e,"SELECT",{class:!0});var Ye=v(T);C=u(Ye,"OPTION",{"data-svelte-h":!0}),L(C)!=="svelte-27gxvt"&&(C.textContent=j),q=u(Ye,"OPTION",{"data-svelte-h":!0}),L(q)!=="svelte-1yqa9sw"&&(q.textContent=F),R=u(Ye,"OPTION",{"data-svelte-h":!0}),L(R)!=="svelte-1ocdojr"&&(R.textContent=W),Ye.forEach(f),$e.forEach(f),ye=x(be),oe=u(be,"DIV",{});var et=v(oe);ee=u(et,"LABEL",{class:!0,"data-svelte-h":!0}),L(ee)!=="svelte-414tfh"&&(ee.textContent=ue),ne=x(et),X=u(et,"SELECT",{class:!0});var Ge=v(X);y=u(Ge,"OPTION",{"data-svelte-h":!0}),L(y)!=="svelte-1g5fomj"&&(y.textContent=O),S=u(Ge,"OPTION",{"data-svelte-h":!0}),L(S)!=="svelte-balybo"&&(S.textContent=J),Z=u(Ge,"OPTION",{"data-svelte-h":!0}),L(Z)!=="svelte-jrtyi7"&&(Z.textContent=ve),se=u(Ge,"OPTION",{"data-svelte-h":!0}),L(se)!=="svelte-16mysuc"&&(se.textContent=H),Ge.forEach(f),et.forEach(f),be.forEach(f),ce=x(Fe),Oe=u(Fe,"DIV",{class:!0});var lt=v(Oe);Te=u(lt,"LABEL",{class:!0});var nt=v(Te);ae=u(nt,"INPUT",{type:!0,class:!0}),Se=x(nt),ge=u(nt,"SPAN",{class:!0,"data-svelte-h":!0}),L(ge)!=="svelte-12z94pk"&&(ge.textContent=Ke),nt.forEach(f),Ze=x(lt),Y=u(lt,"LABEL",{class:!0});var Qe=v(Y);Ue=u(Qe,"INPUT",{type:!0,class:!0}),Je=x(Qe),Q=u(Qe,"SPAN",{class:!0,"data-svelte-h":!0}),L(Q)!=="svelte-11vdj5b"&&(Q.textContent=de),Qe.forEach(f),lt.forEach(f),Le=x(Fe),ke=u(Fe,"DIV",{class:!0});var We=v(ke);Ae=u(We,"LABEL",{class:!0});var ot=v(Ae);Pe=u(ot,"INPUT",{type:!0,class:!0}),fe=x(ot),He=u(ot,"SPAN",{class:!0,"data-svelte-h":!0}),L(He)!=="svelte-18nz29n"&&(He.textContent=me),ot.forEach(f),je=x(We),$&&$.l(We),We.forEach(f),_e=x(Fe),ze=u(Fe,"DIV",{class:!0});var Re=v(ze);Ee=u(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),L(Ee)!=="svelte-1ra4han"&&(Ee.textContent=we),ut=x(Re),qe=u(Re,"BUTTON",{class:!0});var st=v(qe);he.l(st),st.forEach(f),Re.forEach(f),Fe.forEach(f),Ne.forEach(f),this.h()},h(){i(t,"class","text-xl font-semibold text-gray-900 mb-6"),i(h,"class","block text-sm font-medium text-gray-700 mb-2"),i(m,"type","text"),i(m,"placeholder","Môj feed"),i(m,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(I,"class","block text-sm font-medium text-gray-700 mb-2"),i(D,"type","text"),i(D,"placeholder","Voliteľný popis"),i(D,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(a,"class","grid grid-cols-2 gap-6"),i(A,"class","block text-sm font-medium text-gray-700 mb-2"),C.__value="create_update",K(C,C.__value),q.__value="create_only",K(q,q.__value),R.__value="update_only",K(R,R.__value),i(T,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),o[6]===void 0&&ft(()=>o[33].call(T)),i(ee,"class","block text-sm font-medium text-gray-700 mb-2"),y.__value="ean",K(y,y.__value),S.__value="sku",K(S,S.__value),Z.__value="external_id",K(Z,Z.__value),se.__value="title",K(se,se.__value),i(X,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),o[7]===void 0&&ft(()=>o[34].call(X)),i(B,"class","grid grid-cols-2 gap-6"),i(ae,"type","checkbox"),i(ae,"class","w-5 h-5 rounded text-indigo-600"),i(ge,"class","text-gray-700"),i(Te,"class","flex items-center gap-3 cursor-pointer"),i(Ue,"type","checkbox"),i(Ue,"class","w-5 h-5 rounded text-indigo-600"),i(Q,"class","text-gray-700"),i(Y,"class","flex items-center gap-3 cursor-pointer"),i(Oe,"class","grid grid-cols-2 gap-6"),i(Pe,"type","checkbox"),i(Pe,"class","w-5 h-5 rounded text-indigo-600"),i(He,"class","font-medium text-gray-700"),i(Ae,"class","flex items-center gap-3 cursor-pointer mb-4"),i(ke,"class","p-4 bg-gray-50 rounded-lg"),i(Ee,"class","px-6 py-3 text-gray-600 hover:bg-gray-100 rounded-lg transition"),qe.disabled=Ce=o[14]||!o[0],i(qe,"class","px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"),i(ze,"class","flex justify-between pt-6 border-t border-gray-200"),i(s,"class","space-y-6"),i(e,"class","bg-white rounded-xl shadow-sm border border-gray-200 p-6")},m(pe,Ne){G(pe,e,Ne),n(e,t),n(e,r),n(e,s),n(s,a),n(a,c),n(c,h),n(c,_),n(c,m),K(m,o[0]),n(a,p),n(a,w),n(w,I),n(w,z),n(w,D),K(D,o[1]),n(s,M),n(s,B),n(B,N),n(N,A),n(N,k),n(N,T),n(T,C),n(T,q),n(T,R),Ie(T,o[6],!0),n(B,ye),n(B,oe),n(oe,ee),n(oe,ne),n(oe,X),n(X,y),n(X,S),n(X,Z),n(X,se),Ie(X,o[7],!0),n(s,ce),n(s,Oe),n(Oe,Te),n(Te,ae),ae.checked=o[8],n(Te,Se),n(Te,ge),n(Oe,Ze),n(Oe,Y),n(Y,Ue),Ue.checked=o[9],n(Y,Je),n(Y,Q),n(s,Le),n(s,ke),n(ke,Ae),n(Ae,Pe),Pe.checked=o[10],n(Ae,fe),n(Ae,He),n(ke,je),$&&$.m(ke,null),n(s,_e),n(s,ze),n(ze,Ee),n(ze,ut),n(ze,qe),he.m(qe,null),De||(Xe=[le(m,"input",o[31]),le(D,"input",o[32]),le(T,"change",o[33]),le(X,"change",o[34]),le(ae,"change",o[35]),le(Ue,"change",o[36]),le(Pe,"change",o[37]),le(Ee,"click",o[40]),le(qe,"click",o[21])],De=!0)},p(pe,Ne){Ne[0]&1&&m.value!==pe[0]&&K(m,pe[0]),Ne[0]&2&&D.value!==pe[1]&&K(D,pe[1]),Ne[0]&64&&Ie(T,pe[6]),Ne[0]&128&&Ie(X,pe[7]),Ne[0]&256&&(ae.checked=pe[8]),Ne[0]&512&&(Ue.checked=pe[9]),Ne[0]&1024&&(Pe.checked=pe[10]),pe[10]?$?$.p(pe,Ne):($=$t(pe),$.c(),$.m(ke,null)):$&&($.d(1),$=null),xe!==(xe=ht(pe))&&(he.d(1),he=xe(pe),he&&(he.c(),he.m(qe,null))),Ne[0]&16385&&Ce!==(Ce=pe[14]||!pe[0])&&(qe.disabled=Ce)},d(pe){pe&&f(e),$&&$.d(),he.d(),De=!1,it(Xe)}}}function $t(o){let e,t,l,r="Frekvencia",s,a,c,h="Každú hodinu",g,_="2x denne",m,p="Denne",w,I="Týždenne",V,z,D,M="Čas",B,N,A,U;return{c(){e=d("div"),t=d("div"),l=d("label"),l.textContent=r,s=E(),a=d("select"),c=d("option"),c.textContent=h,g=d("option"),g.textContent=_,m=d("option"),m.textContent=p,w=d("option"),w.textContent=I,V=E(),z=d("div"),D=d("label"),D.textContent=M,B=E(),N=d("input"),this.h()},l(k){e=u(k,"DIV",{class:!0});var T=v(e);t=u(T,"DIV",{});var C=v(t);l=u(C,"LABEL",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-q1v5ce"&&(l.textContent=r),s=x(C),a=u(C,"SELECT",{class:!0});var j=v(a);c=u(j,"OPTION",{"data-svelte-h":!0}),L(c)!=="svelte-ru36d8"&&(c.textContent=h),g=u(j,"OPTION",{"data-svelte-h":!0}),L(g)!=="svelte-800502"&&(g.textContent=_),m=u(j,"OPTION",{"data-svelte-h":!0}),L(m)!=="svelte-161uwud"&&(m.textContent=p),w=u(j,"OPTION",{"data-svelte-h":!0}),L(w)!=="svelte-1ecxggy"&&(w.textContent=I),j.forEach(f),C.forEach(f),V=x(T),z=u(T,"DIV",{});var q=v(z);D=u(q,"LABEL",{class:!0,"data-svelte-h":!0}),L(D)!=="svelte-kscim6"&&(D.textContent=M),B=x(q),N=u(q,"INPUT",{type:!0,class:!0}),q.forEach(f),T.forEach(f),this.h()},h(){i(l,"class","block text-sm font-medium text-gray-700 mb-2"),c.__value="hourly",K(c,c.__value),g.__value="twice_daily",K(g,g.__value),m.__value="daily",K(m,m.__value),w.__value="weekly",K(w,w.__value),i(a,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),o[11]===void 0&&ft(()=>o[38].call(a)),i(D,"class","block text-sm font-medium text-gray-700 mb-2"),i(N,"type","time"),i(N,"class","w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),i(e,"class","grid grid-cols-2 gap-4 mt-4")},m(k,T){G(k,e,T),n(e,t),n(t,l),n(t,s),n(t,a),n(a,c),n(a,g),n(a,m),n(a,w),Ie(a,o[11],!0),n(e,V),n(e,z),n(z,D),n(z,B),n(z,N),K(N,o[12]),A||(U=[le(a,"change",o[38]),le(N,"input",o[39])],A=!0)},p(k,T){T[0]&2048&&Ie(a,k[11]),T[0]&4096&&K(N,k[12])},d(k){k&&f(e),A=!1,it(U)}}}function Bl(o){let e,t,l;return{c(){e=rt("svg"),t=rt("path"),l=ie(`
                            Vytvoriť feed`),this.h()},l(r){e=at(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var s=v(e);t=at(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(t).forEach(f),s.forEach(f),l=re(r,`
                            Vytvoriť feed`),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","2"),i(t,"d","M5 13l4 4L19 7"),i(e,"class","w-5 h-5"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"viewBox","0 0 24 24")},m(r,s){G(r,e,s),n(e,t),G(r,l,s)},d(r){r&&(f(e),f(l))}}}function Ul(o){let e,t;return{c(){e=d("div"),t=ie(`
                            Vytváram...`),this.h()},l(l){e=u(l,"DIV",{class:!0}),v(e).forEach(f),t=re(l,`
                            Vytváram...`),this.h()},h(){i(e,"class","animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full")},m(l,r){G(l,e,r),G(l,t,r)},d(l){l&&(f(e),f(t))}}}function zl(o){let e,t,l,r=`<a href="/admin/feeds" class="text-indigo-600 hover:text-indigo-800 text-sm mb-2 inline-flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            Späť na zoznam</a> <h1 class="text-3xl font-bold text-gray-900">Nový feed</h1>`,s,a,c,h,g,_,m,p,w,I=Ve([1,2,3]),V=[];for(let k=0;k<3;k+=1)V[k]=Zt(Rt(o,I,k));function z(k,T){return k[13]===1?Sl:k[13]===2?Al:Ll}let D=z(o),M=D(o),B=o[15]&&Jt(o),N=o[13]===1&&Gt(o),A=o[13]===2&&o[19]&&Yt(o),U=o[13]===3&&Wt(o);return{c(){e=E(),t=d("div"),l=d("div"),l.innerHTML=r,s=E(),a=d("div");for(let k=0;k<3;k+=1)V[k].c();c=E(),h=d("div"),M.c(),g=E(),B&&B.c(),_=E(),N&&N.c(),m=E(),A&&A.c(),p=E(),U&&U.c(),this.h()},l(k){rl("svelte-1b5ayv2",document.head).forEach(f),e=x(k),t=u(k,"DIV",{class:!0});var C=v(t);l=u(C,"DIV",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-1v2rrb7"&&(l.innerHTML=r),s=x(C),a=u(C,"DIV",{class:!0});var j=v(a);for(let F=0;F<3;F+=1)V[F].l(j);c=x(j),h=u(j,"DIV",{class:!0});var q=v(h);M.l(q),q.forEach(f),j.forEach(f),g=x(C),B&&B.l(C),_=x(C),N&&N.l(C),m=x(C),A&&A.l(C),p=x(C),U&&U.l(C),C.forEach(f),this.h()},h(){document.title="Nový feed - Feed Importer",i(l,"class","mb-8"),i(h,"class","ml-4 text-sm text-gray-600"),i(a,"class","flex items-center mb-8"),i(t,"class","container mx-auto px-4 py-8 max-w-5xl")},m(k,T){G(k,e,T),G(k,t,T),n(t,l),n(t,s),n(t,a);for(let C=0;C<3;C+=1)V[C]&&V[C].m(a,null);n(a,c),n(a,h),M.m(h,null),n(t,g),B&&B.m(t,null),n(t,_),N&&N.m(t,null),n(t,m),A&&A.m(t,null),n(t,p),U&&U.m(t,null),w=!0},p(k,T){if(T[0]&8192){I=Ve([1,2,3]);let C;for(C=0;C<3;C+=1){const j=Rt(k,I,C);V[C]?V[C].p(j,T):(V[C]=Zt(j),V[C].c(),V[C].m(a,c))}for(;C<3;C+=1)V[C].d(1)}D!==(D=z(k))&&(M.d(1),M=D(k),M&&(M.c(),M.m(h,null))),k[15]?B?B.p(k,T):(B=Jt(k),B.c(),B.m(t,_)):B&&(B.d(1),B=null),k[13]===1?N?N.p(k,T):(N=Gt(k),N.c(),N.m(t,m)):N&&(N.d(1),N=null),k[13]===2&&k[19]?A?(A.p(k,T),T[0]&532480&&pt(A,1)):(A=Yt(k),A.c(),pt(A,1),A.m(t,p)):A&&(vl(),mt(A,1,1,()=>{A=null}),dl()),k[13]===3?U?U.p(k,T):(U=Wt(k),U.c(),U.m(t,null)):U&&(U.d(1),U=null)},i(k){w||(pt(A),w=!0)},o(k){mt(A),w=!1},d(k){k&&(f(e),f(t)),tt(V,k),M.d(),B&&B.d(),N&&N.d(),A&&A.d(),U&&U.d()}}}let Hl=!0;function ql(o,e,t){let l,r;vt(o,yt,H=>t(18,l=H)),vt(o,bt,H=>t(19,r=H));let s="",a="",c="",h="",g="SHOPITEM",_=";",m="create_update",p="ean",w=!0,I=!0,V=!1,z="daily",D="03:00",M=1,B=!1,N="",A=[],U;il(()=>{Il()});async function k(){if(!c){t(15,N="Zadajte URL feedu");return}t(15,N="");try{const H=await xl(c,h,g);H&&(!h&&H.feed_type&&t(3,h=H.feed_type),H.item_path&&t(4,g=H.item_path),H.auto_mappings&&U&&U.applyAutoMappings(H.auto_mappings),t(13,M=2))}catch(H){t(15,N=H.message||"Nepodarilo sa načítať feed")}}async function T(){if(!s){t(15,N="Zadajte názov feedu");return}t(14,B=!0),t(15,N="");try{const H=await Cl({name:s,description:a,feed_url:c,feed_type:h,xml_item_path:g,csv_delimiter:_,csv_has_header:Hl,import_mode:m,match_by:p,import_images:w,create_attributes:I,schedule_enabled:V,schedule_frequency:z,schedule_time:D,active:!0,field_mappings:A});H&&bl(`/admin/feeds/${H.id}`)}catch(H){t(15,N=H.message||"Nepodarilo sa vytvoriť feed")}finally{t(14,B=!1)}}function C(H){t(16,A=H.detail)}function j(){c=this.value,t(2,c)}function q(){h=dt(this),t(3,h)}function F(){g=this.value,t(4,g)}function R(){_=dt(this),t(5,_)}function W(H){tl[H?"unshift":"push"](()=>{U=H,t(17,U)})}function ye(H){A=H,t(16,A)}const oe=()=>t(13,M=1),ee=()=>t(13,M=3);function ue(){s=this.value,t(0,s)}function ne(){a=this.value,t(1,a)}function X(){m=dt(this),t(6,m)}function y(){p=dt(this),t(7,p)}function O(){w=this.checked,t(8,w)}function S(){I=this.checked,t(9,I)}function J(){V=this.checked,t(10,V)}function Z(){z=dt(this),t(11,z)}function ve(){D=this.value,t(12,D)}return[s,a,c,h,g,_,m,p,w,I,V,z,D,M,B,N,A,U,l,r,k,T,C,j,q,F,R,W,ye,oe,ee,ue,ne,X,y,O,S,J,Z,ve,()=>t(13,M=2)]}class Kl extends ll{constructor(e){super(),nl(this,e,ql,zl,el,{},null,[-1,-1])}}export{Kl as component};
