import{s as re,n as vt,d as o,r as oe,x as Q,i as j,b as e,y as Vt,q as n,c,e as E,w as z,g as V,h as r,j as T,R as xt,k as Wt,B as ve,a as K,f as L,t as R,m as ce,J as Xt,E as $t}from"../chunks/DFArySuv.js";import{e as Tt}from"../chunks/BCvDt_cB.js";import{S as de,i as ue}from"../chunks/s82JoINO.js";function te(a,t,l){const s=a.slice();return s[19]=t[l],s}function ee(a,t,l){const s=a.slice();return s[22]=t[l],s}function he(a){let t,l,s,v="üëÜ",N,C,h,d=H(a[4].totalClicks)+"",u,f,i,g="Celkom preklikov",w,A,S,I="üí∏",k,y,_,m=H(a[4].totalCost,2)+"",D,p,B,b,W="Minut√Ω kredit",nt,q,x,ct="üìä",St,G,X,rt=H(a[4].avgCpc,3)+"",dt,Pt,Nt,$,Ot="Priemern√Ω CPC",At,J,tt,Ut="üéØ",Bt,Y,et,ot=H(a[4].conversionRate,1)+"",ut,Mt,Ht,st,Kt="Konverzia",ht,Z,lt,Ft="Prekliky za obdobie",Lt,at,ft,F,it,Zt="Top produkty podƒæa klikov",Rt;function Gt(P,M){return P[0].length===0?pe:_e}let _t=Gt(a),O=_t(a);function Jt(P,M){return P[3].length===0?ke:ge}let pt=Jt(a),U=pt(a);return{c(){t=r("div"),l=r("div"),s=r("div"),s.textContent=v,N=T(),C=r("div"),h=r("span"),u=R(d),f=T(),i=r("span"),i.textContent=g,w=T(),A=r("div"),S=r("div"),S.textContent=I,k=T(),y=r("div"),_=r("span"),D=R(m),p=R(" ‚Ç¨"),B=T(),b=r("span"),b.textContent=W,nt=T(),q=r("div"),x=r("div"),x.textContent=ct,St=T(),G=r("div"),X=r("span"),dt=R(rt),Pt=R(" ‚Ç¨"),Nt=T(),$=r("span"),$.textContent=Ot,At=T(),J=r("div"),tt=r("div"),tt.textContent=Ut,Bt=T(),Y=r("div"),et=r("span"),ut=R(ot),Mt=R("%"),Ht=T(),st=r("span"),st.textContent=Kt,ht=T(),Z=r("div"),lt=r("h2"),lt.textContent=Ft,Lt=T(),at=r("div"),O.c(),ft=T(),F=r("div"),it=r("h2"),it.textContent=Zt,Rt=T(),U.c(),this.h()},l(P){t=c(P,"DIV",{class:!0});var M=E(t);l=c(M,"DIV",{class:!0});var gt=E(l);s=c(gt,"DIV",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-jy3xk0"&&(s.textContent=v),N=V(gt),C=c(gt,"DIV",{class:!0});var kt=E(C);h=c(kt,"SPAN",{class:!0});var Yt=E(h);u=L(Yt,d),Yt.forEach(o),f=V(kt),i=c(kt,"SPAN",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-msdr78"&&(i.textContent=g),kt.forEach(o),gt.forEach(o),w=V(M),A=c(M,"DIV",{class:!0});var mt=E(A);S=c(mt,"DIV",{class:!0,"data-svelte-h":!0}),z(S)!=="svelte-1aupjxi"&&(S.textContent=I),k=V(mt),y=c(mt,"DIV",{class:!0});var Ct=E(y);_=c(Ct,"SPAN",{class:!0});var zt=E(_);D=L(zt,m),p=L(zt," ‚Ç¨"),zt.forEach(o),B=V(Ct),b=c(Ct,"SPAN",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-1te3d17"&&(b.textContent=W),Ct.forEach(o),mt.forEach(o),nt=V(M),q=c(M,"DIV",{class:!0});var wt=E(q);x=c(wt,"DIV",{class:!0,"data-svelte-h":!0}),z(x)!=="svelte-r7kgn0"&&(x.textContent=ct),St=V(wt),G=c(wt,"DIV",{class:!0});var bt=E(G);X=c(bt,"SPAN",{class:!0});var jt=E(X);dt=L(jt,rt),Pt=L(jt," ‚Ç¨"),jt.forEach(o),Nt=V(bt),$=c(bt,"SPAN",{class:!0,"data-svelte-h":!0}),z($)!=="svelte-t2nfhf"&&($.textContent=Ot),bt.forEach(o),wt.forEach(o),At=V(M),J=c(M,"DIV",{class:!0});var Et=E(J);tt=c(Et,"DIV",{class:!0,"data-svelte-h":!0}),z(tt)!=="svelte-1xm60jm"&&(tt.textContent=Ut),Bt=V(Et),Y=c(Et,"DIV",{class:!0});var Dt=E(Y);et=c(Dt,"SPAN",{class:!0});var qt=E(et);ut=L(qt,ot),Mt=L(qt,"%"),qt.forEach(o),Ht=V(Dt),st=c(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),z(st)!=="svelte-u3jfm9"&&(st.textContent=Kt),Dt.forEach(o),Et.forEach(o),M.forEach(o),ht=V(P),Z=c(P,"DIV",{class:!0});var yt=E(Z);lt=c(yt,"H2",{class:!0,"data-svelte-h":!0}),z(lt)!=="svelte-zltlik"&&(lt.textContent=Ft),Lt=V(yt),at=c(yt,"DIV",{class:!0});var Qt=E(at);O.l(Qt),Qt.forEach(o),yt.forEach(o),ft=V(P),F=c(P,"DIV",{class:!0});var It=E(F);it=c(It,"H2",{class:!0,"data-svelte-h":!0}),z(it)!=="svelte-as38ch"&&(it.textContent=Zt),Rt=V(It),U.l(It),It.forEach(o),this.h()},h(){n(s,"class","stat-icon svelte-i7iwg1"),n(h,"class","stat-value svelte-i7iwg1"),n(i,"class","stat-label svelte-i7iwg1"),n(C,"class","stat-content"),n(l,"class","stat-card svelte-i7iwg1"),n(S,"class","stat-icon svelte-i7iwg1"),n(_,"class","stat-value svelte-i7iwg1"),n(b,"class","stat-label svelte-i7iwg1"),n(y,"class","stat-content"),n(A,"class","stat-card svelte-i7iwg1"),n(x,"class","stat-icon svelte-i7iwg1"),n(X,"class","stat-value svelte-i7iwg1"),n($,"class","stat-label svelte-i7iwg1"),n(G,"class","stat-content"),n(q,"class","stat-card svelte-i7iwg1"),n(tt,"class","stat-icon svelte-i7iwg1"),n(et,"class","stat-value svelte-i7iwg1"),n(st,"class","stat-label svelte-i7iwg1"),n(Y,"class","stat-content"),n(J,"class","stat-card svelte-i7iwg1"),n(t,"class","stats-grid svelte-i7iwg1"),n(lt,"class","svelte-i7iwg1"),n(at,"class","chart-container svelte-i7iwg1"),n(Z,"class","chart-section svelte-i7iwg1"),n(it,"class","svelte-i7iwg1"),n(F,"class","table-section svelte-i7iwg1")},m(P,M){j(P,t,M),e(t,l),e(l,s),e(l,N),e(l,C),e(C,h),e(h,u),e(C,f),e(C,i),e(t,w),e(t,A),e(A,S),e(A,k),e(A,y),e(y,_),e(_,D),e(_,p),e(y,B),e(y,b),e(t,nt),e(t,q),e(q,x),e(q,St),e(q,G),e(G,X),e(X,dt),e(X,Pt),e(G,Nt),e(G,$),e(t,At),e(t,J),e(J,tt),e(J,Bt),e(J,Y),e(Y,et),e(et,ut),e(et,Mt),e(Y,Ht),e(Y,st),j(P,ht,M),j(P,Z,M),e(Z,lt),e(Z,Lt),e(Z,at),O.m(at,null),j(P,ft,M),j(P,F,M),e(F,it),e(F,Rt),U.m(F,null)},p(P,M){M&16&&d!==(d=H(P[4].totalClicks)+"")&&K(u,d),M&16&&m!==(m=H(P[4].totalCost,2)+"")&&K(D,m),M&16&&rt!==(rt=H(P[4].avgCpc,3)+"")&&K(dt,rt),M&16&&ot!==(ot=H(P[4].conversionRate,1)+"")&&K(ut,ot),_t===(_t=Gt(P))&&O?O.p(P,M):(O.d(1),O=_t(P),O&&(O.c(),O.m(at,null))),pt===(pt=Jt(P))&&U?U.p(P,M):(U.d(1),U=pt(P),U&&(U.c(),U.m(F,null)))},d(P){P&&(o(t),o(ht),o(Z),o(ft),o(F)),O.d(),U.d()}}}function fe(a){let t,l='<div class="spinner svelte-i7iwg1"></div> <p>Naƒç√≠tavam ≈°tatistiky...</p>';return{c(){t=r("div"),t.innerHTML=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1revnck"&&(t.innerHTML=l),this.h()},h(){n(t,"class","loading svelte-i7iwg1")},m(s,v){j(s,t,v)},p:vt,d(s){s&&o(t)}}}function _e(a){let t,l,s,v,N,C=H(a[0].reduce(ie,0))+"",h,d,u,f,i,g=H(a[0].reduce(ne,0),2)+"",w,A,S=Tt(a[0]),I=[];for(let k=0;k<S.length;k+=1)I[k]=se(ee(a,S,k));return{c(){t=r("div");for(let k=0;k<I.length;k+=1)I[k].c();l=T(),s=r("div"),v=r("span"),N=R("Celkom: "),h=R(C),d=R(" klikov"),u=T(),f=r("span"),i=R("N√°klady: "),w=R(g),A=R(" ‚Ç¨"),this.h()},l(k){t=c(k,"DIV",{class:!0});var y=E(t);for(let p=0;p<I.length;p+=1)I[p].l(y);y.forEach(o),l=V(k),s=c(k,"DIV",{class:!0});var _=E(s);v=c(_,"SPAN",{});var m=E(v);N=L(m,"Celkom: "),h=L(m,C),d=L(m," klikov"),m.forEach(o),u=V(_),f=c(_,"SPAN",{});var D=E(f);i=L(D,"N√°klady: "),w=L(D,g),A=L(D," ‚Ç¨"),D.forEach(o),_.forEach(o),this.h()},h(){n(t,"class","bar-chart svelte-i7iwg1"),n(s,"class","chart-legend svelte-i7iwg1")},m(k,y){j(k,t,y);for(let _=0;_<I.length;_+=1)I[_]&&I[_].m(t,null);j(k,l,y),j(k,s,y),e(s,v),e(v,N),e(v,h),e(v,d),e(s,u),e(s,f),e(f,i),e(f,w),e(f,A)},p(k,y){if(y&33){S=Tt(k[0]);let _;for(_=0;_<S.length;_+=1){const m=ee(k,S,_);I[_]?I[_].p(m,y):(I[_]=se(m),I[_].c(),I[_].m(t,null))}for(;_<I.length;_+=1)I[_].d(1);I.length=S.length}y&1&&C!==(C=H(k[0].reduce(ie,0))+"")&&K(h,C),y&1&&g!==(g=H(k[0].reduce(ne,0),2)+"")&&K(w,g)},d(k){k&&(o(t),o(l),o(s)),ce(I,k)}}}function pe(a){let t,l='<span class="no-data-icon svelte-i7iwg1">üìä</span> <p>Zatiaƒæ ≈æiadne d√°ta</p>';return{c(){t=r("div"),t.innerHTML=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-11rbigz"&&(t.innerHTML=l),this.h()},h(){n(t,"class","no-data svelte-i7iwg1")},m(s,v){j(s,t,v)},p:vt,d(s){s&&o(t)}}}function se(a){var f;let t,l,s,v,N,C,h=(((f=a[22].day)==null?void 0:f.split("-")[2])||"")+"",d,u;return{c(){t=r("div"),l=r("div"),s=r("div"),N=T(),C=r("span"),d=R(h),u=T(),this.h()},l(i){t=c(i,"DIV",{class:!0});var g=E(t);l=c(g,"DIV",{class:!0});var w=E(l);s=c(w,"DIV",{class:!0,style:!0,title:!0}),E(s).forEach(o),w.forEach(o),N=V(g),C=c(g,"SPAN",{class:!0});var A=E(C);d=L(A,h),A.forEach(o),u=V(g),g.forEach(o),this.h()},h(){n(s,"class","bar svelte-i7iwg1"),Xt(s,"height",a[22].clicks/a[5]*100+"%"),n(s,"title",v=a[22].day+": "+a[22].clicks+" klikov, "+H(a[22].cost,2)+" ‚Ç¨"),n(l,"class","bar-wrapper svelte-i7iwg1"),n(C,"class","bar-label svelte-i7iwg1"),n(t,"class","bar-item svelte-i7iwg1")},m(i,g){j(i,t,g),e(t,l),e(l,s),e(t,N),e(t,C),e(C,d),e(t,u)},p(i,g){var w;g&33&&Xt(s,"height",i[22].clicks/i[5]*100+"%"),g&1&&v!==(v=i[22].day+": "+i[22].clicks+" klikov, "+H(i[22].cost,2)+" ‚Ç¨")&&n(s,"title",v),g&1&&h!==(h=(((w=i[22].day)==null?void 0:w.split("-")[2])||"")+"")&&K(d,h)},d(i){i&&o(t)}}}function ge(a){let t,l,s,v='<tr><th class="svelte-i7iwg1">Produkt</th> <th class="svelte-i7iwg1">Kliky</th> <th class="svelte-i7iwg1">N√°klady</th> <th class="svelte-i7iwg1">CPC</th></tr>',N,C,h=Tt(a[3]),d=[];for(let u=0;u<h.length;u+=1)d[u]=ae(te(a,h,u));return{c(){t=r("div"),l=r("table"),s=r("thead"),s.innerHTML=v,N=T(),C=r("tbody");for(let u=0;u<d.length;u+=1)d[u].c();this.h()},l(u){t=c(u,"DIV",{class:!0});var f=E(t);l=c(f,"TABLE",{class:!0});var i=E(l);s=c(i,"THEAD",{"data-svelte-h":!0}),z(s)!=="svelte-x38exi"&&(s.innerHTML=v),N=V(i),C=c(i,"TBODY",{});var g=E(C);for(let w=0;w<d.length;w+=1)d[w].l(g);g.forEach(o),i.forEach(o),f.forEach(o),this.h()},h(){n(l,"class","svelte-i7iwg1"),n(t,"class","products-table svelte-i7iwg1")},m(u,f){j(u,t,f),e(t,l),e(l,s),e(l,N),e(l,C);for(let i=0;i<d.length;i+=1)d[i]&&d[i].m(C,null)},p(u,f){if(f&8){h=Tt(u[3]);let i;for(i=0;i<h.length;i+=1){const g=te(u,h,i);d[i]?d[i].p(g,f):(d[i]=ae(g),d[i].c(),d[i].m(C,null))}for(;i<d.length;i+=1)d[i].d(1);d.length=h.length}},d(u){u&&o(t),ce(d,u)}}}function ke(a){let t,l='<span class="no-data-icon svelte-i7iwg1">üõçÔ∏è</span> <p>Zatiaƒæ ≈æiadne produkty</p>';return{c(){t=r("div"),t.innerHTML=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1fn9nkp"&&(t.innerHTML=l),this.h()},h(){n(t,"class","no-data svelte-i7iwg1")},m(s,v){j(s,t,v)},p:vt,d(s){s&&o(t)}}}function le(a){let t,l;return{c(){t=r("img"),this.h()},l(s){t=c(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){$t(t.src,l=a[19].image_url)||n(t,"src",l),n(t,"alt",""),n(t,"class","product-thumb svelte-i7iwg1")},m(s,v){j(s,t,v)},p(s,v){v&8&&!$t(t.src,l=s[19].image_url)&&n(t,"src",l)},d(s){s&&o(t)}}}function ae(a){let t,l,s,v,N=a[19].title+"",C,h,d,u=H(a[19].clicks)+"",f,i,g,w=H(a[19].cost,2)+"",A,S,I,k,y=(a[19].clicks>0?H(a[19].cost/a[19].clicks,3):"0,000")+"",_,m,D,p=a[19].image_url&&le(a);return{c(){t=r("tr"),l=r("td"),p&&p.c(),s=T(),v=r("span"),C=R(N),h=T(),d=r("td"),f=R(u),i=T(),g=r("td"),A=R(w),S=R(" ‚Ç¨"),I=T(),k=r("td"),_=R(y),m=R(" ‚Ç¨"),D=T(),this.h()},l(B){t=c(B,"TR",{});var b=E(t);l=c(b,"TD",{class:!0});var W=E(l);p&&p.l(W),s=V(W),v=c(W,"SPAN",{class:!0});var nt=E(v);C=L(nt,N),nt.forEach(o),W.forEach(o),h=V(b),d=c(b,"TD",{class:!0});var q=E(d);f=L(q,u),q.forEach(o),i=V(b),g=c(b,"TD",{class:!0});var x=E(g);A=L(x,w),S=L(x," ‚Ç¨"),x.forEach(o),I=V(b),k=c(b,"TD",{class:!0});var ct=E(k);_=L(ct,y),m=L(ct," ‚Ç¨"),ct.forEach(o),D=V(b),b.forEach(o),this.h()},h(){n(v,"class","product-title svelte-i7iwg1"),n(l,"class","product-cell svelte-i7iwg1"),n(d,"class","svelte-i7iwg1"),n(g,"class","svelte-i7iwg1"),n(k,"class","svelte-i7iwg1")},m(B,b){j(B,t,b),e(t,l),p&&p.m(l,null),e(l,s),e(l,v),e(v,C),e(t,h),e(t,d),e(d,f),e(t,i),e(t,g),e(g,A),e(g,S),e(t,I),e(t,k),e(k,_),e(k,m),e(t,D)},p(B,b){B[19].image_url?p?p.p(B,b):(p=le(B),p.c(),p.m(l,s)):p&&(p.d(1),p=null),b&8&&N!==(N=B[19].title+"")&&K(C,N),b&8&&u!==(u=H(B[19].clicks)+"")&&K(f,u),b&8&&w!==(w=H(B[19].cost,2)+"")&&K(A,w),b&8&&y!==(y=(B[19].clicks>0?H(B[19].cost/B[19].clicks,3):"0,000")+"")&&K(_,y)},d(B){B&&o(t),p&&p.d()}}}function me(a){let t,l,s,v,N="7 dn√≠",C,h,d="30 dn√≠",u,f,i="90 dn√≠",g,w,A="Rok",S,I,k;function y(D,p){return D[1]?fe:he}let _=y(a),m=_(a);return{c(){t=r("div"),l=r("div"),s=r("div"),v=r("button"),v.textContent=N,C=T(),h=r("button"),h.textContent=d,u=T(),f=r("button"),f.textContent=i,g=T(),w=r("button"),w.textContent=A,S=T(),m.c(),this.h()},l(D){t=c(D,"DIV",{class:!0});var p=E(t);l=c(p,"DIV",{class:!0});var B=E(l);s=c(B,"DIV",{class:!0});var b=E(s);v=c(b,"BUTTON",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-1yehubt"&&(v.textContent=N),C=V(b),h=c(b,"BUTTON",{class:!0,"data-svelte-h":!0}),z(h)!=="svelte-148uqwh"&&(h.textContent=d),u=V(b),f=c(b,"BUTTON",{class:!0,"data-svelte-h":!0}),z(f)!=="svelte-1nqu8kz"&&(f.textContent=i),g=V(b),w=c(b,"BUTTON",{class:!0,"data-svelte-h":!0}),z(w)!=="svelte-1vozzd"&&(w.textContent=A),b.forEach(o),B.forEach(o),S=V(p),m.l(p),p.forEach(o),this.h()},h(){n(v,"class","svelte-i7iwg1"),Q(v,"active",a[2]==="7days"),n(h,"class","svelte-i7iwg1"),Q(h,"active",a[2]==="30days"),n(f,"class","svelte-i7iwg1"),Q(f,"active",a[2]==="90days"),n(w,"class","svelte-i7iwg1"),Q(w,"active",a[2]==="year"),n(s,"class","period-selector svelte-i7iwg1"),n(l,"class","stats-header svelte-i7iwg1"),n(t,"class","stats-container svelte-i7iwg1")},m(D,p){j(D,t,p),e(t,l),e(l,s),e(s,v),e(s,C),e(s,h),e(s,u),e(s,f),e(s,g),e(s,w),e(t,S),m.m(t,null),I||(k=[Vt(v,"click",a[11]),Vt(h,"click",a[12]),Vt(f,"click",a[13]),Vt(w,"click",a[14])],I=!0)},p(D,[p]){p&4&&Q(v,"active",D[2]==="7days"),p&4&&Q(h,"active",D[2]==="30days"),p&4&&Q(f,"active",D[2]==="90days"),p&4&&Q(w,"active",D[2]==="year"),_===(_=y(D))&&m?m.p(D,p):(m.d(1),m=_(D),m&&(m.c(),m.m(t,null)))},i:vt,o:vt,d(D){D&&o(t),m.d(),I=!1,oe(k)}}}function H(a,t=0){return(a||0).toLocaleString("sk-SK",{minimumFractionDigits:t,maximumFractionDigits:t})}const ie=(a,t)=>a+(t.clicks||0),ne=(a,t)=>a+(t.cost||0);function Ce(a,t,l){let s,v,N;const C=xt("vendor");Wt(a,C,m=>l(10,N=m));const h=xt("shop");Wt(a,h,m=>l(9,v=m));const d=xt("API_BASE");let u=!0,f="30days",i=[],g=[],w={totalClicks:0,totalCost:0,avgCpc:.05,conversions:0,conversionRate:0};ve(async()=>{await A()});async function A(){l(1,u=!0);const m=localStorage.getItem("vendor_token");if(m){try{const p=await(await fetch(`${d}/vendor/stats`,{headers:{Authorization:`Bearer ${m}`}})).json();p.success&&p.data&&l(4,w={...w,...p.data});const b=await(await fetch(`${d}/vendor/statistics?period=${f}`,{headers:{Authorization:`Bearer ${m}`}})).json();b.success&&b.data&&(l(0,i=b.data.clicks_by_day||[]),l(3,g=b.data.top_products||[]))}catch(D){console.error("Error loading stats:",D)}l(1,u=!1)}}function S(m){l(2,f=m),A()}const I=()=>S("7days"),k=()=>S("30days"),y=()=>S("90days"),_=()=>S("year");return a.$$.update=()=>{a.$$.dirty&1024,a.$$.dirty&512,a.$$.dirty&1&&l(5,s=Math.max(...i.map(m=>m.clicks||0),1))},[i,u,f,g,w,s,C,h,S,v,N,I,k,y,_]}class De extends de{constructor(t){super(),ue(this,t,Ce,me,re,{})}}export{De as component};
