import{s as Zt,n as dt,d as i,i as le,b as e,q as a,v as Kt,g,c as n,e as _,w as A,j as E,h as o,B as Ft,I as Gt,J as ct,m as Jt,r as Rt,K as Ke,D as Pe,a as Q,y as Ve,L as ut,f as w,t as V,x as De,M as Vt}from"../chunks/DegHwCHz.js";import{g as Qt}from"../chunks/D0QH3NT1.js";import{e as Ot}from"../chunks/BS8_HMP2.js";import{S as Wt,i as Xt}from"../chunks/DwtPztOd.js";const{document:Lt}=Qt;function zt(l,t,s){const r=l.slice();return r[24]=t[s],r}function Yt(l){let t,s,r,f="âš™ï¸ AI Nastavenia",u,b,C="API kÄ¾ÃºÄe pre AI kategorizÃ¡ciu. BezpeÄne uloÅ¾enÃ© v databÃ¡ze.",d,v,c,I,S="AI Provider",z,m,k,T="OpenAI (GPT-4o-mini)",j,ye="Anthropic (Claude Haiku)",ce,U,q,ue="OpenAI API kÄ¾ÃºÄ",me,H,Ce,de,h='ZÃ­skajte na <a href="https://platform.openai.com/api-keys" target="_blank" class="svelte-r15v9b">platform.openai.com</a>',Z,K,$,oe="Anthropic API kÄ¾ÃºÄ",Oe,J,re,ee,Ae='ZÃ­skajte na <a href="https://console.anthropic.com" target="_blank" class="svelte-r15v9b">console.anthropic.com</a>',ke,W,ae,Se="OpenAI Model",fe,G,D,F="GPT-4o-mini (najlacnejÅ¡Ã­)",X,P="GPT-4o (najlepÅ¡Ã­)",N,te,ge,He="Anthropic Model",ie,se,M,Y="Claude 3 Haiku (najlacnejÅ¡Ã­)",L,Ee="Claude Sonnet 4",Ne,x,ne,pe=l[2]?"UkladÃ¡m...":"ğŸ’¾ UloÅ¾iÅ¥",Le,Fe,Ge,R,ze,Xe="ğŸ§  HromadnÃ¡ AI kategorizÃ¡cia",Ye,Je,It="Vyberte obchod a spustite kategorizÃ¡ciu jeho nespÃ¡rovanÃ½ch ponÃºk.",ft,Re,Pt='<div class="step svelte-r15v9b">1ï¸âƒ£ EAN match</div><div class="arrow svelte-r15v9b">â†’</div> <div class="step svelte-r15v9b">2ï¸âƒ£ Fuzzy nÃ¡zov</div><div class="arrow svelte-r15v9b">â†’</div> <div class="step svelte-r15v9b">3ï¸âƒ£ AI kategorizÃ¡cia</div><div class="arrow svelte-r15v9b">â†’</div> <div class="step svelte-r15v9b">4ï¸âƒ£ NovÃ½ produkt</div>',pt,Me,Ue,At="Obchod na kategorizÃ¡ciu",_t,Ie,je,St="-- Vyberte obchod --",ht,tt,Be,st,qe,Nt="ğŸ”„ ObnoviÅ¥",lt,Ze,Tt='<h2 class="svelte-r15v9b">â„¹ï¸ Ako to funguje</h2> <div class="info-grid svelte-r15v9b"><div class="info-card svelte-r15v9b"><h3 class="svelte-r15v9b">ğŸ”“ FREE reÅ¾im</h3><p class="svelte-r15v9b">Ponuky viditeÄ¾nÃ© iba vo vyhÄ¾adÃ¡vanÃ­. Nie v kategÃ³riÃ¡ch.</p></div> <div class="info-card svelte-r15v9b"><h3 class="svelte-r15v9b">ğŸ’³ PAID reÅ¾im</h3><p class="svelte-r15v9b">Ponuky v kategÃ³riÃ¡ch, porovnanie cien, CPC ÃºÄtovanie.</p></div> <div class="info-card svelte-r15v9b"><h3 class="svelte-r15v9b">ğŸ¤– AI kategorizÃ¡cia</h3><p class="svelte-r15v9b">AI zaradÃ­ nespÃ¡rovanÃ© ponuky do sprÃ¡vnych kategÃ³riÃ­.</p></div> <div class="info-card svelte-r15v9b"><h3 class="svelte-r15v9b">ğŸ”„ PrepÃ­nanie</h3><p class="svelte-r15v9b">FREEâ†”PAID: ponuky zmiznÃº/vrÃ¡tia sa z kategÃ³riÃ­.</p></div></div>',bt,Dt,_e=l[8]&&jt(l),he=l[3]&&Bt(l),xe=Ot(l[4]),ve=[];for(let p=0;p<xe.length;p+=1)ve[p]=Ht(zt(l,xe,p));let be=l[6]&&Mt(l);function yt(p,y){var O;return((O=p[6])==null?void 0:O.status)==="running"?es:$t}let at=yt(l),we=at(l);return{c(){_e&&_e.c(),t=E(),s=o("div"),r=o("h2"),r.textContent=f,u=E(),b=o("p"),b.textContent=C,d=E(),v=o("div"),c=o("div"),I=o("label"),I.textContent=S,z=E(),m=o("select"),k=o("option"),k.textContent=T,j=o("option"),j.textContent=ye,ce=E(),U=o("div"),q=o("label"),q.textContent=ue,me=E(),H=o("input"),Ce=E(),de=o("small"),de.innerHTML=h,Z=E(),K=o("div"),$=o("label"),$.textContent=oe,Oe=E(),J=o("input"),re=E(),ee=o("small"),ee.innerHTML=Ae,ke=E(),W=o("div"),ae=o("label"),ae.textContent=Se,fe=E(),G=o("select"),D=o("option"),D.textContent=F,X=o("option"),X.textContent=P,N=E(),te=o("div"),ge=o("label"),ge.textContent=He,ie=E(),se=o("select"),M=o("option"),M.textContent=Y,L=o("option"),L.textContent=Ee,Ne=E(),x=o("div"),ne=o("button"),Le=V(pe),Fe=E(),he&&he.c(),Ge=E(),R=o("div"),ze=o("h2"),ze.textContent=Xe,Ye=E(),Je=o("p"),Je.textContent=It,ft=E(),Re=o("div"),Re.innerHTML=Pt,pt=E(),Me=o("div"),Ue=o("label"),Ue.textContent=At,_t=E(),Ie=o("select"),je=o("option"),je.textContent=St;for(let p=0;p<ve.length;p+=1)ve[p].c();ht=E(),be&&be.c(),tt=E(),Be=o("div"),we.c(),st=E(),qe=o("button"),qe.textContent=Nt,lt=E(),Ze=o("div"),Ze.innerHTML=Tt,this.h()},l(p){_e&&_e.l(p),t=g(p),s=n(p,"DIV",{class:!0});var y=_(s);r=n(y,"H2",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-1kr07oo"&&(r.textContent=f),u=g(y),b=n(y,"P",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-vy4h4o"&&(b.textContent=C),d=g(y),v=n(y,"DIV",{class:!0});var O=_(v);c=n(O,"DIV",{class:!0});var Qe=_(c);I=n(Qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(I)!=="svelte-b0ko96"&&(I.textContent=S),z=g(Qe),m=n(Qe,"SELECT",{id:!0,class:!0});var mt=_(m);k=n(mt,"OPTION",{"data-svelte-h":!0}),A(k)!=="svelte-19bnjb0"&&(k.textContent=T),j=n(mt,"OPTION",{"data-svelte-h":!0}),A(j)!=="svelte-18cx3gf"&&(j.textContent=ye),mt.forEach(i),Qe.forEach(i),ce=g(O),U=n(O,"DIV",{class:!0});var $e=_(U);q=n($e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(q)!=="svelte-5adbk9"&&(q.textContent=ue),me=g($e),H=n($e,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Ce=g($e),de=n($e,"SMALL",{class:!0,"data-svelte-h":!0}),A(de)!=="svelte-uadwq9"&&(de.innerHTML=h),$e.forEach(i),Z=g(O),K=n(O,"DIV",{class:!0});var et=_(K);$=n(et,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A($)!=="svelte-1den1l5"&&($.textContent=oe),Oe=g(et),J=n(et,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),re=g(et),ee=n(et,"SMALL",{class:!0,"data-svelte-h":!0}),A(ee)!=="svelte-t590k7"&&(ee.innerHTML=Ae),et.forEach(i),ke=g(O),W=n(O,"DIV",{class:!0});var nt=_(W);ae=n(nt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(ae)!=="svelte-31ujy4"&&(ae.textContent=Se),fe=g(nt),G=n(nt,"SELECT",{id:!0,class:!0});var Ct=_(G);D=n(Ct,"OPTION",{"data-svelte-h":!0}),A(D)!=="svelte-rilihb"&&(D.textContent=F),X=n(Ct,"OPTION",{"data-svelte-h":!0}),A(X)!=="svelte-1bods6n"&&(X.textContent=P),Ct.forEach(i),nt.forEach(i),N=g(O),te=n(O,"DIV",{class:!0});var ot=_(te);ge=n(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(ge)!=="svelte-lap9fq"&&(ge.textContent=He),ie=g(ot),se=n(ot,"SELECT",{id:!0,class:!0});var kt=_(se);M=n(kt,"OPTION",{"data-svelte-h":!0}),A(M)!=="svelte-8yajwc"&&(M.textContent=Y),L=n(kt,"OPTION",{"data-svelte-h":!0}),A(L)!=="svelte-1qel53s"&&(L.textContent=Ee),kt.forEach(i),ot.forEach(i),O.forEach(i),Ne=g(y),x=n(y,"DIV",{class:!0});var rt=_(x);ne=n(rt,"BUTTON",{class:!0});var wt=_(ne);Le=w(wt,pe),wt.forEach(i),Fe=g(rt),he&&he.l(rt),rt.forEach(i),y.forEach(i),Ge=g(p),R=n(p,"DIV",{class:!0});var Te=_(R);ze=n(Te,"H2",{class:!0,"data-svelte-h":!0}),A(ze)!=="svelte-1mkckec"&&(ze.textContent=Xe),Ye=g(Te),Je=n(Te,"P",{class:!0,"data-svelte-h":!0}),A(Je)!=="svelte-qy3ujp"&&(Je.textContent=It),ft=g(Te),Re=n(Te,"DIV",{class:!0,"data-svelte-h":!0}),A(Re)!=="svelte-1iouwdw"&&(Re.innerHTML=Pt),pt=g(Te),Me=n(Te,"DIV",{class:!0});var it=_(Me);Ue=n(it,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(Ue)!=="svelte-d8x2zn"&&(Ue.textContent=At),_t=g(it),Ie=n(it,"SELECT",{id:!0,class:!0});var gt=_(Ie);je=n(gt,"OPTION",{"data-svelte-h":!0}),A(je)!=="svelte-n54n4o"&&(je.textContent=St);for(let Et=0;Et<ve.length;Et+=1)ve[Et].l(gt);gt.forEach(i),it.forEach(i),ht=g(Te),be&&be.l(Te),tt=g(Te),Be=n(Te,"DIV",{class:!0});var vt=_(Be);we.l(vt),st=g(vt),qe=n(vt,"BUTTON",{class:!0,"data-svelte-h":!0}),A(qe)!=="svelte-1xrkjyx"&&(qe.textContent=Nt),vt.forEach(i),Te.forEach(i),lt=g(p),Ze=n(p,"DIV",{class:!0,"data-svelte-h":!0}),A(Ze)!=="svelte-1c9q48f"&&(Ze.innerHTML=Tt),this.h()},h(){a(r,"class","svelte-r15v9b"),a(b,"class","desc svelte-r15v9b"),a(I,"for","provider"),a(I,"class","svelte-r15v9b"),k.__value="openai",Pe(k,k.__value),j.__value="anthropic",Pe(j,j.__value),a(m,"id","provider"),a(m,"class","svelte-r15v9b"),l[0].ai_provider===void 0&&ut(()=>l[13].call(m)),a(c,"class","form-row svelte-r15v9b"),a(q,"for","oai_key"),a(q,"class","svelte-r15v9b"),a(H,"id","oai_key"),a(H,"type","password"),a(H,"placeholder","sk-proj-..."),a(H,"class","svelte-r15v9b"),a(de,"class","svelte-r15v9b"),a(U,"class","form-row svelte-r15v9b"),a($,"for","ant_key"),a($,"class","svelte-r15v9b"),a(J,"id","ant_key"),a(J,"type","password"),a(J,"placeholder","sk-ant-..."),a(J,"class","svelte-r15v9b"),a(ee,"class","svelte-r15v9b"),a(K,"class","form-row svelte-r15v9b"),a(ae,"for","oai_model"),a(ae,"class","svelte-r15v9b"),D.__value="gpt-4o-mini",Pe(D,D.__value),X.__value="gpt-4o",Pe(X,X.__value),a(G,"id","oai_model"),a(G,"class","svelte-r15v9b"),l[0].ai_model_openai===void 0&&ut(()=>l[16].call(G)),a(W,"class","form-row svelte-r15v9b"),a(ge,"for","ant_model"),a(ge,"class","svelte-r15v9b"),M.__value="claude-3-haiku-20240307",Pe(M,M.__value),L.__value="claude-sonnet-4-20250514",Pe(L,L.__value),a(se,"id","ant_model"),a(se,"class","svelte-r15v9b"),l[0].ai_model_anthropic===void 0&&ut(()=>l[17].call(se)),a(te,"class","form-row svelte-r15v9b"),a(v,"class","form-grid svelte-r15v9b"),a(ne,"class","btn blue svelte-r15v9b"),ne.disabled=l[2],a(x,"class","actions svelte-r15v9b"),a(s,"class","section svelte-r15v9b"),a(ze,"class","svelte-r15v9b"),a(Je,"class","desc svelte-r15v9b"),a(Re,"class","flow svelte-r15v9b"),a(Ue,"for","shop_select"),a(Ue,"class","svelte-r15v9b"),je.__value="",Pe(je,je.__value),a(Ie,"id","shop_select"),a(Ie,"class","svelte-r15v9b"),l[5]===void 0&&ut(()=>l[18].call(Ie)),a(Me,"class","form-row svelte-r15v9b"),a(qe,"class","btn outline svelte-r15v9b"),a(Be,"class","actions svelte-r15v9b"),a(R,"class","section svelte-r15v9b"),a(Ze,"class","section info-section svelte-r15v9b")},m(p,y){_e&&_e.m(p,y),le(p,t,y),le(p,s,y),e(s,r),e(s,u),e(s,b),e(s,d),e(s,v),e(v,c),e(c,I),e(c,z),e(c,m),e(m,k),e(m,j),Ke(m,l[0].ai_provider,!0),e(v,ce),e(v,U),e(U,q),e(U,me),e(U,H),Pe(H,l[0].openai_api_key),e(U,Ce),e(U,de),e(v,Z),e(v,K),e(K,$),e(K,Oe),e(K,J),Pe(J,l[0].anthropic_api_key),e(K,re),e(K,ee),e(v,ke),e(v,W),e(W,ae),e(W,fe),e(W,G),e(G,D),e(G,X),Ke(G,l[0].ai_model_openai,!0),e(v,N),e(v,te),e(te,ge),e(te,ie),e(te,se),e(se,M),e(se,L),Ke(se,l[0].ai_model_anthropic,!0),e(s,Ne),e(s,x),e(x,ne),e(ne,Le),e(x,Fe),he&&he.m(x,null),le(p,Ge,y),le(p,R,y),e(R,ze),e(R,Ye),e(R,Je),e(R,ft),e(R,Re),e(R,pt),e(R,Me),e(Me,Ue),e(Me,_t),e(Me,Ie),e(Ie,je);for(let O=0;O<ve.length;O+=1)ve[O]&&ve[O].m(Ie,null);Ke(Ie,l[5],!0),e(R,ht),be&&be.m(R,null),e(R,tt),e(R,Be),we.m(Be,null),e(Be,st),e(Be,qe),le(p,lt,y),le(p,Ze,y),bt||(Dt=[Ve(m,"change",l[13]),Ve(H,"input",l[14]),Ve(J,"input",l[15]),Ve(G,"change",l[16]),Ve(se,"change",l[17]),Ve(ne,"click",l[9]),Ve(Ie,"change",l[18]),Ve(qe,"click",l[10])],bt=!0)},p(p,y){if(p[8]?_e?_e.p(p,y):(_e=jt(p),_e.c(),_e.m(t.parentNode,t)):_e&&(_e.d(1),_e=null),y&1&&Ke(m,p[0].ai_provider),y&1&&H.value!==p[0].openai_api_key&&Pe(H,p[0].openai_api_key),y&1&&J.value!==p[0].anthropic_api_key&&Pe(J,p[0].anthropic_api_key),y&1&&Ke(G,p[0].ai_model_openai),y&1&&Ke(se,p[0].ai_model_anthropic),y&4&&pe!==(pe=p[2]?"UkladÃ¡m...":"ğŸ’¾ UloÅ¾iÅ¥")&&Q(Le,pe),y&4&&(ne.disabled=p[2]),p[3]?he?he.p(p,y):(he=Bt(p),he.c(),he.m(x,null)):he&&(he.d(1),he=null),y&16){xe=Ot(p[4]);let O;for(O=0;O<xe.length;O+=1){const Qe=zt(p,xe,O);ve[O]?ve[O].p(Qe,y):(ve[O]=Ht(Qe),ve[O].c(),ve[O].m(Ie,null))}for(;O<ve.length;O+=1)ve[O].d(1);ve.length=xe.length}y&48&&Ke(Ie,p[5]),p[6]?be?be.p(p,y):(be=Mt(p),be.c(),be.m(R,tt)):be&&(be.d(1),be=null),at===(at=yt(p))&&we?we.p(p,y):(we.d(1),we=at(p),we&&(we.c(),we.m(Be,st)))},d(p){p&&(i(t),i(s),i(Ge),i(R),i(lt),i(Ze)),_e&&_e.d(p),he&&he.d(),Jt(ve,p),be&&be.d(),we.d(),bt=!1,Rt(Dt)}}}function xt(l){let t,s="NaÄÃ­tavam...";return{c(){t=o("div"),t.textContent=s,this.h()},l(r){t=n(r,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-kpnqif"&&(t.textContent=s),this.h()},h(){a(t,"class","loading svelte-r15v9b")},m(r,f){le(r,t,f)},p:dt,d(r){r&&i(t)}}}function jt(l){var N,te,ge,He,ie,se;let t,s,r="ğŸ“Š PrehÄ¾ad systÃ©mu",f,u,b,C,d=B((N=l[8].shops)==null?void 0:N.total)+"",v,c,I="Obchodov",S,z,m,k=B((te=l[8].shops)==null?void 0:te.free)+"",T,j,ye="FREE reÅ¾im",ce,U,q,ue=B((ge=l[8].shops)==null?void 0:ge.paid)+"",me,H,Ce="PAID reÅ¾im",de,h,Z,K=B((He=l[8].offers)==null?void 0:He.total)+"",$,oe,Oe="PonÃºk celkom",J,re,ee,Ae=B((ie=l[8].matching)==null?void 0:ie.matched)+"",ke,W,ae="SpÃ¡rovanÃ½ch",Se,fe,G,D=B((se=l[8].matching)==null?void 0:se.unmatched)+"",F,X,P="NespÃ¡rovanÃ½ch";return{c(){t=o("div"),s=o("h2"),s.textContent=r,f=E(),u=o("div"),b=o("div"),C=o("span"),v=V(d),c=o("span"),c.textContent=I,S=E(),z=o("div"),m=o("span"),T=V(k),j=o("span"),j.textContent=ye,ce=E(),U=o("div"),q=o("span"),me=V(ue),H=o("span"),H.textContent=Ce,de=E(),h=o("div"),Z=o("span"),$=V(K),oe=o("span"),oe.textContent=Oe,J=E(),re=o("div"),ee=o("span"),ke=V(Ae),W=o("span"),W.textContent=ae,Se=E(),fe=o("div"),G=o("span"),F=V(D),X=o("span"),X.textContent=P,this.h()},l(M){t=n(M,"DIV",{class:!0});var Y=_(t);s=n(Y,"H2",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-1liow6r"&&(s.textContent=r),f=g(Y),u=n(Y,"DIV",{class:!0});var L=_(u);b=n(L,"DIV",{class:!0});var Ee=_(b);C=n(Ee,"SPAN",{class:!0});var Ne=_(C);v=w(Ne,d),Ne.forEach(i),c=n(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),A(c)!=="svelte-lnd0u1"&&(c.textContent=I),Ee.forEach(i),S=g(L),z=n(L,"DIV",{class:!0});var x=_(z);m=n(x,"SPAN",{class:!0});var ne=_(m);T=w(ne,k),ne.forEach(i),j=n(x,"SPAN",{class:!0,"data-svelte-h":!0}),A(j)!=="svelte-1ibosuw"&&(j.textContent=ye),x.forEach(i),ce=g(L),U=n(L,"DIV",{class:!0});var pe=_(U);q=n(pe,"SPAN",{class:!0});var Le=_(q);me=w(Le,ue),Le.forEach(i),H=n(pe,"SPAN",{class:!0,"data-svelte-h":!0}),A(H)!=="svelte-103uo0c"&&(H.textContent=Ce),pe.forEach(i),de=g(L),h=n(L,"DIV",{class:!0});var Fe=_(h);Z=n(Fe,"SPAN",{class:!0});var Ge=_(Z);$=w(Ge,K),Ge.forEach(i),oe=n(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),A(oe)!=="svelte-12o8haa"&&(oe.textContent=Oe),Fe.forEach(i),J=g(L),re=n(L,"DIV",{class:!0});var R=_(re);ee=n(R,"SPAN",{class:!0});var ze=_(ee);ke=w(ze,Ae),ze.forEach(i),W=n(R,"SPAN",{class:!0,"data-svelte-h":!0}),A(W)!=="svelte-1behs0n"&&(W.textContent=ae),R.forEach(i),Se=g(L),fe=n(L,"DIV",{class:!0});var Xe=_(fe);G=n(Xe,"SPAN",{class:!0});var Ye=_(G);F=w(Ye,D),Ye.forEach(i),X=n(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),A(X)!=="svelte-1p4ji6y"&&(X.textContent=P),Xe.forEach(i),L.forEach(i),Y.forEach(i),this.h()},h(){a(s,"class","svelte-r15v9b"),a(C,"class","n svelte-r15v9b"),a(c,"class","l svelte-r15v9b"),a(b,"class","stat svelte-r15v9b"),a(m,"class","n svelte-r15v9b"),a(j,"class","l svelte-r15v9b"),a(z,"class","stat free svelte-r15v9b"),a(q,"class","n svelte-r15v9b"),a(H,"class","l svelte-r15v9b"),a(U,"class","stat paid svelte-r15v9b"),a(Z,"class","n svelte-r15v9b"),a(oe,"class","l svelte-r15v9b"),a(h,"class","stat svelte-r15v9b"),a(ee,"class","n svelte-r15v9b"),a(W,"class","l svelte-r15v9b"),a(re,"class","stat ok svelte-r15v9b"),a(G,"class","n svelte-r15v9b"),a(X,"class","l svelte-r15v9b"),a(fe,"class","stat warn svelte-r15v9b"),a(u,"class","stats-grid svelte-r15v9b"),a(t,"class","section svelte-r15v9b")},m(M,Y){le(M,t,Y),e(t,s),e(t,f),e(t,u),e(u,b),e(b,C),e(C,v),e(b,c),e(u,S),e(u,z),e(z,m),e(m,T),e(z,j),e(u,ce),e(u,U),e(U,q),e(q,me),e(U,H),e(u,de),e(u,h),e(h,Z),e(Z,$),e(h,oe),e(u,J),e(u,re),e(re,ee),e(ee,ke),e(re,W),e(u,Se),e(u,fe),e(fe,G),e(G,F),e(fe,X)},p(M,Y){var L,Ee,Ne,x,ne,pe;Y&256&&d!==(d=B((L=M[8].shops)==null?void 0:L.total)+"")&&Q(v,d),Y&256&&k!==(k=B((Ee=M[8].shops)==null?void 0:Ee.free)+"")&&Q(T,k),Y&256&&ue!==(ue=B((Ne=M[8].shops)==null?void 0:Ne.paid)+"")&&Q(me,ue),Y&256&&K!==(K=B((x=M[8].offers)==null?void 0:x.total)+"")&&Q($,K),Y&256&&Ae!==(Ae=B((ne=M[8].matching)==null?void 0:ne.matched)+"")&&Q(ke,Ae),Y&256&&D!==(D=B((pe=M[8].matching)==null?void 0:pe.unmatched)+"")&&Q(F,D)},d(M){M&&i(t)}}}function Bt(l){let t,s;return{c(){t=o("span"),s=V(l[3]),this.h()},l(r){t=n(r,"SPAN",{class:!0});var f=_(t);s=w(f,l[3]),f.forEach(i),this.h()},h(){a(t,"class","msg svelte-r15v9b")},m(r,f){le(r,t,f),e(t,s)},p(r,f){f&8&&Q(s,r[3])},d(r){r&&i(t)}}}function Ht(l){let t,s=l[24].shop_name+"",r,f,u=(l[24].display_mode||"free")+"",b,C,d;return{c(){t=o("option"),r=V(s),f=V(" ("),b=V(u),C=V(")"),this.h()},l(v){t=n(v,"OPTION",{});var c=_(t);r=w(c,s),f=w(c," ("),b=w(c,u),C=w(c,")"),c.forEach(i),this.h()},h(){t.__value=d=l[24].id,Pe(t,t.__value)},m(v,c){le(v,t,c),e(t,r),e(t,f),e(t,b),e(t,C)},p(v,c){c&16&&s!==(s=v[24].shop_name+"")&&Q(r,s),c&16&&u!==(u=(v[24].display_mode||"free")+"")&&Q(b,u),c&16&&d!==(d=v[24].id)&&(t.__value=d,Pe(t,t.__value))},d(v){v&&i(t)}}}function Mt(l){var X;let t,s,r,f=l[6].status==="running"?"â³ Prebieha":l[6].status==="completed"?"âœ… DokonÄenÃ©":l[6].status==="failed"?"âŒ Zlyhalo":"â›” ZruÅ¡enÃ©",u,b,C,d=((X=l[6].provider)==null?void 0:X.toUpperCase())+"",v,c,I,S,z,m,k,T=B(l[6].processed)+"",j,ye,ce,U,q,ue=B(l[6].matched)+"",me,H,Ce,de,h,Z=B(l[6].new_products)+"",K,$,oe,Oe,J,re=B(l[6].new_categories)+"",ee,Ae,ke,W,ae,Se=B(l[6].errors)+"",fe,G,D=l[6].status==="running"&&Ut(l),F=l[6].error_log&&qt(l);return{c(){t=o("div"),s=o("div"),r=o("span"),u=V(f),b=E(),C=o("span"),v=V(d),c=E(),D&&D.c(),I=E(),S=o("div"),z=o("span"),m=V("ğŸ“¦ SpracovanÃ½ch: "),k=o("b"),j=V(T),ye=E(),ce=o("span"),U=V("âœ… SpÃ¡rovanÃ½ch: "),q=o("b"),me=V(ue),H=E(),Ce=o("span"),de=V("ğŸ†• NovÃ½ch: "),h=o("b"),K=V(Z),$=E(),oe=o("span"),Oe=V("ğŸ“ KategÃ³riÃ­: "),J=o("b"),ee=V(re),Ae=E(),ke=o("span"),W=V("âŒ ChÃ½b: "),ae=o("b"),fe=V(Se),G=E(),F&&F.c(),this.h()},l(P){t=n(P,"DIV",{class:!0});var N=_(t);s=n(N,"DIV",{class:!0});var te=_(s);r=n(te,"SPAN",{class:!0});var ge=_(r);u=w(ge,f),ge.forEach(i),b=g(te),C=n(te,"SPAN",{class:!0});var He=_(C);v=w(He,d),He.forEach(i),te.forEach(i),c=g(N),D&&D.l(N),I=g(N),S=n(N,"DIV",{class:!0});var ie=_(S);z=n(ie,"SPAN",{});var se=_(z);m=w(se,"ğŸ“¦ SpracovanÃ½ch: "),k=n(se,"B",{class:!0});var M=_(k);j=w(M,T),M.forEach(i),se.forEach(i),ye=g(ie),ce=n(ie,"SPAN",{});var Y=_(ce);U=w(Y,"âœ… SpÃ¡rovanÃ½ch: "),q=n(Y,"B",{class:!0});var L=_(q);me=w(L,ue),L.forEach(i),Y.forEach(i),H=g(ie),Ce=n(ie,"SPAN",{});var Ee=_(Ce);de=w(Ee,"ğŸ†• NovÃ½ch: "),h=n(Ee,"B",{class:!0});var Ne=_(h);K=w(Ne,Z),Ne.forEach(i),Ee.forEach(i),$=g(ie),oe=n(ie,"SPAN",{});var x=_(oe);Oe=w(x,"ğŸ“ KategÃ³riÃ­: "),J=n(x,"B",{class:!0});var ne=_(J);ee=w(ne,re),ne.forEach(i),x.forEach(i),Ae=g(ie),ke=n(ie,"SPAN",{});var pe=_(ke);W=w(pe,"âŒ ChÃ½b: "),ae=n(pe,"B",{class:!0});var Le=_(ae);fe=w(Le,Se),Le.forEach(i),pe.forEach(i),ie.forEach(i),G=g(N),F&&F.l(N),N.forEach(i),this.h()},h(){a(r,"class","job-badge svelte-r15v9b"),De(r,"running",l[6].status==="running"),De(r,"done",l[6].status==="completed"),De(r,"err",l[6].status==="failed"||l[6].status==="cancelled"),a(C,"class","job-provider svelte-r15v9b"),a(s,"class","job-header svelte-r15v9b"),a(k,"class","svelte-r15v9b"),a(q,"class","svelte-r15v9b"),a(h,"class","svelte-r15v9b"),a(J,"class","svelte-r15v9b"),a(ae,"class","svelte-r15v9b"),a(S,"class","job-stats svelte-r15v9b"),a(t,"class","job-status svelte-r15v9b"),De(t,"running",l[6].status==="running"),De(t,"done",l[6].status==="completed"),De(t,"err",l[6].status==="failed")},m(P,N){le(P,t,N),e(t,s),e(s,r),e(r,u),e(s,b),e(s,C),e(C,v),e(t,c),D&&D.m(t,null),e(t,I),e(t,S),e(S,z),e(z,m),e(z,k),e(k,j),e(S,ye),e(S,ce),e(ce,U),e(ce,q),e(q,me),e(S,H),e(S,Ce),e(Ce,de),e(Ce,h),e(h,K),e(S,$),e(S,oe),e(oe,Oe),e(oe,J),e(J,ee),e(S,Ae),e(S,ke),e(ke,W),e(ke,ae),e(ae,fe),e(t,G),F&&F.m(t,null)},p(P,N){var te;N&64&&f!==(f=P[6].status==="running"?"â³ Prebieha":P[6].status==="completed"?"âœ… DokonÄenÃ©":P[6].status==="failed"?"âŒ Zlyhalo":"â›” ZruÅ¡enÃ©")&&Q(u,f),N&64&&De(r,"running",P[6].status==="running"),N&64&&De(r,"done",P[6].status==="completed"),N&64&&De(r,"err",P[6].status==="failed"||P[6].status==="cancelled"),N&64&&d!==(d=((te=P[6].provider)==null?void 0:te.toUpperCase())+"")&&Q(v,d),P[6].status==="running"?D?D.p(P,N):(D=Ut(P),D.c(),D.m(t,I)):D&&(D.d(1),D=null),N&64&&T!==(T=B(P[6].processed)+"")&&Q(j,T),N&64&&ue!==(ue=B(P[6].matched)+"")&&Q(me,ue),N&64&&Z!==(Z=B(P[6].new_products)+"")&&Q(K,Z),N&64&&re!==(re=B(P[6].new_categories)+"")&&Q(ee,re),N&64&&Se!==(Se=B(P[6].errors)+"")&&Q(fe,Se),P[6].error_log?F?F.p(P,N):(F=qt(P),F.c(),F.m(t,null)):F&&(F.d(1),F=null),N&64&&De(t,"running",P[6].status==="running"),N&64&&De(t,"done",P[6].status==="completed"),N&64&&De(t,"err",P[6].status==="failed")},d(P){P&&i(t),D&&D.d(),F&&F.d()}}}function Ut(l){let t,s,r,f,u=B(l[6].processed)+"",b,C,d=B(l[6].total_offers)+"",v,c,I=(l[6].percent||0)+"",S,z;return{c(){t=o("div"),s=o("div"),r=E(),f=o("div"),b=V(u),C=V(" / "),v=V(d),c=V(" ("),S=V(I),z=V("%)"),this.h()},l(m){t=n(m,"DIV",{class:!0});var k=_(t);s=n(k,"DIV",{class:!0,style:!0}),_(s).forEach(i),k.forEach(i),r=g(m),f=n(m,"DIV",{class:!0});var T=_(f);b=w(T,u),C=w(T," / "),v=w(T,d),c=w(T," ("),S=w(T,I),z=w(T,"%)"),T.forEach(i),this.h()},h(){a(s,"class","progress-fill svelte-r15v9b"),Vt(s,"width",(l[6].percent||0)+"%"),a(t,"class","progress-bar svelte-r15v9b"),a(f,"class","progress-text svelte-r15v9b")},m(m,k){le(m,t,k),e(t,s),le(m,r,k),le(m,f,k),e(f,b),e(f,C),e(f,v),e(f,c),e(f,S),e(f,z)},p(m,k){k&64&&Vt(s,"width",(m[6].percent||0)+"%"),k&64&&u!==(u=B(m[6].processed)+"")&&Q(b,u),k&64&&d!==(d=B(m[6].total_offers)+"")&&Q(v,d),k&64&&I!==(I=(m[6].percent||0)+"")&&Q(S,I)},d(m){m&&(i(t),i(r),i(f))}}}function qt(l){let t,s,r,f="ğŸ“‹ Priebeh / Logy",u,b,C="â†“ NajnovÅ¡ie",d,v,c=l[6].error_log+"",I,S,z;return{c(){t=o("div"),s=o("div"),r=o("span"),r.textContent=f,u=E(),b=o("button"),b.textContent=C,d=E(),v=o("div"),I=V(c),this.h()},l(m){t=n(m,"DIV",{class:!0});var k=_(t);s=n(k,"DIV",{class:!0});var T=_(s);r=n(T,"SPAN",{"data-svelte-h":!0}),A(r)!=="svelte-1l8qrc3"&&(r.textContent=f),u=g(T),b=n(T,"BUTTON",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-1l0rhc2"&&(b.textContent=C),T.forEach(i),d=g(k),v=n(k,"DIV",{class:!0});var j=_(v);I=w(j,c),j.forEach(i),k.forEach(i),this.h()},h(){a(b,"class","btn-sm svelte-r15v9b"),a(s,"class","log-header svelte-r15v9b"),a(v,"class","log-content svelte-r15v9b"),a(t,"class","log-section svelte-r15v9b")},m(m,k){le(m,t,k),e(t,s),e(s,r),e(s,u),e(s,b),e(t,d),e(t,v),e(v,I),S||(z=Ve(b,"click",l[19]),S=!0)},p(m,k){k&64&&c!==(c=m[6].error_log+"")&&Q(I,c)},d(m){m&&i(t),S=!1,z()}}}function $t(l){let t,s=l[7]?"SpÃºÅ¡Å¥am...":"ğŸš€ SpustiÅ¥ kategorizÃ¡ciu",r,f,u,b;return{c(){t=o("button"),r=V(s),this.h()},l(C){t=n(C,"BUTTON",{class:!0});var d=_(t);r=w(d,s),d.forEach(i),this.h()},h(){a(t,"class","btn green svelte-r15v9b"),t.disabled=f=l[7]||!l[5]},m(C,d){le(C,t,d),e(t,r),u||(b=Ve(t,"click",l[11]),u=!0)},p(C,d){d&128&&s!==(s=C[7]?"SpÃºÅ¡Å¥am...":"ğŸš€ SpustiÅ¥ kategorizÃ¡ciu")&&Q(r,s),d&176&&f!==(f=C[7]||!C[5])&&(t.disabled=f)},d(C){C&&i(t),u=!1,b()}}}function es(l){let t,s="â›” ZastaviÅ¥",r,f;return{c(){t=o("button"),t.textContent=s,this.h()},l(u){t=n(u,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-17jb1vq"&&(t.textContent=s),this.h()},h(){a(t,"class","btn red svelte-r15v9b")},m(u,b){le(u,t,b),r||(f=Ve(t,"click",l[12]),r=!0)},p:dt,d(u){u&&i(t),r=!1,f()}}}function ts(l){let t,s,r,f="ğŸ¤– AI KategorizÃ¡cia & Nastavenia",u;function b(v,c){return v[1]?xt:Yt}let C=b(l),d=C(l);return{c(){t=E(),s=o("div"),r=o("h1"),r.textContent=f,u=E(),d.c(),this.h()},l(v){Kt("svelte-xzxn8y",Lt.head).forEach(i),t=g(v),s=n(v,"DIV",{class:!0});var I=_(s);r=n(I,"H1",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-1ph1qb8"&&(r.textContent=f),u=g(I),d.l(I),I.forEach(i),this.h()},h(){Lt.title="AI KategorizÃ¡cia | Admin",a(r,"class","svelte-r15v9b"),a(s,"class","page svelte-r15v9b")},m(v,c){le(v,t,c),le(v,s,c),e(s,r),e(s,u),d.m(s,null)},p(v,[c]){C===(C=b(v))&&d?d.p(v,c):(d.d(1),d=C(v),d&&(d.c(),d.m(s,null)))},i:dt,o:dt,d(v){v&&(i(t),i(s)),d.d()}}}const ss="http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1";async function We(l,t={}){try{return await(await fetch(`${ss}${l}`,{headers:{"Content-Type":"application/json",...t.headers},...t})).json()}catch(s){return{success:!1,error:s.message}}}function B(l){return(l||0).toLocaleString("sk-SK")}function ls(l,t,s){let r={ai_provider:"openai",openai_api_key:"",anthropic_api_key:"",ai_model_openai:"gpt-4o-mini",ai_model_anthropic:"claude-3-haiku-20240307"},f=!0,u=!1,b="",C=[],d="",v=null,c=null,I=!1,S=null;Ft(async()=>{await Promise.all([z(),m(),T(),j()]),s(1,f=!1)}),Gt(()=>{c&&clearInterval(c)});async function z(){const h=await We("/admin/ai/settings");h!=null&&h.success&&h.data&&s(0,r={...r,...h.data})}async function m(){const h=await We("/admin/shops");h!=null&&h.success&&s(4,C=h.data||[])}async function k(){s(2,u=!0),s(3,b="");const h=await We("/admin/ai/settings",{method:"POST",body:JSON.stringify(r)});s(3,b=h!=null&&h.success?"âœ… UloÅ¾enÃ©":"âŒ "+((h==null?void 0:h.error)||"Chyba")),s(2,u=!1),setTimeout(()=>s(3,b=""),3e3)}async function T(){const h=await We("/admin/ai/bulk-categorize/progress");h!=null&&h.success&&h.data&&(s(6,v=h.data),v.status==="running"&&!c&&(c=setInterval(T,2e3)),v.status!=="running"&&c&&(clearInterval(c),c=null))}async function j(){const h=await We("/admin/ai/display-mode-stats");h!=null&&h.success&&s(8,S=h.data)}async function ye(){var K;if(!d){alert("Vyberte obchod na kategorizÃ¡ciu");return}const h=((K=C.find($=>$.id===d))==null?void 0:K.shop_name)||"";if(!confirm(`SpustiÅ¥ AI kategorizÃ¡ciu nespÃ¡rovanÃ½ch ponÃºk obchodu "${h}"?`))return;s(7,I=!0);const Z=await We("/admin/ai/bulk-categorize",{method:"POST",body:JSON.stringify({shop_id:d})});Z!=null&&Z.success?(s(6,v={status:"running",total_offers:Z.unmatched,processed:0,percent:0}),c=setInterval(T,2e3)):alert((Z==null?void 0:Z.error)||"Chyba"),s(7,I=!1)}async function ce(){confirm("ZastaviÅ¥ kategorizÃ¡ciu?")&&(await We("/admin/ai/bulk-categorize/cancel",{method:"POST"}),c&&(clearInterval(c),c=null),await T())}function U(){r.ai_provider=ct(this),s(0,r)}function q(){r.openai_api_key=this.value,s(0,r)}function ue(){r.anthropic_api_key=this.value,s(0,r)}function me(){r.ai_model_openai=ct(this),s(0,r)}function H(){r.ai_model_anthropic=ct(this),s(0,r)}function Ce(){d=ct(this),s(5,d),s(4,C)}return[r,f,u,b,C,d,v,I,S,k,T,ye,ce,U,q,ue,me,H,Ce,()=>{const h=document.querySelector(".log-content");h&&(h.scrollTop=h.scrollHeight)}]}class is extends Wt{constructor(t){super(),Xt(this,t,ls,ts,Zt,{})}}export{is as component};
