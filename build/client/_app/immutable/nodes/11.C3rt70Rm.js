import{s as Ct,n as Ie,d as f,m as mt,r as bt,a as de,F as H,J as ke,N as Se,i as fe,b as l,y as Q,q as r,K as Ye,c as n,e as m,w as V,g as x,f as K,h as o,j as I,t as R,B as jt,M as We,G as ut}from"../chunks/vSoWG56B.js";import{e as ze}from"../chunks/Dysy-sLZ.js";import{S as Et,i as kt}from"../chunks/3kR5jQW9.js";import{P as xt}from"../chunks/CqQQmUBq.js";function dt(s,e,t){const a=s.slice();return a[27]=e[t],a}function ft(s,e,t){const a=s.slice();return a[30]=e[t],a}function ht(s){let e,t=s[30].name+"",a,h;return{c(){e=o("option"),a=R(t),this.h()},l(u){e=n(u,"OPTION",{});var d=m(e);a=K(d,t),d.forEach(f),this.h()},h(){e.__value=h=s[30].slug,H(e,e.__value)},m(u,d){fe(u,e,d),l(e,a)},p(u,d){d[0]&4&&t!==(t=u[30].name+"")&&de(a,t),d[0]&4&&h!==(h=u[30].slug)&&(e.__value=h,H(e,e.__value))},d(u){u&&f(e)}}}function It(s){let e,t,a='<tr class="svelte-1j4ix5"><th style="width: 60px" class="svelte-1j4ix5">Obrázok</th> <th class="svelte-1j4ix5">Názov</th> <th class="svelte-1j4ix5">Kategória</th> <th class="svelte-1j4ix5">Značka</th> <th class="svelte-1j4ix5">Cena</th> <th class="svelte-1j4ix5">EAN</th></tr>',h,u,d=ze(s[1]),v=[];for(let _=0;_<d.length;_+=1)v[_]=_t(dt(s,d,_));return{c(){e=o("table"),t=o("thead"),t.innerHTML=a,h=I(),u=o("tbody");for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=n(_,"TABLE",{class:!0});var C=m(e);t=n(C,"THEAD",{"data-svelte-h":!0}),V(t)!=="svelte-a5rvrp"&&(t.innerHTML=a),h=x(C),u=n(C,"TBODY",{});var c=m(u);for(let b=0;b<v.length;b+=1)v[b].l(c);c.forEach(f),C.forEach(f),this.h()},h(){r(e,"class","products-table svelte-1j4ix5")},m(_,C){fe(_,e,C),l(e,t),l(e,h),l(e,u);for(let c=0;c<v.length;c+=1)v[c]&&v[c].m(u,null)},p(_,C){if(C[0]&2){d=ze(_[1]);let c;for(c=0;c<d.length;c+=1){const b=dt(_,d,c);v[c]?v[c].p(b,C):(v[c]=_t(b),v[c].c(),v[c].m(u,null))}for(;c<v.length;c+=1)v[c].d(1);v.length=d.length}},d(_){_&&f(e),mt(v,_)}}}function Tt(s){let e,t="Žiadne produkty";return{c(){e=o("div"),e.textContent=t,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1t3hjfk"&&(e.textContent=t),this.h()},h(){r(e,"class","empty svelte-1j4ix5")},m(a,h){fe(a,e,h)},p:Ie,d(a){a&&f(e)}}}function yt(s){let e,t="Načítavam...";return{c(){e=o("div"),e.textContent=t,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-kpnqif"&&(e.textContent=t),this.h()},h(){r(e,"class","loading svelte-1j4ix5")},m(a,h){fe(a,e,h)},p:Ie,d(a){a&&f(e)}}}function Pt(s){let e,t="-";return{c(){e=o("div"),e.textContent=t,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-27x3t3"&&(e.textContent=t),this.h()},h(){r(e,"class","no-image svelte-1j4ix5")},m(a,h){fe(a,e,h)},p:Ie,d(a){a&&f(e)}}}function Dt(s){let e,t;return{c(){e=o("img"),this.h()},l(a){e=n(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ut(e.src,t=s[27].image_url)||r(e,"src",t),r(e,"alt",""),r(e,"class","product-thumb svelte-1j4ix5")},m(a,h){fe(a,e,h)},p(a,h){h[0]&2&&!ut(e.src,t=a[27].image_url)&&r(e,"src",t)},d(a){a&&f(e)}}}function _t(s){var M;let e,t,a,h,u,d=(s[27].title||s[27].name||"-")+"",v,_,C,c,b=(((M=s[27].category)==null?void 0:M.name)||s[27].category_name||"-")+"",p,P,T,B=(s[27].brand||"-")+"",w,j,k,A=gt(s[27].price_min||s[27].price)+"",N,$,Y,L,S=(s[27].ean||"-")+"",ae,re;function Z(i,E){return i[27].image_url?Dt:Pt}let F=Z(s),U=F(s);return{c(){e=o("tr"),t=o("td"),U.c(),a=I(),h=o("td"),u=o("a"),v=R(d),C=I(),c=o("td"),p=R(b),P=I(),T=o("td"),w=R(B),j=I(),k=o("td"),N=R(A),$=I(),Y=o("td"),L=o("code"),ae=R(S),re=I(),this.h()},l(i){e=n(i,"TR",{class:!0});var E=m(e);t=n(E,"TD",{class:!0});var y=m(t);U.l(y),y.forEach(f),a=x(E),h=n(E,"TD",{class:!0});var le=m(h);u=n(le,"A",{href:!0,target:!0,class:!0});var xe=m(u);v=K(xe,d),xe.forEach(f),le.forEach(f),C=x(E),c=n(E,"TD",{class:!0});var Ce=m(c);p=K(Ce,b),Ce.forEach(f),P=x(E),T=n(E,"TD",{class:!0});var G=m(T);w=K(G,B),G.forEach(f),j=x(E),k=n(E,"TD",{class:!0});var je=m(k);N=K(je,A),je.forEach(f),$=x(E),Y=n(E,"TD",{class:!0});var ee=m(Y);L=n(ee,"CODE",{class:!0});var se=m(L);ae=K(se,S),se.forEach(f),ee.forEach(f),re=x(E),E.forEach(f),this.h()},h(){r(t,"class","svelte-1j4ix5"),r(u,"href",_="/produkt/"+s[27].slug),r(u,"target","_blank"),r(u,"class","product-link svelte-1j4ix5"),r(h,"class","svelte-1j4ix5"),r(c,"class","svelte-1j4ix5"),r(T,"class","svelte-1j4ix5"),r(k,"class","svelte-1j4ix5"),r(L,"class","svelte-1j4ix5"),r(Y,"class","svelte-1j4ix5"),r(e,"class","svelte-1j4ix5")},m(i,E){fe(i,e,E),l(e,t),U.m(t,null),l(e,a),l(e,h),l(h,u),l(u,v),l(e,C),l(e,c),l(c,p),l(e,P),l(e,T),l(T,w),l(e,j),l(e,k),l(k,N),l(e,$),l(e,Y),l(Y,L),l(L,ae),l(e,re)},p(i,E){var y;F===(F=Z(i))&&U?U.p(i,E):(U.d(1),U=F(i),U&&(U.c(),U.m(t,null))),E[0]&2&&d!==(d=(i[27].title||i[27].name||"-")+"")&&de(v,d),E[0]&2&&_!==(_="/produkt/"+i[27].slug)&&r(u,"href",_),E[0]&2&&b!==(b=(((y=i[27].category)==null?void 0:y.name)||i[27].category_name||"-")+"")&&de(p,b),E[0]&2&&B!==(B=(i[27].brand||"-")+"")&&de(w,B),E[0]&2&&A!==(A=gt(i[27].price_min||i[27].price)+"")&&de(N,A),E[0]&2&&S!==(S=(i[27].ean||"-")+"")&&de(ae,S)},d(i){i&&f(e),U.d()}}}function vt(s){let e,t,a,h,u,d,v,_,C,c,b,p,P,T,B,w;return{c(){e=o("div"),t=o("button"),a=R("Predchádzajúca"),u=I(),d=o("span"),v=R("Strana "),_=R(s[4]),C=R(" z "),c=R(s[11]),b=I(),p=o("button"),P=R("Ďalšia"),this.h()},l(j){e=n(j,"DIV",{class:!0});var k=m(e);t=n(k,"BUTTON",{class:!0});var A=m(t);a=K(A,"Predchádzajúca"),A.forEach(f),u=x(k),d=n(k,"SPAN",{class:!0});var N=m(d);v=K(N,"Strana "),_=K(N,s[4]),C=K(N," z "),c=K(N,s[11]),N.forEach(f),b=x(k),p=n(k,"BUTTON",{class:!0});var $=m(p);P=K($,"Ďalšia"),$.forEach(f),k.forEach(f),this.h()},h(){r(t,"class","page-btn svelte-1j4ix5"),t.disabled=h=s[4]===1,r(d,"class","page-info svelte-1j4ix5"),r(p,"class","page-btn svelte-1j4ix5"),p.disabled=T=s[4]===s[11],r(e,"class","pagination svelte-1j4ix5")},m(j,k){fe(j,e,k),l(e,t),l(t,a),l(e,u),l(e,d),l(d,v),l(d,_),l(d,C),l(d,c),l(e,b),l(e,p),l(p,P),B||(w=[Q(t,"click",s[22]),Q(p,"click",s[23])],B=!0)},p(j,k){k[0]&16&&h!==(h=j[4]===1)&&(t.disabled=h),k[0]&16&&de(_,j[4]),k[0]&2048&&de(c,j[11]),k[0]&2064&&T!==(T=j[4]===j[11])&&(p.disabled=T)},d(j){j&&f(e),B=!1,bt(w)}}}function Nt(s){let e,t,a,h,u="Produkty",d,v,_,C,c,b,p,P,T,B="Hľadať",w,j,k,A,N,$="Kategória",Y,L,S,ae="Všetky kategórie",re,Z,F,U="Cena od",M,i,E,y,le,xe="Cena do",Ce,G,je,ee,se,Xe="Zoradiť",we,J,ne,$e="Dátum pridania",oe,et="Názov",ie,tt="Cena",Ue,he,ge,lt="Poradie",Me,W,ce,st="Zostupne",ue,at="Vzostupne",qe,_e,ve,rt="Filtrovať",Fe,pe,nt="Zrušiť filtre",He,me,Ke,Re,ot,Ee=ze(s[2]),z=[];for(let g=0;g<Ee.length;g+=1)z[g]=ht(ft(s,Ee,g));function it(g,D){return g[3]?yt:g[1].length===0?Tt:It}let Te=it(s),te=Te(s),q=s[11]>1&&vt(s);return{c(){e=o("div"),t=o("div"),a=o("div"),h=o("h1"),h.textContent=u,d=I(),v=o("p"),_=R(s[0]),C=R(" produktov celkom"),c=I(),b=o("div"),p=o("div"),P=o("div"),T=o("label"),T.textContent=B,w=I(),j=o("input"),k=I(),A=o("div"),N=o("label"),N.textContent=$,Y=I(),L=o("select"),S=o("option"),S.textContent=ae;for(let g=0;g<z.length;g+=1)z[g].c();re=I(),Z=o("div"),F=o("label"),F.textContent=U,M=I(),i=o("input"),E=I(),y=o("div"),le=o("label"),le.textContent=xe,Ce=I(),G=o("input"),je=I(),ee=o("div"),se=o("label"),se.textContent=Xe,we=I(),J=o("select"),ne=o("option"),ne.textContent=$e,oe=o("option"),oe.textContent=et,ie=o("option"),ie.textContent=tt,Ue=I(),he=o("div"),ge=o("label"),ge.textContent=lt,Me=I(),W=o("select"),ce=o("option"),ce.textContent=st,ue=o("option"),ue.textContent=at,qe=I(),_e=o("div"),ve=o("button"),ve.textContent=rt,Fe=I(),pe=o("button"),pe.textContent=nt,He=I(),me=o("div"),te.c(),Ke=I(),q&&q.c(),this.h()},l(g){e=n(g,"DIV",{class:!0});var D=m(e);t=n(D,"DIV",{class:!0});var O=m(t);a=n(O,"DIV",{});var be=m(a);h=n(be,"H1",{class:!0,"data-svelte-h":!0}),V(h)!=="svelte-1o1s0b2"&&(h.textContent=u),d=x(be),v=n(be,"P",{class:!0});var Ze=m(v);_=K(Ze,s[0]),C=K(Ze," produktov celkom"),Ze.forEach(f),be.forEach(f),O.forEach(f),c=x(D),b=n(D,"DIV",{class:!0});var ye=m(b);p=n(ye,"DIV",{class:!0});var X=m(p);P=n(X,"DIV",{class:!0});var Pe=m(P);T=n(Pe,"LABEL",{class:!0,"data-svelte-h":!0}),V(T)!=="svelte-zxe13f"&&(T.textContent=B),w=x(Pe),j=n(Pe,"INPUT",{type:!0,placeholder:!0,class:!0}),Pe.forEach(f),k=x(X),A=n(X,"DIV",{class:!0});var De=m(A);N=n(De,"LABEL",{class:!0,"data-svelte-h":!0}),V(N)!=="svelte-10s19df"&&(N.textContent=$),Y=x(De),L=n(De,"SELECT",{class:!0});var Ge=m(L);S=n(Ge,"OPTION",{"data-svelte-h":!0}),V(S)!=="svelte-1q1mryf"&&(S.textContent=ae);for(let Qe=0;Qe<z.length;Qe+=1)z[Qe].l(Ge);Ge.forEach(f),De.forEach(f),re=x(X),Z=n(X,"DIV",{class:!0});var Ne=m(Z);F=n(Ne,"LABEL",{class:!0,"data-svelte-h":!0}),V(F)!=="svelte-1f8k0f4"&&(F.textContent=U),M=x(Ne),i=n(Ne,"INPUT",{type:!0,placeholder:!0,class:!0}),Ne.forEach(f),E=x(X),y=n(X,"DIV",{class:!0});var Le=m(y);le=n(Le,"LABEL",{class:!0,"data-svelte-h":!0}),V(le)!=="svelte-wakp76"&&(le.textContent=xe),Ce=x(Le),G=n(Le,"INPUT",{type:!0,placeholder:!0,class:!0}),Le.forEach(f),je=x(X),ee=n(X,"DIV",{class:!0});var Oe=m(ee);se=n(Oe,"LABEL",{class:!0,"data-svelte-h":!0}),V(se)!=="svelte-xjnqy4"&&(se.textContent=Xe),we=x(Oe),J=n(Oe,"SELECT",{class:!0});var Ae=m(J);ne=n(Ae,"OPTION",{"data-svelte-h":!0}),V(ne)!=="svelte-gdgnu7"&&(ne.textContent=$e),oe=n(Ae,"OPTION",{"data-svelte-h":!0}),V(oe)!=="svelte-16mysuc"&&(oe.textContent=et),ie=n(Ae,"OPTION",{"data-svelte-h":!0}),V(ie)!=="svelte-ckumwf"&&(ie.textContent=tt),Ae.forEach(f),Oe.forEach(f),Ue=x(X),he=n(X,"DIV",{class:!0});var Ve=m(he);ge=n(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),V(ge)!=="svelte-vubbsa"&&(ge.textContent=lt),Me=x(Ve),W=n(Ve,"SELECT",{class:!0});var Je=m(W);ce=n(Je,"OPTION",{"data-svelte-h":!0}),V(ce)!=="svelte-lx4arh"&&(ce.textContent=st),ue=n(Je,"OPTION",{"data-svelte-h":!0}),V(ue)!=="svelte-10ubmet"&&(ue.textContent=at),Je.forEach(f),Ve.forEach(f),X.forEach(f),qe=x(ye),_e=n(ye,"DIV",{class:!0});var Be=m(_e);ve=n(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),V(ve)!=="svelte-rt34nd"&&(ve.textContent=rt),Fe=x(Be),pe=n(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),V(pe)!=="svelte-lch9zx"&&(pe.textContent=nt),Be.forEach(f),ye.forEach(f),He=x(D),me=n(D,"DIV",{class:!0});var ct=m(me);te.l(ct),ct.forEach(f),Ke=x(D),q&&q.l(D),D.forEach(f),this.h()},h(){r(h,"class","svelte-1j4ix5"),r(v,"class","subtitle svelte-1j4ix5"),r(t,"class","page-header svelte-1j4ix5"),r(T,"class","svelte-1j4ix5"),r(j,"type","text"),r(j,"placeholder","Názov, EAN, značka..."),r(j,"class","svelte-1j4ix5"),r(P,"class","filter-group svelte-1j4ix5"),r(N,"class","svelte-1j4ix5"),S.__value="",H(S,S.__value),r(L,"class","svelte-1j4ix5"),s[6]===void 0&&Ye(()=>s[17].call(L)),r(A,"class","filter-group svelte-1j4ix5"),r(F,"class","svelte-1j4ix5"),r(i,"type","number"),r(i,"placeholder","0"),r(i,"class","svelte-1j4ix5"),r(Z,"class","filter-group filter-group-small svelte-1j4ix5"),r(le,"class","svelte-1j4ix5"),r(G,"type","number"),r(G,"placeholder","999"),r(G,"class","svelte-1j4ix5"),r(y,"class","filter-group filter-group-small svelte-1j4ix5"),r(se,"class","svelte-1j4ix5"),ne.__value="created_at",H(ne,ne.__value),oe.__value="title",H(oe,oe.__value),ie.__value="price_min",H(ie,ie.__value),r(J,"class","svelte-1j4ix5"),s[9]===void 0&&Ye(()=>s[20].call(J)),r(ee,"class","filter-group svelte-1j4ix5"),r(ge,"class","svelte-1j4ix5"),ce.__value="desc",H(ce,ce.__value),ue.__value="asc",H(ue,ue.__value),r(W,"class","svelte-1j4ix5"),s[10]===void 0&&Ye(()=>s[21].call(W)),r(he,"class","filter-group filter-group-small svelte-1j4ix5"),r(p,"class","filters-row svelte-1j4ix5"),r(ve,"class","btn btn-primary svelte-1j4ix5"),r(pe,"class","btn svelte-1j4ix5"),r(_e,"class","filters-actions svelte-1j4ix5"),r(b,"class","filters-card svelte-1j4ix5"),r(me,"class","table-card svelte-1j4ix5"),r(e,"class","products-page svelte-1j4ix5")},m(g,D){fe(g,e,D),l(e,t),l(t,a),l(a,h),l(a,d),l(a,v),l(v,_),l(v,C),l(e,c),l(e,b),l(b,p),l(p,P),l(P,T),l(P,w),l(P,j),H(j,s[5]),l(p,k),l(p,A),l(A,N),l(A,Y),l(A,L),l(L,S);for(let O=0;O<z.length;O+=1)z[O]&&z[O].m(L,null);ke(L,s[6],!0),l(p,re),l(p,Z),l(Z,F),l(Z,M),l(Z,i),H(i,s[7]),l(p,E),l(p,y),l(y,le),l(y,Ce),l(y,G),H(G,s[8]),l(p,je),l(p,ee),l(ee,se),l(ee,we),l(ee,J),l(J,ne),l(J,oe),l(J,ie),ke(J,s[9],!0),l(p,Ue),l(p,he),l(he,ge),l(he,Me),l(he,W),l(W,ce),l(W,ue),ke(W,s[10],!0),l(b,qe),l(b,_e),l(_e,ve),l(_e,Fe),l(_e,pe),l(e,He),l(e,me),te.m(me,null),l(e,Ke),q&&q.m(e,null),Re||(ot=[Q(j,"input",s[15]),Q(j,"keyup",s[16]),Q(L,"change",s[17]),Q(i,"input",s[18]),Q(G,"input",s[19]),Q(J,"change",s[20]),Q(J,"change",s[12]),Q(W,"change",s[21]),Q(W,"change",s[12]),Q(ve,"click",s[12]),Q(pe,"click",s[13])],Re=!0)},p(g,D){if(D[0]&1&&de(_,g[0]),D[0]&32&&j.value!==g[5]&&H(j,g[5]),D[0]&4){Ee=ze(g[2]);let O;for(O=0;O<Ee.length;O+=1){const be=ft(g,Ee,O);z[O]?z[O].p(be,D):(z[O]=ht(be),z[O].c(),z[O].m(L,null))}for(;O<z.length;O+=1)z[O].d(1);z.length=Ee.length}D[0]&68&&ke(L,g[6]),D[0]&128&&Se(i.value)!==g[7]&&H(i,g[7]),D[0]&256&&Se(G.value)!==g[8]&&H(G,g[8]),D[0]&512&&ke(J,g[9]),D[0]&1024&&ke(W,g[10]),Te===(Te=it(g))&&te?te.p(g,D):(te.d(1),te=Te(g),te&&(te.c(),te.m(me,null))),g[11]>1?q?q.p(g,D):(q=vt(g),q.c(),q.m(e,null)):q&&(q.d(1),q=null)},i:Ie,o:Ie,d(g){g&&f(e),mt(z,g),te.d(),q&&q.d(),Re=!1,bt(ot)}}}let pt=20;function gt(s){return s?new Intl.NumberFormat("sk-SK",{style:"currency",currency:"EUR"}).format(s):"-"}function Lt(s,e,t){let a;const h=xt;let u=[],d=[],v=!0,_=0,C=1,c="",b="",p="",P="",T="created_at",B="desc";jt(()=>{w(),j()});async function w(){var M;t(3,v=!0);try{const i=new URLSearchParams;i.set("page",C.toString()),i.set("limit",pt.toString()),c&&i.set("search",c),b&&i.set("category",b),p&&i.set("price_min",p),P&&i.set("price_max",P),i.set("sort",T),i.set("order",B);const y=await(await fetch(h+"/products?"+i.toString())).json();console.log("Products API response:",y),y.success&&y.data?y.data.items?(t(1,u=y.data.items),t(0,_=y.data.total||u.length)):Array.isArray(y.data)?(t(1,u=y.data),t(0,_=((M=y.pagination)==null?void 0:M.total)||u.length)):(t(1,u=[]),t(0,_=0)):(t(1,u=[]),t(0,_=0)),console.log("Loaded products:",u.length)}catch(i){console.error("Error:",i),t(1,u=[])}t(3,v=!1)}async function j(){try{const i=await(await fetch(h+"/categories")).json();console.log("Categories response:",i),i.success&&i.data?i.data.items?t(2,d=i.data.items):Array.isArray(i.data)?t(2,d=i.data):t(2,d=[]):t(2,d=[])}catch(M){console.error("Categories error:",M),t(2,d=[])}}function k(){t(4,C=1),w()}function A(){t(5,c=""),t(6,b=""),t(7,p=""),t(8,P=""),t(9,T="created_at"),t(10,B="desc"),t(4,C=1),w()}function N(M){t(4,C=M),w()}function $(){c=this.value,t(5,c)}const Y=M=>M.key==="Enter"&&k();function L(){b=We(this),t(6,b),t(2,d)}function S(){p=Se(this.value),t(7,p)}function ae(){P=Se(this.value),t(8,P)}function re(){T=We(this),t(9,T)}function Z(){B=We(this),t(10,B)}const F=()=>N(C-1),U=()=>N(C+1);return s.$$.update=()=>{s.$$.dirty[0]&1&&t(11,a=Math.ceil(_/pt))},[_,u,d,v,C,c,b,p,P,T,B,a,k,A,N,$,Y,L,S,ae,re,Z,F,U]}class St extends Et{constructor(e){super(),kt(this,e,Lt,Nt,Ct,{},null,[-1,-1])}}export{St as component};
