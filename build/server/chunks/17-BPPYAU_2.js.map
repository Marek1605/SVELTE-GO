{"version":3,"file":"17-BPPYAU_2.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/kategoria/_slug_/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/17.js"],"sourcesContent":["import { a as api } from \"../../../../chunks/api.js\";\nimport \"@sveltejs/kit\";\nasync function load({ params, url }) {\n  const { slug } = params;\n  const page = parseInt(url.searchParams.get(\"page\") || \"1\");\n  const limit = parseInt(url.searchParams.get(\"limit\") || \"24\");\n  const sort = url.searchParams.get(\"sort\") || \"newest\";\n  const minPrice = url.searchParams.get(\"min_price\") || \"\";\n  const maxPrice = url.searchParams.get(\"max_price\") || \"\";\n  const brand = url.searchParams.get(\"brand\") || \"\";\n  try {\n    const queryParams = new URLSearchParams();\n    queryParams.set(\"page\", page.toString());\n    queryParams.set(\"limit\", limit.toString());\n    queryParams.set(\"sort\", sort);\n    if (minPrice) queryParams.set(\"min_price\", minPrice);\n    if (maxPrice) queryParams.set(\"max_price\", maxPrice);\n    if (brand) queryParams.set(\"brand\", brand);\n    let categoryData;\n    try {\n      categoryData = await api.getCategory(slug, queryParams.toString());\n    } catch (fetchErr) {\n      console.error(\"API fetch error for category:\", slug, fetchErr);\n      return {\n        category: { name: slug, slug },\n        ancestors: [],\n        children: [],\n        products: [],\n        total: 0,\n        page,\n        limit,\n        total_pages: 1,\n        attributes: [],\n        brands: [],\n        priceRange: { min: 0, max: 1e3 },\n        error: \"Nepodarilo sa načítať kategóriu\"\n      };\n    }\n    if (!categoryData) {\n      return {\n        category: { name: slug, slug },\n        ancestors: [],\n        children: [],\n        products: [],\n        total: 0,\n        page,\n        limit,\n        total_pages: 1,\n        attributes: [],\n        brands: [],\n        priceRange: { min: 0, max: 1e3 },\n        error: \"Kategória nenájdená\"\n      };\n    }\n    if (categoryData.success === false) {\n      return {\n        category: { name: slug, slug },\n        ancestors: [],\n        children: [],\n        products: [],\n        total: 0,\n        page,\n        limit,\n        total_pages: 1,\n        attributes: [],\n        brands: [],\n        priceRange: { min: 0, max: 1e3 },\n        error: categoryData.error || \"Kategória nenájdená\"\n      };\n    }\n    const data = categoryData.data || categoryData;\n    return {\n      category: data.category || { name: slug, slug },\n      ancestors: data.ancestors || [],\n      children: data.children || [],\n      products: data.products?.items || data.products || [],\n      total: data.products?.total || data.total || 0,\n      page: data.products?.page || page,\n      limit: data.products?.limit || limit,\n      total_pages: data.products?.pages || data.total_pages || 1,\n      attributes: data.filters?.attributes || data.attributes || [],\n      brands: data.filters?.brands || data.brands || [],\n      priceRange: data.filters?.price_range || data.priceRange || { min: 0, max: 1e3 }\n    };\n  } catch (err) {\n    console.error(\"Error loading category:\", slug, err);\n    return {\n      category: { name: slug, slug },\n      ancestors: [],\n      children: [],\n      products: [],\n      total: 0,\n      page,\n      limit,\n      total_pages: 1,\n      attributes: [],\n      brands: [],\n      priceRange: { min: 0, max: 1e3 },\n      error: \"Chyba pri načítaní kategórie\"\n    };\n  }\n}\nexport {\n  load\n};\n","import * as server from '../entries/pages/kategoria/_slug_/_page.server.ts.js';\n\nexport const index = 17;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/kategoria/_slug_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/kategoria/[slug]/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/17.BVCl0E9-.js\",\"_app/immutable/chunks/DegHwCHz.js\",\"_app/immutable/chunks/D0QH3NT1.js\",\"_app/immutable/chunks/BS8_HMP2.js\",\"_app/immutable/chunks/DwtPztOd.js\",\"_app/immutable/chunks/D7CC4F_9.js\",\"_app/immutable/chunks/BBG6Qqdj.js\",\"_app/immutable/chunks/DESAkHRw.js\",\"_app/immutable/chunks/CaMOcnVO.js\"];\nexport const stylesheets = [\"_app/immutable/assets/17.Bwf9yh3X.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}