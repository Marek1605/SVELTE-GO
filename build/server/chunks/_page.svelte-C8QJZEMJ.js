import { c as create_ssr_component, f as escape, d as add_attribute } from './ssr-gQyPUVaC.js';

const css = {
  code: ".page.svelte-1jmz48c.svelte-1jmz48c{max-width:1200px;margin:0 auto;padding:16px}.header.svelte-1jmz48c.svelte-1jmz48c{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}h1.svelte-1jmz48c.svelte-1jmz48c{font-size:22px;margin:0;color:#1e293b}.sub.svelte-1jmz48c.svelte-1jmz48c{color:#64748b;font-size:13px;margin:2px 0 0}.actions.svelte-1jmz48c.svelte-1jmz48c{display:flex;gap:8px}.toolbar.svelte-1jmz48c.svelte-1jmz48c{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:12px;flex-wrap:wrap}.left.svelte-1jmz48c.svelte-1jmz48c,.right.svelte-1jmz48c.svelte-1jmz48c{display:flex;gap:6px;align-items:center;flex-wrap:wrap}.search.svelte-1jmz48c.svelte-1jmz48c{padding:6px 10px;border:1px solid #d1d5db;border-radius:6px;font-size:13px;width:180px}select.svelte-1jmz48c.svelte-1jmz48c{padding:6px 10px;border:1px solid #d1d5db;border-radius:6px;font-size:12px}.sel-count.svelte-1jmz48c.svelte-1jmz48c{font-size:12px;color:#475569;font-weight:500}.btn.svelte-1jmz48c.svelte-1jmz48c{padding:7px 14px;border:none;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;background:#3b82f6;color:#fff}.btn.svelte-1jmz48c.svelte-1jmz48c:hover{opacity:.9}.btn.svelte-1jmz48c.svelte-1jmz48c:disabled{opacity:.4;cursor:not-allowed}.btn.sm.svelte-1jmz48c.svelte-1jmz48c{padding:5px 10px;font-size:12px}.btn.xs.svelte-1jmz48c.svelte-1jmz48c{padding:4px 8px;font-size:11px;background:#f1f5f9;color:#475569;border:1px solid #d1d5db}.btn.red.svelte-1jmz48c.svelte-1jmz48c{background:#ef4444}.btn.outline.svelte-1jmz48c.svelte-1jmz48c{background:#fff;color:#ef4444;border:1px solid #ef4444}.btn.primary.svelte-1jmz48c.svelte-1jmz48c{background:#3b82f6;color:#fff}.center.svelte-1jmz48c.svelte-1jmz48c{text-align:center;padding:40px;color:#64748b}.table-wrap.svelte-1jmz48c.svelte-1jmz48c{background:#fff;border:1px solid #e2e8f0;border-radius:8px;overflow:auto;max-height:70vh}table.svelte-1jmz48c.svelte-1jmz48c{width:100%;border-collapse:collapse;font-size:13px}th.svelte-1jmz48c.svelte-1jmz48c{text-align:left;padding:6px 8px;background:#f8fafc;color:#64748b;font-size:10px;font-weight:600;text-transform:uppercase;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:1}td.svelte-1jmz48c.svelte-1jmz48c{padding:4px 8px;border-bottom:1px solid #f1f5f9}tr.svelte-1jmz48c.svelte-1jmz48c:hover{background:#f8fafc}tr.selected.svelte-1jmz48c.svelte-1jmz48c{background:#eff6ff}tr.empty-cat.svelte-1jmz48c.svelte-1jmz48c{opacity:.6}.w28.svelte-1jmz48c.svelte-1jmz48c{width:28px}.w32.svelte-1jmz48c.svelte-1jmz48c{width:32px}.w80.svelte-1jmz48c.svelte-1jmz48c{width:80px;text-align:center}.w100.svelte-1jmz48c.svelte-1jmz48c{width:100px}.thumb.svelte-1jmz48c img.svelte-1jmz48c{width:24px;height:24px;object-fit:cover;border-radius:3px;display:block}.no-img.svelte-1jmz48c.svelte-1jmz48c{font-size:14px;opacity:.3}.name-cell.svelte-1jmz48c.svelte-1jmz48c{display:flex;align-items:center;gap:4px}.expand-btn.svelte-1jmz48c.svelte-1jmz48c{background:none;border:none;cursor:pointer;font-size:10px;color:#94a3b8;padding:2px 4px;min-width:16px}.expand-btn.svelte-1jmz48c.svelte-1jmz48c:hover{color:#3b82f6}.cat-name.svelte-1jmz48c.svelte-1jmz48c{font-weight:500;color:#1e293b;font-size:13px}.cat-path.svelte-1jmz48c.svelte-1jmz48c{font-size:10px;color:#94a3b8;margin-left:6px}.count.svelte-1jmz48c.svelte-1jmz48c{text-align:center;font-weight:600;color:#475569;font-size:12px}.act.svelte-1jmz48c.svelte-1jmz48c{display:flex;gap:2px}.ico-btn.svelte-1jmz48c.svelte-1jmz48c{background:none;border:none;cursor:pointer;font-size:13px;padding:2px 4px;border-radius:4px;opacity:.6}.ico-btn.svelte-1jmz48c.svelte-1jmz48c:hover{opacity:1;background:#f1f5f9}.ico-btn.red.svelte-1jmz48c.svelte-1jmz48c:hover{background:#fef2f2}.ico-btn.svelte-1jmz48c.svelte-1jmz48c:disabled{opacity:.3;cursor:not-allowed}.footer.svelte-1jmz48c.svelte-1jmz48c{text-align:center;padding:8px;font-size:12px;color:#94a3b8}.modal-bg.svelte-1jmz48c.svelte-1jmz48c{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:100}.modal.svelte-1jmz48c.svelte-1jmz48c{background:#fff;border-radius:12px;width:440px;max-width:95vw;box-shadow:0 20px 60px rgba(0,0,0,.2)}.modal-h.svelte-1jmz48c.svelte-1jmz48c{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e2e8f0}.modal-h.svelte-1jmz48c h3.svelte-1jmz48c{margin:0;font-size:16px}.modal-h.svelte-1jmz48c button.svelte-1jmz48c{background:none;border:none;font-size:20px;cursor:pointer;color:#94a3b8}.modal-b.svelte-1jmz48c.svelte-1jmz48c{padding:20px;display:flex;flex-direction:column;gap:12px}.modal-b.svelte-1jmz48c label.svelte-1jmz48c{display:flex;flex-direction:column;gap:4px;font-size:13px;font-weight:500;color:#374151}.modal-b.svelte-1jmz48c input.svelte-1jmz48c{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:13px}.preview-img.svelte-1jmz48c.svelte-1jmz48c{max-width:100px;max-height:60px;border-radius:4px;margin-top:4px}.modal-f.svelte-1jmz48c.svelte-1jmz48c{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid #e2e8f0}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n    import { onMount } from 'svelte';\\n    const API = 'http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1';\\n\\n    let categories = [];\\n    let loading = true;\\n    let searchQuery = '';\\n    let filterMode = ''; // '', 'no_image', 'empty'\\n    let selectedIds = new Set();\\n    let selectAll = false;\\n    let expandedIds = new Set();\\n    let showEditModal = false;\\n    let editCat = null;\\n    let editImageUrl = '';\\n    let savingId = null;\\n    let regeneratingId = null;\\n    let regeneratingAll = false;\\n    let deleting = false;\\n    let importingTranslations = false;\\n    let fileInput;\\n\\n    onMount(loadCategories);\\n\\n    async function loadCategories() {\\n        loading = true;\\n        try {\\n            const res = await fetch(\`\${API}/admin/categories\`);\\n            const data = await res.json();\\n            if (data.success && data.data) categories = Array.isArray(data.data) ? data.data : (data.data?.data || []);\\n            else if (Array.isArray(data)) categories = data;\\n            else categories = [];\\n        } catch (e) { categories = []; }\\n        loading = false;\\n    }\\n\\n    function flatten(cats, level = 0, parentPath = '') {\\n        let r = [];\\n        cats.forEach(c => {\\n            const path = parentPath ? \`\${parentPath} ‚Ä∫ \${c.name}\` : c.name;\\n            r.push({ ...c, level, path, hasChildren: !!(c.children?.length) });\\n            if (c.children?.length && expandedIds.has(c.id)) {\\n                r = r.concat(flatten(c.children, level + 1, path));\\n            }\\n        });\\n        return r;\\n    }\\n\\n    function flattenAll(cats, level = 0, parentPath = '') {\\n        let r = [];\\n        cats.forEach(c => {\\n            const path = parentPath ? \`\${parentPath} ‚Ä∫ \${c.name}\` : c.name;\\n            r.push({ ...c, level, path, hasChildren: !!(c.children?.length) });\\n            if (c.children?.length) r = r.concat(flattenAll(c.children, level + 1, path));\\n        });\\n        return r;\\n    }\\n\\n    $: allFlat = flattenAll(categories);\\n    $: treeFlat = (expandedIds, flatten(categories));\\n\\n    $: filtered = (() => {\\n        let list = searchQuery ? allFlat : treeFlat;\\n        if (searchQuery) list = list.filter(c => c.name.toLowerCase().includes(searchQuery.toLowerCase()) || c.path.toLowerCase().includes(searchQuery.toLowerCase()));\\n        if (filterMode === 'no_image') list = list.filter(c => !c.image_url);\\n        if (filterMode === 'empty') list = list.filter(c => (c.product_count || 0) === 0);\\n        return list;\\n    })();\\n\\n    $: stats = {\\n        total: allFlat.length,\\n        withImage: allFlat.filter(c => c.image_url).length,\\n        noImage: allFlat.filter(c => !c.image_url).length,\\n        empty: allFlat.filter(c => (c.product_count || 0) === 0).length\\n    };\\n\\n    function toggle(id) {\\n        if (expandedIds.has(id)) expandedIds.delete(id); else expandedIds.add(id);\\n        expandedIds = expandedIds;\\n    }\\n\\n    function expandAll() { allFlat.filter(c => c.hasChildren).forEach(c => expandedIds.add(c.id)); expandedIds = expandedIds; }\\n    function collapseAll() { expandedIds = new Set(); }\\n\\n    function toggleSelect(id) {\\n        if (selectedIds.has(id)) selectedIds.delete(id); else selectedIds.add(id);\\n        selectedIds = selectedIds;\\n    }\\n    function toggleSelectAll() {\\n        if (selectAll) { selectedIds = new Set(); selectAll = false; }\\n        else { selectedIds = new Set(filtered.map(c => c.id)); selectAll = true; }\\n    }\\n\\n    async function bulkDelete() {\\n        if (selectedIds.size === 0) return;\\n        if (!confirm(\`Zmaza≈• \${selectedIds.size} kateg√≥ri√≠? Produkty zostan√∫ bez kateg√≥rie.\`)) return;\\n        deleting = true;\\n        for (const id of selectedIds) {\\n            await fetch(\`\${API}/admin/categories/\${id}\`, { method: 'DELETE' });\\n        }\\n        selectedIds = new Set(); selectAll = false; deleting = false;\\n        await loadCategories();\\n    }\\n\\n    async function deleteAll() {\\n        if (!confirm(\`Zmaza≈• V≈†ETK√ùCH \${stats.total} kateg√≥ri√≠?\\\\n\\\\nT√°to akcia je nevratn√°!\`)) return;\\n        deleting = true;\\n        await fetch(\`\${API}/admin/categories/all\`, { method: 'DELETE' });\\n        deleting = false;\\n        await loadCategories();\\n    }\\n\\n    function openEdit(cat) { editCat = { ...cat }; editImageUrl = cat.image_url || ''; showEditModal = true; }\\n\\n    async function saveEdit() {\\n        if (!editCat) return;\\n        savingId = editCat.id;\\n        await fetch(\`\${API}/admin/categories/\${editCat.id}\`, {\\n            method: 'PUT', headers: { 'Content-Type': 'application/json' },\\n            body: JSON.stringify({ name: editCat.name, image_url: editImageUrl, slug: editCat.slug })\\n        });\\n        savingId = null; showEditModal = false;\\n        await loadCategories();\\n    }\\n\\n    async function regenImage(id) {\\n        regeneratingId = id;\\n        await fetch(\`\${API}/admin/categories/\${id}/regenerate-image\`, { method: 'POST' });\\n        regeneratingId = null;\\n        await loadCategories();\\n    }\\n\\n    async function regenAll() {\\n        if (!confirm('Pregenerova≈• obr√°zky pre v≈°etky kateg√≥rie?')) return;\\n        regeneratingAll = true;\\n        await fetch(\`\${API}/admin/categories/regenerate-all-images\`, { method: 'POST' });\\n        regeneratingAll = false;\\n        await loadCategories();\\n    }\\n\\n    async function deleteCat(id, name) {\\n        if (!confirm(\`Zmaza≈• \\"\${name}\\"?\`)) return;\\n        await fetch(\`\${API}/admin/categories/\${id}\`, { method: 'DELETE' });\\n        await loadCategories();\\n    }\\n    function exportCSV() {\\n        window.open(API + \\"/admin/categories/export\\", \\"_blank\\");\\n    }\\n    function exportExcel() {\\n        window.open(API + \\"/admin/categories/export-excel\\", \\"_blank\\");\\n    }\\n    async function importTranslations(event) {\\n        const file = event.target.files?.[0];\\n        if (!file) return;\\n        importingTranslations = true;\\n        const formData = new FormData();\\n        formData.append(\\"file\\", file);\\n        try {\\n            const res = await fetch(API + \\"/admin/categories/import-translations\\", { method: \\"POST\\", body: formData });\\n            const data = await res.json();\\n            alert(data.message || \\"Hotovo\\");\\n            await loadCategories();\\n        } catch (e) { alert(\\"Chyba: \\" + e.message); }\\n        importingTranslations = false;\\n        if (fileInput) fileInput.value = \\"\\";\\n    }\\n\\n<\/script>\\n\\n<svelte:head><title>Kateg√≥rie | Admin</title></svelte:head>\\n\\n<div class=\\"page\\">\\n    <div class=\\"header\\">\\n        <div>\\n            <h1>üìÅ Kateg√≥rie</h1>\\n            <p class=\\"sub\\">{stats.total} kateg√≥ri√≠ ¬∑ {stats.withImage} s obr√°zkom ¬∑ {stats.noImage} bez ¬∑ {stats.empty} pr√°zdnych</p>\\n        </div>\\n        <div class=\\"actions\\">\\n            <button class=\\"btn sm\\" on:click={exportCSV}>üì• CSV</button>\\n            <button class=\\"btn sm\\" on:click={exportExcel}>üìä Excel</button>\\n            <label class=\\"btn sm\\" style=\\"cursor:pointer\\">\\n                üì§ Import prekladov\\n                <input type=\\"file\\" accept=\\".csv,.xlsx\\" bind:this={fileInput} on:change={importTranslations} style=\\"display:none\\">\\n            </label>\\n            <button class=\\"btn sm\\" on:click={regenAll} disabled={regeneratingAll}>{regeneratingAll ? '‚è≥...' : 'üñºÔ∏è Pregenerova≈•'}</button>\\n            <button class=\\"btn sm red outline\\" on:click={deleteAll} disabled={deleting}>üóëÔ∏è Zmaza≈• v≈°etky</button>\\n        </div>\\n    </div>\\n\\n    <div class=\\"toolbar\\">\\n        <div class=\\"left\\">\\n            <input type=\\"text\\" placeholder=\\"Hƒæada≈•...\\" bind:value={searchQuery} class=\\"search\\">\\n            <select bind:value={filterMode}>\\n                <option value=\\"\\">V≈°etky</option>\\n                <option value=\\"no_image\\">‚ùå Bez obr√°zka ({stats.noImage})</option>\\n                <option value=\\"empty\\">üì≠ Pr√°zdne ({stats.empty})</option>\\n            </select>\\n            <button class=\\"btn xs\\" on:click={expandAll}>‚ûï Rozbali≈•</button>\\n            <button class=\\"btn xs\\" on:click={collapseAll}>‚ûñ Zbali≈•</button>\\n        </div>\\n        <div class=\\"right\\">\\n            {#if selectedIds.size > 0}\\n                <span class=\\"sel-count\\">{selectedIds.size} vybran√Ωch</span>\\n                <button class=\\"btn sm red\\" on:click={bulkDelete} disabled={deleting}>{deleting ? '‚è≥' : 'üóëÔ∏è'} Zmaza≈•</button>\\n            {/if}\\n        </div>\\n    </div>\\n\\n    {#if loading}\\n        <div class=\\"center\\">Naƒç√≠tavam...</div>\\n    {:else}\\n        <div class=\\"table-wrap\\">\\n            <table>\\n                <thead><tr>\\n                    <th class=\\"w28\\"><input type=\\"checkbox\\" checked={selectAll} on:change={toggleSelectAll}></th>\\n                    <th class=\\"w32\\"></th>\\n                    <th>N√ÅZOV</th>\\n                    <th class=\\"w80\\">PRODUKTOV</th>\\n                    <th class=\\"w100\\">AKCIE</th>\\n                </tr></thead>\\n                <tbody>\\n                    {#each filtered as cat}\\n                        <tr class:selected={selectedIds.has(cat.id)} class:empty-cat={!cat.product_count}>\\n                            <td><input type=\\"checkbox\\" checked={selectedIds.has(cat.id)} on:change={() => toggleSelect(cat.id)}></td>\\n                            <td class=\\"thumb\\">\\n                                {#if cat.image_url}\\n                                    <img src={cat.image_url} alt=\\"\\" width=\\"24\\" height=\\"24\\">\\n                                {:else}\\n                                    <span class=\\"no-img\\">üìÅ</span>\\n                                {/if}\\n                            </td>\\n                            <td>\\n                                <div class=\\"name-cell\\" style=\\"padding-left:{cat.level * 20}px\\">\\n                                    {#if cat.hasChildren && !searchQuery}\\n                                        <button class=\\"expand-btn\\" on:click={() => toggle(cat.id)}>\\n                                            {expandedIds.has(cat.id) ? '‚ñº' : '‚ñ∂'}\\n                                        </button>\\n                                    {/if}\\n                                    <span class=\\"cat-name\\">{cat.name}</span>\\n                                    {#if searchQuery && cat.level > 0}\\n                                        <span class=\\"cat-path\\">{cat.path}</span>\\n                                    {/if}\\n                                </div>\\n                            </td>\\n                            <td class=\\"count\\">{cat.product_count || 0}</td>\\n                            <td class=\\"act\\">\\n                                <button class=\\"ico-btn\\" on:click={() => regenImage(cat.id)} title=\\"Pregenerova≈• obr√°zok\\" disabled={regeneratingId === cat.id}>\\n                                    {regeneratingId === cat.id ? '‚è≥' : 'üñºÔ∏è'}\\n                                </button>\\n                                <button class=\\"ico-btn\\" on:click={() => openEdit(cat)} title=\\"Upravi≈•\\">‚úèÔ∏è</button>\\n                                <button class=\\"ico-btn red\\" on:click={() => deleteCat(cat.id, cat.name)} title=\\"Zmaza≈•\\">üóëÔ∏è</button>\\n                            </td>\\n                        </tr>\\n                    {/each}\\n                </tbody>\\n            </table>\\n        </div>\\n        <div class=\\"footer\\">{filtered.length} z {stats.total} kateg√≥ri√≠</div>\\n    {/if}\\n</div>\\n\\n{#if showEditModal && editCat}\\n<div class=\\"modal-bg\\" on:click={() => showEditModal = false}>\\n    <div class=\\"modal\\" on:click|stopPropagation>\\n        <div class=\\"modal-h\\"><h3>‚úèÔ∏è Upravi≈•: {editCat.name}</h3><button on:click={() => showEditModal = false}>√ó</button></div>\\n        <div class=\\"modal-b\\">\\n            <label>N√°zov<input type=\\"text\\" bind:value={editCat.name}></label>\\n            <label>Slug<input type=\\"text\\" bind:value={editCat.slug}></label>\\n            <label>Obr√°zok URL<input type=\\"text\\" bind:value={editImageUrl} placeholder=\\"https://...\\"></label>\\n            {#if editImageUrl}<img src={editImageUrl} alt=\\"\\" class=\\"preview-img\\">{/if}\\n        </div>\\n        <div class=\\"modal-f\\">\\n            <button class=\\"btn\\" on:click={() => showEditModal = false}>Zru≈°i≈•</button>\\n            <button class=\\"btn primary\\" on:click={saveEdit} disabled={savingId}>{savingId ? 'Uklad√°m...' : 'Ulo≈æi≈•'}</button>\\n        </div>\\n    </div>\\n</div>\\n{/if}\\n\\n<style>\\n    .page{max-width:1200px;margin:0 auto;padding:16px}\\n    .header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}\\n    h1{font-size:22px;margin:0;color:#1e293b}\\n    .sub{color:#64748b;font-size:13px;margin:2px 0 0}\\n    .actions{display:flex;gap:8px}\\n    .toolbar{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:12px;flex-wrap:wrap}\\n    .left,.right{display:flex;gap:6px;align-items:center;flex-wrap:wrap}\\n    .search{padding:6px 10px;border:1px solid #d1d5db;border-radius:6px;font-size:13px;width:180px}\\n    select{padding:6px 10px;border:1px solid #d1d5db;border-radius:6px;font-size:12px}\\n    .sel-count{font-size:12px;color:#475569;font-weight:500}\\n    .btn{padding:7px 14px;border:none;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;background:#3b82f6;color:#fff}\\n    .btn:hover{opacity:.9}.btn:disabled{opacity:.4;cursor:not-allowed}\\n    .btn.sm{padding:5px 10px;font-size:12px}.btn.xs{padding:4px 8px;font-size:11px;background:#f1f5f9;color:#475569;border:1px solid #d1d5db}\\n    .btn.red{background:#ef4444}.btn.outline{background:#fff;color:#ef4444;border:1px solid #ef4444}\\n    .btn.primary{background:#3b82f6;color:#fff}\\n    .center{text-align:center;padding:40px;color:#64748b}\\n    .table-wrap{background:#fff;border:1px solid #e2e8f0;border-radius:8px;overflow:auto;max-height:70vh}\\n    table{width:100%;border-collapse:collapse;font-size:13px}\\n    th{text-align:left;padding:6px 8px;background:#f8fafc;color:#64748b;font-size:10px;font-weight:600;text-transform:uppercase;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:1}\\n    td{padding:4px 8px;border-bottom:1px solid #f1f5f9}\\n    tr:hover{background:#f8fafc}tr.selected{background:#eff6ff}\\n    tr.empty-cat{opacity:.6}\\n    .w28{width:28px}.w32{width:32px}.w80{width:80px;text-align:center}.w100{width:100px}\\n    .thumb img{width:24px;height:24px;object-fit:cover;border-radius:3px;display:block}\\n    .no-img{font-size:14px;opacity:.3}\\n    .name-cell{display:flex;align-items:center;gap:4px}\\n    .expand-btn{background:none;border:none;cursor:pointer;font-size:10px;color:#94a3b8;padding:2px 4px;min-width:16px}\\n    .expand-btn:hover{color:#3b82f6}\\n    .cat-name{font-weight:500;color:#1e293b;font-size:13px}\\n    .cat-path{font-size:10px;color:#94a3b8;margin-left:6px}\\n    .count{text-align:center;font-weight:600;color:#475569;font-size:12px}\\n    .act{display:flex;gap:2px}\\n    .ico-btn{background:none;border:none;cursor:pointer;font-size:13px;padding:2px 4px;border-radius:4px;opacity:.6}\\n    .ico-btn:hover{opacity:1;background:#f1f5f9}.ico-btn.red:hover{background:#fef2f2}\\n    .ico-btn:disabled{opacity:.3;cursor:not-allowed}\\n    .footer{text-align:center;padding:8px;font-size:12px;color:#94a3b8}\\n    .modal-bg{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:100}\\n    .modal{background:#fff;border-radius:12px;width:440px;max-width:95vw;box-shadow:0 20px 60px rgba(0,0,0,.2)}\\n    .modal-h{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e2e8f0}\\n    .modal-h h3{margin:0;font-size:16px}.modal-h button{background:none;border:none;font-size:20px;cursor:pointer;color:#94a3b8}\\n    .modal-b{padding:20px;display:flex;flex-direction:column;gap:12px}\\n    .modal-b label{display:flex;flex-direction:column;gap:4px;font-size:13px;font-weight:500;color:#374151}\\n    .modal-b input{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:13px}\\n    .preview-img{max-width:100px;max-height:60px;border-radius:4px;margin-top:4px}\\n    .modal-f{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid #e2e8f0}\\n</style>\\n"],"names":[],"mappings":"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"}`
};
function flattenAll(cats, level = 0, parentPath = "") {
  let r = [];
  cats.forEach((c) => {
    const path = parentPath ? `${parentPath} ‚Ä∫ ${c.name}` : c.name;
    r.push({
      ...c,
      level,
      path,
      hasChildren: !!c.children?.length
    });
    if (c.children?.length) r = r.concat(flattenAll(c.children, level + 1, path));
  });
  return r;
}
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let allFlat;
  let stats;
  let categories = [];
  let searchQuery = "";
  let selectedIds = /* @__PURE__ */ new Set();
  let expandedIds = /* @__PURE__ */ new Set();
  function flatten(cats, level = 0, parentPath = "") {
    let r = [];
    cats.forEach((c) => {
      const path = parentPath ? `${parentPath} ‚Ä∫ ${c.name}` : c.name;
      r.push({
        ...c,
        level,
        path,
        hasChildren: !!c.children?.length
      });
      if (c.children?.length && expandedIds.has(c.id)) {
        r = r.concat(flatten(c.children, level + 1, path));
      }
    });
    return r;
  }
  $$result.css.add(css);
  allFlat = flattenAll(categories);
  flatten(categories);
  stats = {
    total: allFlat.length,
    withImage: allFlat.filter((c) => c.image_url).length,
    noImage: allFlat.filter((c) => !c.image_url).length,
    empty: allFlat.filter((c) => (c.product_count || 0) === 0).length
  };
  return `${$$result.head += `<!-- HEAD_svelte-1eavr2b_START -->${$$result.title = `<title>Kateg√≥rie | Admin</title>`, ""}<!-- HEAD_svelte-1eavr2b_END -->`, ""} <div class="page svelte-1jmz48c"><div class="header svelte-1jmz48c"><div><h1 class="svelte-1jmz48c" data-svelte-h="svelte-fwtya5">üìÅ Kateg√≥rie</h1> <p class="sub svelte-1jmz48c">${escape(stats.total)} kateg√≥ri√≠ ¬∑ ${escape(stats.withImage)} s obr√°zkom ¬∑ ${escape(stats.noImage)} bez ¬∑ ${escape(stats.empty)} pr√°zdnych</p></div> <div class="actions svelte-1jmz48c"><button class="btn sm svelte-1jmz48c" data-svelte-h="svelte-1ly6n5l">üì• CSV</button> <button class="btn sm svelte-1jmz48c" data-svelte-h="svelte-wr9bq4">üìä Excel</button> <label class="btn sm svelte-1jmz48c" style="cursor:pointer">üì§ Import prekladov
                <input type="file" accept=".csv,.xlsx" style="display:none"></label> <button class="btn sm svelte-1jmz48c" ${""}>${escape("üñºÔ∏è Pregenerova≈•")}</button> <button class="btn sm red outline svelte-1jmz48c" ${""}>üóëÔ∏è Zmaza≈• v≈°etky</button></div></div> <div class="toolbar svelte-1jmz48c"><div class="left svelte-1jmz48c"><input type="text" placeholder="Hƒæada≈•..." class="search svelte-1jmz48c"${add_attribute("value", searchQuery, 0)}> <select class="svelte-1jmz48c"><option value="" data-svelte-h="svelte-3vd472">V≈°etky</option><option value="no_image">‚ùå Bez obr√°zka (${escape(stats.noImage)})</option><option value="empty">üì≠ Pr√°zdne (${escape(stats.empty)})</option></select> <button class="btn xs svelte-1jmz48c" data-svelte-h="svelte-dowkb4">‚ûï Rozbali≈•</button> <button class="btn xs svelte-1jmz48c" data-svelte-h="svelte-6jgdpp">‚ûñ Zbali≈•</button></div> <div class="right svelte-1jmz48c">${selectedIds.size > 0 ? `<span class="sel-count svelte-1jmz48c">${escape(selectedIds.size)} vybran√Ωch</span> <button class="btn sm red svelte-1jmz48c" ${""}>${escape("üóëÔ∏è")} Zmaza≈•</button>` : ``}</div></div> ${`<div class="center svelte-1jmz48c" data-svelte-h="svelte-d635q4">Naƒç√≠tavam...</div>`}</div> ${``}`;
});

export { Page as default };
//# sourceMappingURL=_page.svelte-C8QJZEMJ.js.map
