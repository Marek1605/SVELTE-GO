{"version":3,"file":"api-DdJpwjrX.js","sources":["../../../.svelte-kit/adapter-node/chunks/api.js"],"sourcesContent":["const PUBLIC_API_URL = \"http://46.224.7.54:8080/api/v1\";\nconst API_URL = PUBLIC_API_URL;\nasync function fetchApi(endpoint, options = {}) {\n  const url = API_URL + endpoint;\n  try {\n    const response = await fetch(url, {\n      headers: { \"Content-Type\": \"application/json\", ...options.headers },\n      ...options\n    });\n    const data = await response.json().catch(() => null);\n    if (!response.ok) {\n      console.error(\"API Error:\", endpoint, response.status, data);\n      return {\n        success: false,\n        error: data?.error || \"API request failed: \" + response.status,\n        status: response.status\n      };\n    }\n    if (data && typeof data === \"object\" && !(\"success\" in data)) {\n      return { success: true, data };\n    }\n    return data;\n  } catch (error) {\n    console.error(\"API Fetch Error:\", endpoint, error.message);\n    return {\n      success: false,\n      error: error.message || \"Network error\",\n      status: 0\n    };\n  }\n}\nconst api = {\n  getProducts: (params = \"\") => fetchApi(\"/products\" + (params ? \"?\" + params : \"\")),\n  getProductBySlug: (slug) => fetchApi(\"/products/slug/\" + slug),\n  getProductOffers: (id) => fetchApi(\"/products/\" + id + \"/offers\"),\n  getCategories: () => fetchApi(\"/categories\"),\n  getCategoriesTree: () => fetchApi(\"/categories/tree\"),\n  getCategory: (slug, params = \"\") => fetchApi(\"/categories/\" + slug + (params ? \"?\" + params : \"\")),\n  getCategoryFull: (slug, params = \"\") => fetchApi(\"/categories/\" + slug + \"/full\" + (params ? \"?\" + params : \"\")),\n  getAttributeStats: () => fetchApi(\"/attributes/stats\"),\n  getFilterSettings: () => fetchApi(\"/filters\"),\n  saveFilterSettings: (data) => fetchApi(\"/filters\", { method: \"POST\", body: JSON.stringify(data) }),\n  search: (query) => fetchApi(\"/search?q=\" + encodeURIComponent(query)),\n  getDashboard: () => fetchApi(\"/admin/dashboard\"),\n  getFeeds: () => fetchApi(\"/admin/feeds\"),\n  createFeed: (data) => fetchApi(\"/admin/feeds\", { method: \"POST\", body: JSON.stringify(data) }),\n  startImport: (id) => fetchApi(\"/admin/feeds/\" + id + \"/import\", { method: \"POST\" }),\n  getImportProgress: (id) => fetchApi(\"/admin/feeds/\" + id + \"/progress\")\n};\nfunction formatPrice(price) {\n  if (price === null || price === void 0) return \"0,00 €\";\n  return Number(price).toFixed(2).replace(\".\", \",\") + \" €\";\n}\napi.deleteAllCategories = () => fetchApi(\"/admin/categories/all\", { method: \"DELETE\" });\napi.deleteAllProducts = () => fetchApi(\"/admin/products/all\", { method: \"DELETE\" });\napi.get = (endpoint) => fetchApi(endpoint);\napi.post = (endpoint, data) => fetchApi(endpoint, { method: \"POST\", body: JSON.stringify(data) });\napi.put = (endpoint, data) => fetchApi(endpoint, { method: \"PUT\", body: JSON.stringify(data) });\napi.delete = (endpoint) => fetchApi(endpoint, { method: \"DELETE\" });\nexport {\n  api as a,\n  formatPrice as f\n};\n"],"names":[],"mappings":"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"}