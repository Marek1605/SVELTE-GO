{"version":3,"file":"_page.svelte-BXmc5Rbz.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/offers/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, o as onDestroy, d as escape } from \"../../../../chunks/ssr.js\";\nconst css = {\n  code: \".page.svelte-zb4vbh.svelte-zb4vbh{padding:24px}.header.svelte-zb4vbh.svelte-zb4vbh{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.header.svelte-zb4vbh h1.svelte-zb4vbh{margin:0;font-size:24px}.header.svelte-zb4vbh p.svelte-zb4vbh{margin:4px 0 0;color:#64748b}.actions.svelte-zb4vbh.svelte-zb4vbh{display:flex;gap:8px}.btn.svelte-zb4vbh.svelte-zb4vbh{padding:10px 18px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:14px;display:inline-flex;align-items:center;gap:6px;transition:all 0.2s}.btn.primary.svelte-zb4vbh.svelte-zb4vbh{background:#f97316;color:white}.btn.primary.svelte-zb4vbh.svelte-zb4vbh:hover{background:#ea580c}.btn.secondary.svelte-zb4vbh.svelte-zb4vbh{background:#f1f5f9;color:#1e293b}.btn.success.svelte-zb4vbh.svelte-zb4vbh{background:#22c55e;color:white}.btn.warning.svelte-zb4vbh.svelte-zb4vbh{background:#f59e0b;color:white}.btn.danger.svelte-zb4vbh.svelte-zb4vbh{background:#ef4444;color:white}.btn.small.svelte-zb4vbh.svelte-zb4vbh{padding:6px 12px;font-size:13px}.btn.xs.svelte-zb4vbh.svelte-zb4vbh{padding:4px 8px;font-size:11px}.alert.svelte-zb4vbh.svelte-zb4vbh{padding:12px 16px;border-radius:8px;margin-bottom:16px;display:flex;align-items:center;gap:8px}.alert.error.svelte-zb4vbh.svelte-zb4vbh{background:#fee2e2;color:#dc2626}.stats.svelte-zb4vbh.svelte-zb4vbh{display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:16px;margin-bottom:24px}.stat.svelte-zb4vbh.svelte-zb4vbh{background:white;padding:16px;border-radius:12px;display:flex;align-items:center;gap:12px;box-shadow:0 1px 3px rgba(0,0,0,0.1)}.stat.active.svelte-zb4vbh.svelte-zb4vbh{background:linear-gradient(135deg, #dbeafe, #eff6ff)}.stat.svelte-zb4vbh .icon.svelte-zb4vbh{font-size:28px}.stat.svelte-zb4vbh strong.svelte-zb4vbh{font-size:22px;display:block}.stat.svelte-zb4vbh small.svelte-zb4vbh{color:#64748b;font-size:12px}.card.svelte-zb4vbh.svelte-zb4vbh{background:white;border-radius:12px;box-shadow:0 1px 3px rgba(0,0,0,0.1);overflow:hidden}.card-head.svelte-zb4vbh.svelte-zb4vbh{padding:16px 20px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center}.card-head.svelte-zb4vbh h2.svelte-zb4vbh{margin:0;font-size:18px}.loading.svelte-zb4vbh.svelte-zb4vbh,.empty.svelte-zb4vbh.svelte-zb4vbh{padding:40px;text-align:center;color:#64748b}.spinner.svelte-zb4vbh.svelte-zb4vbh{width:24px;height:24px;border:3px solid #e2e8f0;border-top-color:#f97316;border-radius:50%;animation:svelte-zb4vbh-spin 0.8s linear infinite;display:inline-block;margin-right:8px}@keyframes svelte-zb4vbh-spin{to{transform:rotate(360deg)}}table.svelte-zb4vbh.svelte-zb4vbh{width:100%;border-collapse:collapse}th.svelte-zb4vbh.svelte-zb4vbh,td.svelte-zb4vbh.svelte-zb4vbh{padding:12px 16px;text-align:left;border-bottom:1px solid #f1f5f9}th.svelte-zb4vbh.svelte-zb4vbh{background:#f8fafc;font-weight:600;font-size:12px;text-transform:uppercase;color:#64748b}td.svelte-zb4vbh.svelte-zb4vbh{font-size:14px}td.actions.svelte-zb4vbh.svelte-zb4vbh{white-space:nowrap}td.actions.svelte-zb4vbh button.svelte-zb4vbh{margin-right:4px}.badge.svelte-zb4vbh.svelte-zb4vbh{background:#e2e8f0;padding:2px 8px;border-radius:4px;font-size:11px;font-weight:600}.green.svelte-zb4vbh.svelte-zb4vbh{color:#22c55e}.blue.svelte-zb4vbh.svelte-zb4vbh{color:#3b82f6}.purple.svelte-zb4vbh.svelte-zb4vbh{color:#8b5cf6}.red.svelte-zb4vbh.svelte-zb4vbh{color:#ef4444}.modal-bg.svelte-zb4vbh.svelte-zb4vbh{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:1000}.modal.svelte-zb4vbh.svelte-zb4vbh{background:white;border-radius:16px;width:90%;max-width:500px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal.wide.svelte-zb4vbh.svelte-zb4vbh{max-width:900px}.modal-head.svelte-zb4vbh.svelte-zb4vbh{padding:16px 20px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center}.modal-head.svelte-zb4vbh h3.svelte-zb4vbh{margin:0}.modal-head.svelte-zb4vbh button.svelte-zb4vbh{background:none;border:none;font-size:24px;cursor:pointer;color:#94a3b8}.modal-body.svelte-zb4vbh.svelte-zb4vbh{padding:20px;overflow-y:auto;flex:1}.modal-foot.svelte-zb4vbh.svelte-zb4vbh{padding:16px 20px;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:8px}label.svelte-zb4vbh.svelte-zb4vbh{display:block;margin-bottom:16px;font-weight:500;font-size:14px}label.svelte-zb4vbh input.svelte-zb4vbh,label.svelte-zb4vbh select.svelte-zb4vbh{display:block;width:100%;padding:10px 12px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;margin-top:4px}label.svelte-zb4vbh input.svelte-zb4vbh:focus,label.svelte-zb4vbh select.svelte-zb4vbh:focus{outline:none;border-color:#f97316;box-shadow:0 0 0 3px rgba(249,115,22,0.1)}label.check.svelte-zb4vbh.svelte-zb4vbh{display:flex;align-items:center;gap:8px}label.check.svelte-zb4vbh input.svelte-zb4vbh{width:auto;margin:0}.row.svelte-zb4vbh.svelte-zb4vbh{display:grid;grid-template-columns:1fr 1fr;gap:16px}.presets.svelte-zb4vbh.svelte-zb4vbh{margin-top:8px;display:flex;gap:4px}.req.svelte-zb4vbh.svelte-zb4vbh{color:#ef4444;margin-left:2px}.mapping.svelte-zb4vbh th.svelte-zb4vbh,.mapping.svelte-zb4vbh td.svelte-zb4vbh{padding:8px 12px}.mapping.svelte-zb4vbh tr.mapped.svelte-zb4vbh{background:#f0fdf4}.mapping.svelte-zb4vbh .arrow.svelte-zb4vbh{width:30px;text-align:center;color:#94a3b8}.mapping.svelte-zb4vbh .desc.svelte-zb4vbh{display:block;font-size:11px;color:#94a3b8;font-weight:normal;margin-top:2px}.mapping.svelte-zb4vbh select.svelte-zb4vbh{min-width:180px;padding:8px 10px;border:1px solid #e2e8f0;border-radius:6px}.mapping.svelte-zb4vbh select.filled.svelte-zb4vbh{border-color:#22c55e;background:#f0fdf4}.mapping.svelte-zb4vbh .preview-val.svelte-zb4vbh{max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#64748b;font-size:12px;font-family:monospace;background:#f8fafc;padding:4px 8px;border-radius:4px}.mapping.svelte-zb4vbh .empty-val.svelte-zb4vbh{color:#cbd5e1}.mapping-info.svelte-zb4vbh.svelte-zb4vbh{display:flex;gap:16px;padding:12px 16px;background:#f8fafc;border-radius:8px;margin-bottom:16px;font-size:13px}.mapping-info.svelte-zb4vbh .auto-mapped.svelte-zb4vbh{color:#22c55e;font-weight:500}.empty-state.svelte-zb4vbh.svelte-zb4vbh{padding:60px 20px;text-align:center}.empty-state.svelte-zb4vbh p.svelte-zb4vbh{color:#64748b;margin-bottom:16px}.btn.lg.svelte-zb4vbh.svelte-zb4vbh{padding:14px 28px;font-size:16px}.preview-section.svelte-zb4vbh.svelte-zb4vbh{margin-top:20px}.preview-section.svelte-zb4vbh summary.svelte-zb4vbh{cursor:pointer;padding:12px;background:#f8fafc;border-radius:8px;font-weight:500}.preview-section.svelte-zb4vbh summary.svelte-zb4vbh:hover{background:#f1f5f9}.preview-wrap.svelte-zb4vbh.svelte-zb4vbh{overflow-x:auto;margin-top:16px}.preview-wrap.svelte-zb4vbh table.svelte-zb4vbh{font-size:12px}.preview-wrap.svelte-zb4vbh th.svelte-zb4vbh,.preview-wrap.svelte-zb4vbh td.svelte-zb4vbh{padding:6px 10px;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.progress.svelte-zb4vbh.svelte-zb4vbh{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin-bottom:12px}.progress.svelte-zb4vbh .bar.svelte-zb4vbh{height:100%;background:linear-gradient(90deg, #f97316, #fb923c);transition:width 0.3s}.msg.svelte-zb4vbh.svelte-zb4vbh{text-align:center;color:#64748b;margin-bottom:16px}.import-stats.svelte-zb4vbh.svelte-zb4vbh{display:grid;grid-template-columns:repeat(6, 1fr);gap:8px;text-align:center;margin-bottom:16px}.import-stats.svelte-zb4vbh div.svelte-zb4vbh{padding:8px;background:#f8fafc;border-radius:8px}.import-stats.svelte-zb4vbh strong.svelte-zb4vbh{display:block;font-size:18px}.import-stats.svelte-zb4vbh small.svelte-zb4vbh{font-size:10px;color:#64748b}.logs.svelte-zb4vbh.svelte-zb4vbh{background:#1e293b;border-radius:8px;overflow:hidden;margin-top:16px}.logs-head.svelte-zb4vbh.svelte-zb4vbh{padding:8px 12px;background:#0f172a;color:#94a3b8;font-size:12px}.logs-body.svelte-zb4vbh.svelte-zb4vbh{padding:12px;max-height:150px;overflow-y:auto;font-family:monospace;font-size:11px;color:#cbd5e1}.logs-body.svelte-zb4vbh div.svelte-zb4vbh{margin-bottom:4px}\",\n  map: `{\"version\":3,\"file\":\"+page.svelte\",\"sources\":[\"+page.svelte\"],\"sourcesContent\":[\"<script>\\\\n    import { onMount, onDestroy } from 'svelte';\\\\n    \\\\n    // Use relative URL for same-domain API or env variable for cross-domain\\\\n    const API_BASE = import.meta.env.VITE_API_URL || 'http://pc4kcc0ko0k0k08gk840cos0.46.224.7.54.sslip.io/api/v1';\\\\n    \\\\n    let feeds = [];\\\\n    let shops = [];\\\\n    let stats = { total_feeds: 0, active_feeds: 0, today_imported: 0, running_imports: 0 };\\\\n    let loading = true;\\\\n    let error = null;\\\\n    \\\\n    let showNewFeedModal = false;\\\\n    let showEditModal = false;\\\\n    let showMappingModal = false;\\\\n    let showImportModal = false;\\\\n    let showNewShopModal = false;\\\\n    \\\\n    let currentFeed = null;\\\\n    let previewData = null;\\\\n    let previewLoading = false;\\\\n    let sourceFields = [];\\\\n    let fieldMapping = {};\\\\n    let importProgress = null;\\\\n    let progressInterval = null;\\\\n    \\\\n    let newFeed = { shop_id: '', name: '', feed_url: '', feed_type: 'xml', xml_item_path: 'SHOPITEM', csv_delimiter: ';', match_by: 'ean', is_active: true };\\\\n    let newShop = { shop_name: '', shop_url: '', display_mode: 'free', cpc_rate: 0.05 };\\\\n    \\\\n    const targetFields = [\\\\n        { key: 'ean', label: 'EAN / GTIN', description: 'ƒåiarov√Ω k√≥d pre p√°rovanie' },\\\\n        { key: 'sku', label: 'SKU / K√≥d', description: 'Intern√Ω k√≥d produktu' },\\\\n        { key: 'title', label: 'N√°zov', required: true, description: 'N√°zov produktu' },\\\\n        { key: 'description', label: 'Popis', description: 'Popis produktu' },\\\\n        { key: 'price', label: 'Cena', required: true, description: 'Cena s DPH' },\\\\n        { key: 'url', label: 'URL odkaz', required: true, description: 'Odkaz na produkt v eshope' },\\\\n        { key: 'image', label: 'Obr√°zok', description: 'URL hlavn√©ho obr√°zka' },\\\\n        { key: 'category', label: 'Kateg√≥ria', description: 'Kateg√≥ria produktu' },\\\\n        { key: 'brand', label: 'Znaƒçka', description: 'V√Ωrobca / znaƒçka' },\\\\n        { key: 'stock_status', label: 'Stav skladu', description: 'instock / outofstock' },\\\\n        { key: 'stock_quantity', label: 'Mno≈æstvo', description: 'Poƒçet kusov na sklade' },\\\\n        { key: 'delivery', label: 'Dodanie', description: 'Doba dodania' },\\\\n    ];\\\\n    \\\\n    onMount(loadData);\\\\n    onDestroy(() => { if (progressInterval) clearInterval(progressInterval); });\\\\n    \\\\n    async function loadData() {\\\\n        loading = true; error = null;\\\\n        try {\\\\n            const [fRes, sRes] = await Promise.all([\\\\n                fetch(\\`\\${API_BASE}/admin/offer-feeds/\\`),\\\\n                fetch(\\`\\${API_BASE}/admin/shops\\`)\\\\n            ]);\\\\n            const fData = await fRes.json();\\\\n            const sData = await sRes.json();\\\\n            if (fData.success) { feeds = fData.data || []; stats = fData.stats || stats; }\\\\n            if (sData.success) { shops = sData.data || []; }\\\\n        } catch (e) { error = 'Chyba: ' + e.message; }\\\\n        loading = false;\\\\n    }\\\\n    \\\\n    async function createFeed() {\\\\n        try {\\\\n            const res = await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\`, {\\\\n                method: 'POST', headers: { 'Content-Type': 'application/json' },\\\\n                body: JSON.stringify(newFeed)\\\\n            });\\\\n            const data = await res.json();\\\\n            if (data.success) { showNewFeedModal = false; newFeed = { shop_id: '', name: '', feed_url: '', feed_type: 'xml', xml_item_path: 'SHOPITEM', csv_delimiter: ';', match_by: 'ean', is_active: true }; await loadData(); }\\\\n            else alert('Chyba: ' + (data.error || 'Nezn√°ma'));\\\\n        } catch (e) { alert('Chyba: ' + e.message); }\\\\n    }\\\\n    \\\\n    async function updateFeed() {\\\\n        if (!currentFeed) return;\\\\n        try {\\\\n            const res = await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\${currentFeed.id}\\`, {\\\\n                method: 'PUT', headers: { 'Content-Type': 'application/json' },\\\\n                body: JSON.stringify(currentFeed)\\\\n            });\\\\n            if ((await res.json()).success) { showEditModal = false; await loadData(); }\\\\n        } catch (e) { alert('Chyba: ' + e.message); }\\\\n    }\\\\n    \\\\n    async function deleteFeed(feed) {\\\\n        if (!confirm(\\`Zmaza≈• \\\\\"\\${feed.name}\\\\\"?\\`)) return;\\\\n        await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\${feed.id}\\`, { method: 'DELETE' });\\\\n        await loadData();\\\\n    }\\\\n    \\\\n    function editFeed(feed) { currentFeed = { ...feed }; showEditModal = true; }\\\\n    \\\\n    async function loadPreview(feed = null) {\\\\n        const url = feed?.feed_url || currentFeed?.feed_url || newFeed.feed_url;\\\\n        const type = feed?.feed_type || currentFeed?.feed_type || newFeed.feed_type;\\\\n        const xmlPath = feed?.xml_item_path || currentFeed?.xml_item_path || newFeed.xml_item_path;\\\\n        if (!url) { alert('Zadajte URL'); return; }\\\\n        previewLoading = true; previewData = null;\\\\n        try {\\\\n            const res = await fetch(\\`\\${API_BASE}/admin/offer-feeds/preview\\`, {\\\\n                method: 'POST', headers: { 'Content-Type': 'application/json' },\\\\n                body: JSON.stringify({ url, type, xml_item_path: xmlPath, limit: 5 })\\\\n            });\\\\n            const data = await res.json();\\\\n            if (data.success) {\\\\n                previewData = data;\\\\n                sourceFields = data.fields || [];\\\\n                if (data.auto_mappings) data.auto_mappings.forEach(m => { fieldMapping[m.target_field] = m.source_field; });\\\\n            } else previewData = { error: data.error };\\\\n        } catch (e) { previewData = { error: e.message }; }\\\\n        previewLoading = false;\\\\n    }\\\\n    \\\\n    function openMapping(feed) { currentFeed = { ...feed }; fieldMapping = { ...(feed.field_mapping || {}) }; showMappingModal = true; loadPreview(feed); }\\\\n    \\\\n    async function saveMappings() {\\\\n        if (!currentFeed) return;\\\\n        await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\${currentFeed.id}/mappings\\`, {\\\\n            method: 'POST', headers: { 'Content-Type': 'application/json' },\\\\n            body: JSON.stringify({ mappings: fieldMapping })\\\\n        });\\\\n        showMappingModal = false; await loadData();\\\\n    }\\\\n    \\\\n    async function startImport(feed) {\\\\n        currentFeed = feed;\\\\n        importProgress = { status: 'starting', message: 'Sp√∫≈°≈•am...', percent: 0, total: 0, processed: 0, created: 0, updated: 0, matched: 0, skipped: 0, errors: 0, logs: [] };\\\\n        showImportModal = true;\\\\n        try {\\\\n            const res = await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\${feed.id}/import\\`, { method: 'POST' });\\\\n            if ((await res.json()).success) progressInterval = setInterval(() => pollProgress(feed.id), 1000);\\\\n            else { importProgress.status = 'error'; importProgress.message = 'Chyba spustenia'; }\\\\n        } catch (e) { importProgress.status = 'error'; importProgress.message = e.message; }\\\\n    }\\\\n    \\\\n    async function pollProgress(feedId) {\\\\n        try {\\\\n            const res = await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\${feedId}/progress\\`);\\\\n            const data = await res.json();\\\\n            if (data.success && data.data) {\\\\n                importProgress = data.data;\\\\n                if (['completed', 'error', 'cancelled'].includes(data.data.status)) {\\\\n                    clearInterval(progressInterval); progressInterval = null; await loadData();\\\\n                }\\\\n            }\\\\n        } catch (e) { console.error(e); }\\\\n    }\\\\n    \\\\n    async function stopImport() {\\\\n        if (!currentFeed) return;\\\\n        await fetch(\\`\\${API_BASE}/admin/offer-feeds/\\${currentFeed.id}/stop\\`, { method: 'POST' });\\\\n        clearInterval(progressInterval); progressInterval = null;\\\\n        importProgress.status = 'cancelled'; importProgress.message = 'Zastaven√©';\\\\n    }\\\\n    \\\\n    function closeImportModal() { if (progressInterval) clearInterval(progressInterval); showImportModal = false; }\\\\n    \\\\n    async function createShop() {\\\\n        try {\\\\n            const res = await fetch(\\`\\${API_BASE}/admin/shops\\`, {\\\\n                method: 'POST', headers: { 'Content-Type': 'application/json' },\\\\n                body: JSON.stringify(newShop)\\\\n            });\\\\n            if ((await res.json()).success) { showNewShopModal = false; newShop = { shop_name: '', shop_url: '', display_mode: 'free', cpc_rate: 0.05 }; await loadData(); }\\\\n        } catch (e) { alert('Chyba: ' + e.message); }\\\\n    }\\\\n    \\\\n    function formatDate(d) { return d ? new Date(d).toLocaleString('sk-SK') : 'Nikdy'; }\\\\n    function getStatus(s) { return { active: 'üü¢', idle: '‚ö™', running: 'üîµ', error: 'üî¥', completed: '‚úÖ', cancelled: 'üü°' }[s] || '‚ö™'; }\\\\n<\\/script>\\\\n\\\\n<svelte:head><title>Ponuky predajcov | Admin</title></svelte:head>\\\\n\\\\n<div class=\\\\\"page\\\\\">\\\\n    <div class=\\\\\"header\\\\\">\\\\n        <div>\\\\n            <h1>üì¶ Ponuky predajcov</h1>\\\\n            <p>Import pon√∫k od predajcov podƒæa EAN/SKU</p>\\\\n        </div>\\\\n        <div class=\\\\\"actions\\\\\">\\\\n            <button class=\\\\\"btn secondary\\\\\" on:click={() => showNewShopModal = true}>üè™ Nov√Ω obchod</button>\\\\n            <button class=\\\\\"btn primary\\\\\" on:click={() => showNewFeedModal = true}>‚ûï Nov√Ω feed</button>\\\\n        </div>\\\\n    </div>\\\\n    \\\\n    {#if error}<div class=\\\\\"alert error\\\\\">‚ùå {error} <button on:click={loadData}>Znova</button></div>{/if}\\\\n    \\\\n    <div class=\\\\\"stats\\\\\">\\\\n        <div class=\\\\\"stat\\\\\"><span class=\\\\\"icon\\\\\">üì°</span><div><strong>{stats.active_feeds}/{stats.total_feeds}</strong><small>Feedov</small></div></div>\\\\n        <div class=\\\\\"stat\\\\\"><span class=\\\\\"icon\\\\\">üì¶</span><div><strong>{stats.today_imported}</strong><small>Dnes</small></div></div>\\\\n        <div class=\\\\\"stat {stats.running_imports > 0 ? 'active' : ''}\\\\\"><span class=\\\\\"icon\\\\\">{stats.running_imports > 0 ? '‚è≥' : 'üí§'}</span><div><strong>{stats.running_imports}</strong><small>Be≈æ√≠</small></div></div>\\\\n        <div class=\\\\\"stat\\\\\"><span class=\\\\\"icon\\\\\">üè™</span><div><strong>{shops.length}</strong><small>Obchodov</small></div></div>\\\\n    </div>\\\\n    \\\\n    <div class=\\\\\"card\\\\\">\\\\n        <div class=\\\\\"card-head\\\\\"><h2>üì° Feed Importy</h2><button class=\\\\\"btn small\\\\\" on:click={loadData}>üîÑ</button></div>\\\\n        {#if loading}\\\\n            <div class=\\\\\"loading\\\\\"><div class=\\\\\"spinner\\\\\"></div> Naƒç√≠tavam...</div>\\\\n        {:else if feeds.length === 0}\\\\n            <div class=\\\\\"empty\\\\\">üì≠ ≈Ωiadne feedy<br><button class=\\\\\"btn primary\\\\\" on:click={() => showNewFeedModal = true}>‚ûï Prida≈•</button></div>\\\\n        {:else}\\\\n            <table>\\\\n                <thead><tr><th>Feed</th><th>Obchod</th><th>Typ</th><th>Stav</th><th>Pon√∫k</th><th>Import</th><th>Akcie</th></tr></thead>\\\\n                <tbody>\\\\n                    {#each feeds as f}\\\\n                        <tr>\\\\n                            <td><strong>{f.name}</strong><br><small>{f.feed_url?.substring(0,40)}...</small></td>\\\\n                            <td>{f.shop_name || '‚Äî'}</td>\\\\n                            <td><span class=\\\\\"badge\\\\\">{f.feed_type?.toUpperCase()}</span></td>\\\\n                            <td>{getStatus(f.sync_status)} {f.sync_status}</td>\\\\n                            <td>{f.total_offers || 0} {#if f.matched_offers}<span class=\\\\\"green\\\\\">({f.matched_offers})</span>{/if}</td>\\\\n                            <td>{formatDate(f.last_import_at)}</td>\\\\n                            <td class=\\\\\"actions\\\\\">\\\\n                                {#if f.sync_status === 'running'}\\\\n                                    <button class=\\\\\"btn small warning\\\\\" on:click={stopImport}>‚èπ</button>\\\\n                                {:else}\\\\n                                    <button class=\\\\\"btn small success\\\\\" on:click={() => startImport(f)}>‚ñ∂</button>\\\\n                                {/if}\\\\n                                <button class=\\\\\"btn small\\\\\" on:click={() => openMapping(f)}>üîó</button>\\\\n                                <button class=\\\\\"btn small\\\\\" on:click={() => editFeed(f)}>‚úèÔ∏è</button>\\\\n                                <button class=\\\\\"btn small danger\\\\\" on:click={() => deleteFeed(f)}>üóëÔ∏è</button>\\\\n                            </td>\\\\n                        </tr>\\\\n                    {/each}\\\\n                </tbody>\\\\n            </table>\\\\n        {/if}\\\\n    </div>\\\\n</div>\\\\n\\\\n<!-- NEW FEED MODAL -->\\\\n{#if showNewFeedModal}\\\\n<div class=\\\\\"modal-bg\\\\\" on:click={() => showNewFeedModal = false}>\\\\n    <div class=\\\\\"modal\\\\\" on:click|stopPropagation>\\\\n        <div class=\\\\\"modal-head\\\\\"><h3>‚ûï Nov√Ω Feed</h3><button on:click={() => showNewFeedModal = false}>√ó</button></div>\\\\n        <div class=\\\\\"modal-body\\\\\">\\\\n            <label>Obchod *<select bind:value={newFeed.shop_id}><option value=\\\\\"\\\\\">-- Vyberte --</option>{#each shops as s}<option value={s.id}>{s.shop_name}</option>{/each}</select></label>\\\\n            <label>N√°zov *<input bind:value={newFeed.name} placeholder=\\\\\"M√¥j Feed\\\\\"></label>\\\\n            <label>URL *<input bind:value={newFeed.feed_url} placeholder=\\\\\"https://...\\\\\"><button class=\\\\\"btn small\\\\\" on:click={() => loadPreview()}>üîç Test</button></label>\\\\n            <div class=\\\\\"row\\\\\">\\\\n                <label>Typ<select bind:value={newFeed.feed_type}><option value=\\\\\"xml\\\\\">XML</option><option value=\\\\\"csv\\\\\">CSV</option><option value=\\\\\"json\\\\\">JSON</option></select></label>\\\\n                <label>Match<select bind:value={newFeed.match_by}><option value=\\\\\"ean\\\\\">EAN</option><option value=\\\\\"sku\\\\\">SKU</option></select></label>\\\\n            </div>\\\\n            {#if newFeed.feed_type === 'xml'}\\\\n                <label>XPath<input bind:value={newFeed.xml_item_path} placeholder=\\\\\"SHOP/SHOPITEM\\\\\">\\\\n                    <div class=\\\\\"presets\\\\\"><button class=\\\\\"btn xs\\\\\" on:click={() => newFeed.xml_item_path = 'SHOP/SHOPITEM'}>Heureka</button><button class=\\\\\"btn xs\\\\\" on:click={() => newFeed.xml_item_path = 'channel/item'}>Google</button></div>\\\\n                </label>\\\\n            {/if}\\\\n            <label class=\\\\\"check\\\\\"><input type=\\\\\"checkbox\\\\\" bind:checked={newFeed.is_active}> Akt√≠vny</label>\\\\n        </div>\\\\n        <div class=\\\\\"modal-foot\\\\\"><button class=\\\\\"btn\\\\\" on:click={() => showNewFeedModal = false}>Zru≈°i≈•</button><button class=\\\\\"btn primary\\\\\" on:click={createFeed}>Vytvori≈•</button></div>\\\\n    </div>\\\\n</div>\\\\n{/if}\\\\n\\\\n<!-- EDIT MODAL -->\\\\n{#if showEditModal && currentFeed}\\\\n<div class=\\\\\"modal-bg\\\\\" on:click={() => showEditModal = false}>\\\\n    <div class=\\\\\"modal\\\\\" on:click|stopPropagation>\\\\n        <div class=\\\\\"modal-head\\\\\"><h3>‚úèÔ∏è Upravi≈•</h3><button on:click={() => showEditModal = false}>√ó</button></div>\\\\n        <div class=\\\\\"modal-body\\\\\">\\\\n            <label>Obchod<select bind:value={currentFeed.shop_id}>{#each shops as s}<option value={s.id}>{s.shop_name}</option>{/each}</select></label>\\\\n            <label>N√°zov<input bind:value={currentFeed.name}></label>\\\\n            <label>URL<input bind:value={currentFeed.feed_url}></label>\\\\n            <div class=\\\\\"row\\\\\">\\\\n                <label>Typ<select bind:value={currentFeed.feed_type}><option value=\\\\\"xml\\\\\">XML</option><option value=\\\\\"csv\\\\\">CSV</option><option value=\\\\\"json\\\\\">JSON</option></select></label>\\\\n                <label>Match<select bind:value={currentFeed.match_by}><option value=\\\\\"ean\\\\\">EAN</option><option value=\\\\\"sku\\\\\">SKU</option></select></label>\\\\n            </div>\\\\n            {#if currentFeed.feed_type === 'xml'}<label>XPath<input bind:value={currentFeed.xml_item_path}></label>{/if}\\\\n            <label class=\\\\\"check\\\\\"><input type=\\\\\"checkbox\\\\\" bind:checked={currentFeed.is_active}> Akt√≠vny</label>\\\\n        </div>\\\\n        <div class=\\\\\"modal-foot\\\\\"><button class=\\\\\"btn\\\\\" on:click={() => showEditModal = false}>Zru≈°i≈•</button><button class=\\\\\"btn primary\\\\\" on:click={updateFeed}>Ulo≈æi≈•</button></div>\\\\n    </div>\\\\n</div>\\\\n{/if}\\\\n\\\\n<!-- MAPPING MODAL -->\\\\n{#if showMappingModal && currentFeed}\\\\n<div class=\\\\\"modal-bg\\\\\" on:click={() => showMappingModal = false}>\\\\n    <div class=\\\\\"modal wide\\\\\" on:click|stopPropagation>\\\\n        <div class=\\\\\"modal-head\\\\\"><h3>üîó Mapovanie pol√≠: {currentFeed.name}</h3><button on:click={() => showMappingModal = false}>√ó</button></div>\\\\n        <div class=\\\\\"modal-body\\\\\">\\\\n            {#if previewLoading}\\\\n                <div class=\\\\\"loading\\\\\"><div class=\\\\\"spinner\\\\\"></div> S≈•ahujem a analyzujem feed...</div>\\\\n            {:else if previewData?.error}\\\\n                <div class=\\\\\"alert error\\\\\">‚ùå {previewData.error}</div>\\\\n                <button class=\\\\\"btn primary\\\\\" on:click={() => loadPreview(currentFeed)}>üîÑ Sk√∫si≈• znova</button>\\\\n            {:else if sourceFields.length > 0}\\\\n                <div class=\\\\\"mapping-info\\\\\">\\\\n                    <span>üìä N√°jden√Ωch <strong>{sourceFields.length}</strong> pol√≠</span>\\\\n                    <span>üì¶ Polo≈æiek: <strong>{previewData?.total_items || '?'}</strong></span>\\\\n                    {#if previewData?.auto_mappings?.length}\\\\n                        <span class=\\\\\"auto-mapped\\\\\">‚ú® Auto-mapovan√©: {previewData.auto_mappings.length}</span>\\\\n                    {/if}\\\\n                </div>\\\\n                <table class=\\\\\"mapping\\\\\">\\\\n                    <thead><tr><th>Cieƒæov√© pole</th><th></th><th>Zdrojov√© pole z feedu</th><th>Uk√°≈æka hodnoty</th></tr></thead>\\\\n                    <tbody>\\\\n                        {#each targetFields as t}\\\\n                            <tr class:mapped={fieldMapping[t.key]}>\\\\n                                <td>\\\\n                                    <strong>{t.label}</strong>\\\\n                                    {#if t.required}<span class=\\\\\"req\\\\\">*</span>{/if}\\\\n                                    {#if t.description}<small class=\\\\\"desc\\\\\">{t.description}</small>{/if}\\\\n                                </td>\\\\n                                <td class=\\\\\"arrow\\\\\">‚Üí</td>\\\\n                                <td>\\\\n                                    <select bind:value={fieldMapping[t.key]} class:filled={fieldMapping[t.key]}>\\\\n                                        <option value=\\\\\"\\\\\">-- Vyber pole --</option>\\\\n                                        {#each sourceFields as f}\\\\n                                            <option value={f}>{f}</option>\\\\n                                        {/each}\\\\n                                    </select>\\\\n                                </td>\\\\n                                <td class=\\\\\"preview-val\\\\\">\\\\n                                    {#if fieldMapping[t.key] && previewData?.preview?.[0]}\\\\n                                        {String(previewData.preview[0][fieldMapping[t.key]] || '‚Äî').substring(0, 50)}\\\\n                                    {:else}\\\\n                                        <span class=\\\\\"empty-val\\\\\">‚Äî</span>\\\\n                                    {/if}\\\\n                                </td>\\\\n                            </tr>\\\\n                        {/each}\\\\n                    </tbody>\\\\n                </table>\\\\n                {#if previewData?.preview?.length}\\\\n                    <details class=\\\\\"preview-section\\\\\">\\\\n                        <summary>üìã Uk√°≈æka d√°t ({previewData.preview.length} polo≈æiek)</summary>\\\\n                        <div class=\\\\\"preview-wrap\\\\\">\\\\n                            <table>\\\\n                                <thead><tr>{#each sourceFields.slice(0, 8) as f}<th>{f}</th>{/each}</tr></thead>\\\\n                                <tbody>\\\\n                                    {#each previewData.preview.slice(0, 5) as item}\\\\n                                        <tr>{#each sourceFields.slice(0, 8) as f}<td>{String(item[f] || '').substring(0, 40)}</td>{/each}</tr>\\\\n                                    {/each}\\\\n                                </tbody>\\\\n                            </table>\\\\n                        </div>\\\\n                    </details>\\\\n                {/if}\\\\n            {:else}\\\\n                <div class=\\\\\"empty-state\\\\\">\\\\n                    <p>Klikni pre naƒç√≠tanie pol√≠ z feedu</p>\\\\n                    <button class=\\\\\"btn primary lg\\\\\" on:click={() => loadPreview(currentFeed)}>üîç Naƒç√≠ta≈• polia z feedu</button>\\\\n                </div>\\\\n            {/if}\\\\n        </div>\\\\n        <div class=\\\\\"modal-foot\\\\\">\\\\n            <button class=\\\\\"btn\\\\\" on:click={() => showMappingModal = false}>Zru≈°i≈•</button>\\\\n            <button class=\\\\\"btn primary\\\\\" on:click={saveMappings} disabled={!sourceFields.length}>üíæ Ulo≈æi≈• mapovanie</button>\\\\n        </div>\\\\n    </div>\\\\n</div>\\\\n{/if}\\\\n\\\\n<!-- IMPORT MODAL -->\\\\n{#if showImportModal && importProgress}\\\\n<div class=\\\\\"modal-bg\\\\\">\\\\n    <div class=\\\\\"modal\\\\\" on:click|stopPropagation>\\\\n        <div class=\\\\\"modal-head\\\\\"><h3>{importProgress.status === 'completed' ? '‚úÖ Hotovo' : importProgress.status === 'error' ? '‚ùå Chyba' : '‚è≥ Import...'}</h3></div>\\\\n        <div class=\\\\\"modal-body\\\\\">\\\\n            <div class=\\\\\"progress\\\\\"><div class=\\\\\"bar\\\\\" style=\\\\\"width:{importProgress.percent}%\\\\\"></div></div>\\\\n            <p class=\\\\\"msg\\\\\">{importProgress.message}</p>\\\\n            <div class=\\\\\"import-stats\\\\\">\\\\n                <div><strong>{importProgress.processed}/{importProgress.total}</strong><small>Spracovan√©</small></div>\\\\n                <div class=\\\\\"green\\\\\"><strong>{importProgress.created}</strong><small>Vytvoren√©</small></div>\\\\n                <div class=\\\\\"blue\\\\\"><strong>{importProgress.updated}</strong><small>Aktualizovan√©</small></div>\\\\n                <div class=\\\\\"purple\\\\\"><strong>{importProgress.matched}</strong><small>Sp√°rovan√©</small></div>\\\\n                <div><strong>{importProgress.skipped}</strong><small>Preskoƒçen√©</small></div>\\\\n                <div class=\\\\\"red\\\\\"><strong>{importProgress.errors}</strong><small>Chyby</small></div>\\\\n            </div>\\\\n            {#if importProgress.logs?.length}\\\\n                <div class=\\\\\"logs\\\\\"><div class=\\\\\"logs-head\\\\\">üìã Log</div><div class=\\\\\"logs-body\\\\\">{#each importProgress.logs as l}<div>{l}</div>{/each}</div></div>\\\\n            {/if}\\\\n        </div>\\\\n        <div class=\\\\\"modal-foot\\\\\">\\\\n            {#if ['processing','initialized','starting'].includes(importProgress.status)}<button class=\\\\\"btn warning\\\\\" on:click={stopImport}>‚èπ Stop</button>\\\\n            {:else}<button class=\\\\\"btn primary\\\\\" on:click={closeImportModal}>Zavrie≈•</button>{/if}\\\\n        </div>\\\\n    </div>\\\\n</div>\\\\n{/if}\\\\n\\\\n<!-- NEW SHOP MODAL -->\\\\n{#if showNewShopModal}\\\\n<div class=\\\\\"modal-bg\\\\\" on:click={() => showNewShopModal = false}>\\\\n    <div class=\\\\\"modal\\\\\" on:click|stopPropagation>\\\\n        <div class=\\\\\"modal-head\\\\\"><h3>üè™ Nov√Ω obchod</h3><button on:click={() => showNewShopModal = false}>√ó</button></div>\\\\n        <div class=\\\\\"modal-body\\\\\">\\\\n            <label>N√°zov *<input bind:value={newShop.shop_name} placeholder=\\\\\"M√¥j E-shop\\\\\"></label>\\\\n            <label>URL<input bind:value={newShop.shop_url} placeholder=\\\\\"https://...\\\\\"></label>\\\\n            <label>Re≈æim<select bind:value={newShop.display_mode}><option value=\\\\\"free\\\\\">FREE</option><option value=\\\\\"paid\\\\\">PAID (CPC)</option></select></label>\\\\n            <label>CPC sadzba<input type=\\\\\"number\\\\\" step=\\\\\"0.01\\\\\" bind:value={newShop.cpc_rate}></label>\\\\n        </div>\\\\n        <div class=\\\\\"modal-foot\\\\\"><button class=\\\\\"btn\\\\\" on:click={() => showNewShopModal = false}>Zru≈°i≈•</button><button class=\\\\\"btn primary\\\\\" on:click={createShop}>Vytvori≈•</button></div>\\\\n    </div>\\\\n</div>\\\\n{/if}\\\\n\\\\n<style>\\\\n    .page { padding: 24px; }\\\\n    .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; }\\\\n    .header h1 { margin: 0; font-size: 24px; }\\\\n    .header p { margin: 4px 0 0; color: #64748b; }\\\\n    .actions { display: flex; gap: 8px; }\\\\n    \\\\n    .btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px; display: inline-flex; align-items: center; gap: 6px; transition: all 0.2s; }\\\\n    .btn.primary { background: #f97316; color: white; }\\\\n    .btn.primary:hover { background: #ea580c; }\\\\n    .btn.secondary { background: #f1f5f9; color: #1e293b; }\\\\n    .btn.success { background: #22c55e; color: white; }\\\\n    .btn.warning { background: #f59e0b; color: white; }\\\\n    .btn.danger { background: #ef4444; color: white; }\\\\n    .btn.small { padding: 6px 12px; font-size: 13px; }\\\\n    .btn.xs { padding: 4px 8px; font-size: 11px; }\\\\n    \\\\n    .alert { padding: 12px 16px; border-radius: 8px; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }\\\\n    .alert.error { background: #fee2e2; color: #dc2626; }\\\\n    \\\\n    .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; margin-bottom: 24px; }\\\\n    .stat { background: white; padding: 16px; border-radius: 12px; display: flex; align-items: center; gap: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }\\\\n    .stat.active { background: linear-gradient(135deg, #dbeafe, #eff6ff); }\\\\n    .stat .icon { font-size: 28px; }\\\\n    .stat strong { font-size: 22px; display: block; }\\\\n    .stat small { color: #64748b; font-size: 12px; }\\\\n    \\\\n    .card { background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); overflow: hidden; }\\\\n    .card-head { padding: 16px 20px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; }\\\\n    .card-head h2 { margin: 0; font-size: 18px; }\\\\n    \\\\n    .loading, .empty { padding: 40px; text-align: center; color: #64748b; }\\\\n    .spinner { width: 24px; height: 24px; border: 3px solid #e2e8f0; border-top-color: #f97316; border-radius: 50%; animation: spin 0.8s linear infinite; display: inline-block; margin-right: 8px; }\\\\n    @keyframes spin { to { transform: rotate(360deg); } }\\\\n    \\\\n    table { width: 100%; border-collapse: collapse; }\\\\n    th, td { padding: 12px 16px; text-align: left; border-bottom: 1px solid #f1f5f9; }\\\\n    th { background: #f8fafc; font-weight: 600; font-size: 12px; text-transform: uppercase; color: #64748b; }\\\\n    td { font-size: 14px; }\\\\n    td.actions { white-space: nowrap; }\\\\n    td.actions button { margin-right: 4px; }\\\\n    \\\\n    .badge { background: #e2e8f0; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; }\\\\n    .green { color: #22c55e; }\\\\n    .blue { color: #3b82f6; }\\\\n    .purple { color: #8b5cf6; }\\\\n    .red { color: #ef4444; }\\\\n    \\\\n    .modal-bg { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; }\\\\n    .modal { background: white; border-radius: 16px; width: 90%; max-width: 500px; max-height: 90vh; overflow: hidden; display: flex; flex-direction: column; }\\\\n    .modal.wide { max-width: 900px; }\\\\n    .modal-head { padding: 16px 20px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; }\\\\n    .modal-head h3 { margin: 0; }\\\\n    .modal-head button { background: none; border: none; font-size: 24px; cursor: pointer; color: #94a3b8; }\\\\n    .modal-body { padding: 20px; overflow-y: auto; flex: 1; }\\\\n    .modal-foot { padding: 16px 20px; border-top: 1px solid #e2e8f0; display: flex; justify-content: flex-end; gap: 8px; }\\\\n    \\\\n    label { display: block; margin-bottom: 16px; font-weight: 500; font-size: 14px; }\\\\n    label input, label select { display: block; width: 100%; padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px; margin-top: 4px; }\\\\n    label input:focus, label select:focus { outline: none; border-color: #f97316; box-shadow: 0 0 0 3px rgba(249,115,22,0.1); }\\\\n    label.check { display: flex; align-items: center; gap: 8px; }\\\\n    label.check input { width: auto; margin: 0; }\\\\n    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }\\\\n    .presets { margin-top: 8px; display: flex; gap: 4px; }\\\\n    .req { color: #ef4444; margin-left: 2px; }\\\\n    \\\\n    .mapping th, .mapping td { padding: 8px 12px; }\\\\n    .mapping .preview { max-width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #64748b; font-size: 12px; }\\\\n    .mapping tr.mapped { background: #f0fdf4; }\\\\n    .mapping .arrow { width: 30px; text-align: center; color: #94a3b8; }\\\\n    .mapping .desc { display: block; font-size: 11px; color: #94a3b8; font-weight: normal; margin-top: 2px; }\\\\n    .mapping select { min-width: 180px; padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 6px; }\\\\n    .mapping select.filled { border-color: #22c55e; background: #f0fdf4; }\\\\n    .mapping .preview-val { max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #64748b; font-size: 12px; font-family: monospace; background: #f8fafc; padding: 4px 8px; border-radius: 4px; }\\\\n    .mapping .empty-val { color: #cbd5e1; }\\\\n    \\\\n    .mapping-info { display: flex; gap: 16px; padding: 12px 16px; background: #f8fafc; border-radius: 8px; margin-bottom: 16px; font-size: 13px; }\\\\n    .mapping-info .auto-mapped { color: #22c55e; font-weight: 500; }\\\\n    \\\\n    .empty-state { padding: 60px 20px; text-align: center; }\\\\n    .empty-state p { color: #64748b; margin-bottom: 16px; }\\\\n    .btn.lg { padding: 14px 28px; font-size: 16px; }\\\\n    \\\\n    .preview-section { margin-top: 20px; }\\\\n    .preview-section summary { cursor: pointer; padding: 12px; background: #f8fafc; border-radius: 8px; font-weight: 500; }\\\\n    .preview-section summary:hover { background: #f1f5f9; }\\\\n    \\\\n    .preview-wrap { overflow-x: auto; margin-top: 16px; }\\\\n    .preview-wrap table { font-size: 12px; }\\\\n    .preview-wrap th, .preview-wrap td { padding: 6px 10px; max-width: 120px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\\\\n    \\\\n    .progress { height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; margin-bottom: 12px; }\\\\n    .progress .bar { height: 100%; background: linear-gradient(90deg, #f97316, #fb923c); transition: width 0.3s; }\\\\n    .msg { text-align: center; color: #64748b; margin-bottom: 16px; }\\\\n    .import-stats { display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; text-align: center; margin-bottom: 16px; }\\\\n    .import-stats div { padding: 8px; background: #f8fafc; border-radius: 8px; }\\\\n    .import-stats strong { display: block; font-size: 18px; }\\\\n    .import-stats small { font-size: 10px; color: #64748b; }\\\\n    \\\\n    .logs { background: #1e293b; border-radius: 8px; overflow: hidden; margin-top: 16px; }\\\\n    .logs-head { padding: 8px 12px; background: #0f172a; color: #94a3b8; font-size: 12px; }\\\\n    .logs-body { padding: 12px; max-height: 150px; overflow-y: auto; font-family: monospace; font-size: 11px; color: #cbd5e1; }\\\\n    .logs-body div { margin-bottom: 4px; }\\\\n</style>\\\\n\"],\"names\":[],\"mappings\":\"AAiZI,iCAAM,CAAE,OAAO,CAAE,IAAM,CACvB,mCAAQ,CAAE,OAAO,CAAE,IAAI,CAAE,eAAe,CAAE,aAAa,CAAE,WAAW,CAAE,UAAU,CAAE,aAAa,CAAE,IAAM,CACvG,qBAAO,CAAC,gBAAG,CAAE,MAAM,CAAE,CAAC,CAAE,SAAS,CAAE,IAAM,CACzC,qBAAO,CAAC,eAAE,CAAE,MAAM,CAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE,KAAK,CAAE,OAAS,CAC7C,oCAAS,CAAE,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,GAAK,CAEpC,gCAAK,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,MAAM,CAAE,IAAI,CAAE,aAAa,CAAE,GAAG,CAAE,MAAM,CAAE,OAAO,CAAE,WAAW,CAAE,GAAG,CAAE,SAAS,CAAE,IAAI,CAAE,OAAO,CAAE,WAAW,CAAE,WAAW,CAAE,MAAM,CAAE,GAAG,CAAE,GAAG,CAAE,UAAU,CAAE,GAAG,CAAC,IAAM,CAC5L,IAAI,oCAAS,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,KAAO,CAClD,IAAI,oCAAQ,MAAO,CAAE,UAAU,CAAE,OAAS,CAC1C,IAAI,sCAAW,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,OAAS,CACtD,IAAI,oCAAS,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,KAAO,CAClD,IAAI,oCAAS,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,KAAO,CAClD,IAAI,mCAAQ,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,KAAO,CACjD,IAAI,kCAAO,CAAE,OAAO,CAAE,GAAG,CAAC,IAAI,CAAE,SAAS,CAAE,IAAM,CACjD,IAAI,+BAAI,CAAE,OAAO,CAAE,GAAG,CAAC,GAAG,CAAE,SAAS,CAAE,IAAM,CAE7C,kCAAO,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,aAAa,CAAE,GAAG,CAAE,aAAa,CAAE,IAAI,CAAE,OAAO,CAAE,IAAI,CAAE,WAAW,CAAE,MAAM,CAAE,GAAG,CAAE,GAAK,CACpH,MAAM,kCAAO,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,OAAS,CAEpD,kCAAO,CAAE,OAAO,CAAE,IAAI,CAAE,qBAAqB,CAAE,OAAO,QAAQ,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAE,GAAG,CAAE,IAAI,CAAE,aAAa,CAAE,IAAM,CACrH,iCAAM,CAAE,UAAU,CAAE,KAAK,CAAE,OAAO,CAAE,IAAI,CAAE,aAAa,CAAE,IAAI,CAAE,OAAO,CAAE,IAAI,CAAE,WAAW,CAAE,MAAM,CAAE,GAAG,CAAE,IAAI,CAAE,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAG,CACrJ,KAAK,mCAAQ,CAAE,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAG,CACtE,mBAAK,CAAC,mBAAM,CAAE,SAAS,CAAE,IAAM,CAC/B,mBAAK,CAAC,oBAAO,CAAE,SAAS,CAAE,IAAI,CAAE,OAAO,CAAE,KAAO,CAChD,mBAAK,CAAC,mBAAM,CAAE,KAAK,CAAE,OAAO,CAAE,SAAS,CAAE,IAAM,CAE/C,iCAAM,CAAE,UAAU,CAAE,KAAK,CAAE,aAAa,CAAE,IAAI,CAAE,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAE,QAAQ,CAAE,MAAQ,CACzG,sCAAW,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAAE,OAAO,CAAE,IAAI,CAAE,eAAe,CAAE,aAAa,CAAE,WAAW,CAAE,MAAQ,CACvI,wBAAU,CAAC,gBAAG,CAAE,MAAM,CAAE,CAAC,CAAE,SAAS,CAAE,IAAM,CAE5C,oCAAQ,CAAE,kCAAO,CAAE,OAAO,CAAE,IAAI,CAAE,UAAU,CAAE,MAAM,CAAE,KAAK,CAAE,OAAS,CACtE,oCAAS,CAAE,KAAK,CAAE,IAAI,CAAE,MAAM,CAAE,IAAI,CAAE,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAAE,gBAAgB,CAAE,OAAO,CAAE,aAAa,CAAE,GAAG,CAAE,SAAS,CAAE,kBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,OAAO,CAAE,YAAY,CAAE,YAAY,CAAE,GAAK,CAChM,WAAW,kBAAK,CAAE,EAAG,CAAE,SAAS,CAAE,OAAO,MAAM,CAAG,CAAE,CAEpD,iCAAM,CAAE,KAAK,CAAE,IAAI,CAAE,eAAe,CAAE,QAAU,CAChD,8BAAE,CAAE,8BAAG,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,UAAU,CAAE,IAAI,CAAE,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAS,CACjF,8BAAG,CAAE,UAAU,CAAE,OAAO,CAAE,WAAW,CAAE,GAAG,CAAE,SAAS,CAAE,IAAI,CAAE,cAAc,CAAE,SAAS,CAAE,KAAK,CAAE,OAAS,CACxG,8BAAG,CAAE,SAAS,CAAE,IAAM,CACtB,EAAE,oCAAS,CAAE,WAAW,CAAE,MAAQ,CAClC,EAAE,sBAAQ,CAAC,oBAAO,CAAE,YAAY,CAAE,GAAK,CAEvC,kCAAO,CAAE,UAAU,CAAE,OAAO,CAAE,OAAO,CAAE,GAAG,CAAC,GAAG,CAAE,aAAa,CAAE,GAAG,CAAE,SAAS,CAAE,IAAI,CAAE,WAAW,CAAE,GAAK,CACvG,kCAAO,CAAE,KAAK,CAAE,OAAS,CACzB,iCAAM,CAAE,KAAK,CAAE,OAAS,CACxB,mCAAQ,CAAE,KAAK,CAAE,OAAS,CAC1B,gCAAK,CAAE,KAAK,CAAE,OAAS,CAEvB,qCAAU,CAAE,QAAQ,CAAE,KAAK,CAAE,KAAK,CAAE,CAAC,CAAE,UAAU,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAE,OAAO,CAAE,IAAI,CAAE,WAAW,CAAE,MAAM,CAAE,eAAe,CAAE,MAAM,CAAE,OAAO,CAAE,IAAM,CAChJ,kCAAO,CAAE,UAAU,CAAE,KAAK,CAAE,aAAa,CAAE,IAAI,CAAE,KAAK,CAAE,GAAG,CAAE,SAAS,CAAE,KAAK,CAAE,UAAU,CAAE,IAAI,CAAE,QAAQ,CAAE,MAAM,CAAE,OAAO,CAAE,IAAI,CAAE,cAAc,CAAE,MAAQ,CAC1J,MAAM,iCAAM,CAAE,SAAS,CAAE,KAAO,CAChC,uCAAY,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAAE,OAAO,CAAE,IAAI,CAAE,eAAe,CAAE,aAAa,CAAE,WAAW,CAAE,MAAQ,CACxI,yBAAW,CAAC,gBAAG,CAAE,MAAM,CAAE,CAAG,CAC5B,yBAAW,CAAC,oBAAO,CAAE,UAAU,CAAE,IAAI,CAAE,MAAM,CAAE,IAAI,CAAE,SAAS,CAAE,IAAI,CAAE,MAAM,CAAE,OAAO,CAAE,KAAK,CAAE,OAAS,CACvG,uCAAY,CAAE,OAAO,CAAE,IAAI,CAAE,UAAU,CAAE,IAAI,CAAE,IAAI,CAAE,CAAG,CACxD,uCAAY,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAAE,OAAO,CAAE,IAAI,CAAE,eAAe,CAAE,QAAQ,CAAE,GAAG,CAAE,GAAK,CAErH,iCAAM,CAAE,OAAO,CAAE,KAAK,CAAE,aAAa,CAAE,IAAI,CAAE,WAAW,CAAE,GAAG,CAAE,SAAS,CAAE,IAAM,CAChF,mBAAK,CAAC,mBAAK,CAAE,mBAAK,CAAC,oBAAO,CAAE,OAAO,CAAE,KAAK,CAAE,KAAK,CAAE,IAAI,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAAE,aAAa,CAAE,GAAG,CAAE,SAAS,CAAE,IAAI,CAAE,UAAU,CAAE,GAAK,CAC9J,mBAAK,CAAC,mBAAK,MAAM,CAAE,mBAAK,CAAC,oBAAM,MAAO,CAAE,OAAO,CAAE,IAAI,CAAE,YAAY,CAAE,OAAO,CAAE,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAG,CAC1H,KAAK,kCAAO,CAAE,OAAO,CAAE,IAAI,CAAE,WAAW,CAAE,MAAM,CAAE,GAAG,CAAE,GAAK,CAC5D,KAAK,oBAAM,CAAC,mBAAM,CAAE,KAAK,CAAE,IAAI,CAAE,MAAM,CAAE,CAAG,CAC5C,gCAAK,CAAE,OAAO,CAAE,IAAI,CAAE,qBAAqB,CAAE,GAAG,CAAC,GAAG,CAAE,GAAG,CAAE,IAAM,CACjE,oCAAS,CAAE,UAAU,CAAE,GAAG,CAAE,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,GAAK,CACrD,gCAAK,CAAE,KAAK,CAAE,OAAO,CAAE,WAAW,CAAE,GAAK,CAEzC,sBAAQ,CAAC,gBAAE,CAAE,sBAAQ,CAAC,gBAAG,CAAE,OAAO,CAAE,GAAG,CAAC,IAAM,CAE9C,sBAAQ,CAAC,EAAE,qBAAQ,CAAE,UAAU,CAAE,OAAS,CAC1C,sBAAQ,CAAC,oBAAO,CAAE,KAAK,CAAE,IAAI,CAAE,UAAU,CAAE,MAAM,CAAE,KAAK,CAAE,OAAS,CACnE,sBAAQ,CAAC,mBAAM,CAAE,OAAO,CAAE,KAAK,CAAE,SAAS,CAAE,IAAI,CAAE,KAAK,CAAE,OAAO,CAAE,WAAW,CAAE,MAAM,CAAE,UAAU,CAAE,GAAK,CACxG,sBAAQ,CAAC,oBAAO,CAAE,SAAS,CAAE,KAAK,CAAE,OAAO,CAAE,GAAG,CAAC,IAAI,CAAE,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAAE,aAAa,CAAE,GAAK,CACtG,sBAAQ,CAAC,MAAM,qBAAQ,CAAE,YAAY,CAAE,OAAO,CAAE,UAAU,CAAE,OAAS,CACrE,sBAAQ,CAAC,0BAAa,CAAE,SAAS,CAAE,KAAK,CAAE,QAAQ,CAAE,MAAM,CAAE,aAAa,CAAE,QAAQ,CAAE,WAAW,CAAE,MAAM,CAAE,KAAK,CAAE,OAAO,CAAE,SAAS,CAAE,IAAI,CAAE,WAAW,CAAE,SAAS,CAAE,UAAU,CAAE,OAAO,CAAE,OAAO,CAAE,GAAG,CAAC,GAAG,CAAE,aAAa,CAAE,GAAK,CAC9N,sBAAQ,CAAC,wBAAW,CAAE,KAAK,CAAE,OAAS,CAEtC,yCAAc,CAAE,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,IAAI,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,UAAU,CAAE,OAAO,CAAE,aAAa,CAAE,GAAG,CAAE,aAAa,CAAE,IAAI,CAAE,SAAS,CAAE,IAAM,CAC7I,2BAAa,CAAC,0BAAa,CAAE,KAAK,CAAE,OAAO,CAAE,WAAW,CAAE,GAAK,CAE/D,wCAAa,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,UAAU,CAAE,MAAQ,CACvD,0BAAY,CAAC,eAAE,CAAE,KAAK,CAAE,OAAO,CAAE,aAAa,CAAE,IAAM,CACtD,IAAI,+BAAI,CAAE,OAAO,CAAE,IAAI,CAAC,IAAI,CAAE,SAAS,CAAE,IAAM,CAE/C,4CAAiB,CAAE,UAAU,CAAE,IAAM,CACrC,8BAAgB,CAAC,qBAAQ,CAAE,MAAM,CAAE,OAAO,CAAE,OAAO,CAAE,IAAI,CAAE,UAAU,CAAE,OAAO,CAAE,aAAa,CAAE,GAAG,CAAE,WAAW,CAAE,GAAK,CACtH,8BAAgB,CAAC,qBAAO,MAAO,CAAE,UAAU,CAAE,OAAS,CAEtD,yCAAc,CAAE,UAAU,CAAE,IAAI,CAAE,UAAU,CAAE,IAAM,CACpD,2BAAa,CAAC,mBAAM,CAAE,SAAS,CAAE,IAAM,CACvC,2BAAa,CAAC,gBAAE,CAAE,2BAAa,CAAC,gBAAG,CAAE,OAAO,CAAE,GAAG,CAAC,IAAI,CAAE,SAAS,CAAE,KAAK,CAAE,QAAQ,CAAE,MAAM,CAAE,aAAa,CAAE,QAAQ,CAAE,WAAW,CAAE,MAAQ,CAE1I,qCAAU,CAAE,MAAM,CAAE,GAAG,CAAE,UAAU,CAAE,OAAO,CAAE,aAAa,CAAE,GAAG,CAAE,QAAQ,CAAE,MAAM,CAAE,aAAa,CAAE,IAAM,CACzG,uBAAS,CAAC,kBAAK,CAAE,MAAM,CAAE,IAAI,CAAE,UAAU,CAAE,gBAAgB,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAE,UAAU,CAAE,KAAK,CAAC,IAAM,CAC7G,gCAAK,CAAE,UAAU,CAAE,MAAM,CAAE,KAAK,CAAE,OAAO,CAAE,aAAa,CAAE,IAAM,CAChE,yCAAc,CAAE,OAAO,CAAE,IAAI,CAAE,qBAAqB,CAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAE,GAAG,CAAE,GAAG,CAAE,UAAU,CAAE,MAAM,CAAE,aAAa,CAAE,IAAM,CACzH,2BAAa,CAAC,iBAAI,CAAE,OAAO,CAAE,GAAG,CAAE,UAAU,CAAE,OAAO,CAAE,aAAa,CAAE,GAAK,CAC3E,2BAAa,CAAC,oBAAO,CAAE,OAAO,CAAE,KAAK,CAAE,SAAS,CAAE,IAAM,CACxD,2BAAa,CAAC,mBAAM,CAAE,SAAS,CAAE,IAAI,CAAE,KAAK,CAAE,OAAS,CAEvD,iCAAM,CAAE,UAAU,CAAE,OAAO,CAAE,aAAa,CAAE,GAAG,CAAE,QAAQ,CAAE,MAAM,CAAE,UAAU,CAAE,IAAM,CACrF,sCAAW,CAAE,OAAO,CAAE,GAAG,CAAC,IAAI,CAAE,UAAU,CAAE,OAAO,CAAE,KAAK,CAAE,OAAO,CAAE,SAAS,CAAE,IAAM,CACtF,sCAAW,CAAE,OAAO,CAAE,IAAI,CAAE,UAAU,CAAE,KAAK,CAAE,UAAU,CAAE,IAAI,CAAE,WAAW,CAAE,SAAS,CAAE,SAAS,CAAE,IAAI,CAAE,KAAK,CAAE,OAAS,CAC1H,wBAAU,CAAC,iBAAI,CAAE,aAAa,CAAE,GAAK\"}`\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let shops = [];\n  let stats = {\n    total_feeds: 0,\n    active_feeds: 0,\n    today_imported: 0,\n    running_imports: 0\n  };\n  onDestroy(() => {\n  });\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-1hn7ysc_START -->${$$result.title = `<title>Ponuky predajcov | Admin</title>`, \"\"}<!-- HEAD_svelte-1hn7ysc_END -->`, \"\"} <div class=\"page svelte-zb4vbh\"><div class=\"header svelte-zb4vbh\"><div data-svelte-h=\"svelte-1mpyxhx\"><h1 class=\"svelte-zb4vbh\">üì¶ Ponuky predajcov</h1> <p class=\"svelte-zb4vbh\">Import pon√∫k od predajcov podƒæa EAN/SKU</p></div> <div class=\"actions svelte-zb4vbh\"><button class=\"btn secondary svelte-zb4vbh\" data-svelte-h=\"svelte-ijolun\">üè™ Nov√Ω obchod</button> <button class=\"btn primary svelte-zb4vbh\" data-svelte-h=\"svelte-xiseod\">‚ûï Nov√Ω feed</button></div></div> ${``} <div class=\"stats svelte-zb4vbh\"><div class=\"stat svelte-zb4vbh\"><span class=\"icon svelte-zb4vbh\" data-svelte-h=\"svelte-g6f3j0\">üì°</span><div><strong class=\"svelte-zb4vbh\">${escape(stats.active_feeds)}/${escape(stats.total_feeds)}</strong><small class=\"svelte-zb4vbh\" data-svelte-h=\"svelte-5t7iin\">Feedov</small></div></div> <div class=\"stat svelte-zb4vbh\"><span class=\"icon svelte-zb4vbh\" data-svelte-h=\"svelte-1kqxyrv\">üì¶</span><div><strong class=\"svelte-zb4vbh\">${escape(stats.today_imported)}</strong><small class=\"svelte-zb4vbh\" data-svelte-h=\"svelte-qtxsru\">Dnes</small></div></div> <div class=\"${\"stat \" + escape(\"\", true) + \" svelte-zb4vbh\"}\"><span class=\"icon svelte-zb4vbh\">${escape(\"üí§\")}</span><div><strong class=\"svelte-zb4vbh\">${escape(stats.running_imports)}</strong><small class=\"svelte-zb4vbh\" data-svelte-h=\"svelte-n9j6mc\">Be≈æ√≠</small></div></div> <div class=\"stat svelte-zb4vbh\"><span class=\"icon svelte-zb4vbh\" data-svelte-h=\"svelte-1huqdc4\">üè™</span><div><strong class=\"svelte-zb4vbh\">${escape(shops.length)}</strong><small class=\"svelte-zb4vbh\" data-svelte-h=\"svelte-1xb9grg\">Obchodov</small></div></div></div> <div class=\"card svelte-zb4vbh\"><div class=\"card-head svelte-zb4vbh\"><h2 class=\"svelte-zb4vbh\" data-svelte-h=\"svelte-1u9vj7s\">üì° Feed Importy</h2><button class=\"btn small svelte-zb4vbh\" data-svelte-h=\"svelte-rvukr5\">üîÑ</button></div> ${`<div class=\"loading svelte-zb4vbh\" data-svelte-h=\"svelte-9veoy4\"><div class=\"spinner svelte-zb4vbh\"></div> Naƒç√≠tavam...</div>`}</div></div>  ${``}  ${``}  ${``}  ${``}  ${``}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;AACA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,+hQAA+hQ;AACviQ,EAAE,GAAG,EAAE,CAAC,q5rCAAq5rC;AAC75rC,CAAC;AACI,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,KAAK,GAAG,EAAE;AAChB,EAAE,IAAI,KAAK,GAAG;AACd,IAAI,WAAW,EAAE,CAAC;AAClB,IAAI,YAAY,EAAE,CAAC;AACnB,IAAI,cAAc,EAAE,CAAC;AACrB,IAAI,eAAe,EAAE;AACrB,GAAG;AACH,EAAE,SAAS,CAAC,MAAM;AAClB,EAAE,CAAC,CAAC;AACJ,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;AACvB,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,kCAAkC,EAAE,QAAQ,CAAC,KAAK,GAAG,CAAC,uCAAuC,CAAC,EAAE,EAAE,CAAC,gCAAgC,CAAC,EAAE,EAAE,CAAC,mdAAmd,EAAE,CAAC,CAAC,CAAC,6KAA6K,EAAE,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,2OAA2O,EAAE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,yGAAyG,EAAE,OAAO,GAAG,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,gBAAgB,CAAC,mCAAmC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,0CAA0C,EAAE,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,yOAAyO,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,kVAAkV,EAAE,CAAC,6HAA6H,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AACzoE,CAAC;;;;"}